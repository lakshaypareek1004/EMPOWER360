function ZS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function ek(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lp={exports:{}},nc={},Mp={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function tk(){if(ox)return Oe;ox=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function N(F,J,ue){this.props=F,this.context=J,this.refs=P,this.updater=ue||E}N.prototype.isReactComponent={},N.prototype.setState=function(F,J){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,J,"setState")},N.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function B(){}B.prototype=N.prototype;function $(F,J,ue){this.props=F,this.context=J,this.refs=P,this.updater=ue||E}var z=$.prototype=new B;z.constructor=$,k(z,N.prototype),z.isPureReactComponent=!0;var G=Array.isArray,ie=Object.prototype.hasOwnProperty,Z={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(F,J,ue){var Te,Re={},Le=null,Ie=null;if(J!=null)for(Te in J.ref!==void 0&&(Ie=J.ref),J.key!==void 0&&(Le=""+J.key),J)ie.call(J,Te)&&!V.hasOwnProperty(Te)&&(Re[Te]=J[Te]);var Fe=arguments.length-2;if(Fe===1)Re.children=ue;else if(1<Fe){for(var Be=Array(Fe),Ze=0;Ze<Fe;Ze++)Be[Ze]=arguments[Ze+2];Re.children=Be}if(F&&F.defaultProps)for(Te in Fe=F.defaultProps,Fe)Re[Te]===void 0&&(Re[Te]=Fe[Te]);return{$$typeof:t,type:F,key:Le,ref:Ie,props:Re,_owner:Z.current}}function R(F,J){return{$$typeof:t,type:F.type,key:J,ref:F.ref,props:F.props,_owner:F._owner}}function A(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function L(F){var J={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ue){return J[ue]})}var M=/\/+/g;function C(F,J){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):J.toString(36)}function se(F,J,ue,Te,Re){var Le=typeof F;(Le==="undefined"||Le==="boolean")&&(F=null);var Ie=!1;if(F===null)Ie=!0;else switch(Le){case"string":case"number":Ie=!0;break;case"object":switch(F.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=F,Re=Re(Ie),F=Te===""?"."+C(Ie,0):Te,G(Re)?(ue="",F!=null&&(ue=F.replace(M,"$&/")+"/"),se(Re,J,ue,"",function(Ze){return Ze})):Re!=null&&(A(Re)&&(Re=R(Re,ue+(!Re.key||Ie&&Ie.key===Re.key?"":(""+Re.key).replace(M,"$&/")+"/")+F)),J.push(Re)),1;if(Ie=0,Te=Te===""?".":Te+":",G(F))for(var Fe=0;Fe<F.length;Fe++){Le=F[Fe];var Be=Te+C(Le,Fe);Ie+=se(Le,J,ue,Be,Re)}else if(Be=b(F),typeof Be=="function")for(F=Be.call(F),Fe=0;!(Le=F.next()).done;)Le=Le.value,Be=Te+C(Le,Fe++),Ie+=se(Le,J,ue,Be,Re);else if(Le==="object")throw J=String(F),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Ie}function ge(F,J,ue){if(F==null)return F;var Te=[],Re=0;return se(F,Te,"","",function(Le){return J.call(ue,Le,Re++)}),Te}function ce(F){if(F._status===-1){var J=F._result;J=J(),J.then(function(ue){(F._status===0||F._status===-1)&&(F._status=1,F._result=ue)},function(ue){(F._status===0||F._status===-1)&&(F._status=2,F._result=ue)}),F._status===-1&&(F._status=0,F._result=J)}if(F._status===1)return F._result.default;throw F._result}var Ce={current:null},Y={transition:null},fe={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Y,ReactCurrentOwner:Z};function de(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:ge,forEach:function(F,J,ue){ge(F,function(){J.apply(this,arguments)},ue)},count:function(F){var J=0;return ge(F,function(){J++}),J},toArray:function(F){return ge(F,function(J){return J})||[]},only:function(F){if(!A(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Oe.Component=N,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=$,Oe.StrictMode=r,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Oe.act=de,Oe.cloneElement=function(F,J,ue){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Te=k({},F.props),Re=F.key,Le=F.ref,Ie=F._owner;if(J!=null){if(J.ref!==void 0&&(Le=J.ref,Ie=Z.current),J.key!==void 0&&(Re=""+J.key),F.type&&F.type.defaultProps)var Fe=F.type.defaultProps;for(Be in J)ie.call(J,Be)&&!V.hasOwnProperty(Be)&&(Te[Be]=J[Be]===void 0&&Fe!==void 0?Fe[Be]:J[Be])}var Be=arguments.length-2;if(Be===1)Te.children=ue;else if(1<Be){Fe=Array(Be);for(var Ze=0;Ze<Be;Ze++)Fe[Ze]=arguments[Ze+2];Te.children=Fe}return{$$typeof:t,type:F.type,key:Re,ref:Le,props:Te,_owner:Ie}},Oe.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Oe.createElement=I,Oe.createFactory=function(F){var J=I.bind(null,F);return J.type=F,J},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(F){return{$$typeof:d,render:F}},Oe.isValidElement=A,Oe.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ce}},Oe.memo=function(F,J){return{$$typeof:m,type:F,compare:J===void 0?null:J}},Oe.startTransition=function(F){var J=Y.transition;Y.transition={};try{F()}finally{Y.transition=J}},Oe.unstable_act=de,Oe.useCallback=function(F,J){return Ce.current.useCallback(F,J)},Oe.useContext=function(F){return Ce.current.useContext(F)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(F){return Ce.current.useDeferredValue(F)},Oe.useEffect=function(F,J){return Ce.current.useEffect(F,J)},Oe.useId=function(){return Ce.current.useId()},Oe.useImperativeHandle=function(F,J,ue){return Ce.current.useImperativeHandle(F,J,ue)},Oe.useInsertionEffect=function(F,J){return Ce.current.useInsertionEffect(F,J)},Oe.useLayoutEffect=function(F,J){return Ce.current.useLayoutEffect(F,J)},Oe.useMemo=function(F,J){return Ce.current.useMemo(F,J)},Oe.useReducer=function(F,J,ue){return Ce.current.useReducer(F,J,ue)},Oe.useRef=function(F){return Ce.current.useRef(F)},Oe.useState=function(F){return Ce.current.useState(F)},Oe.useSyncExternalStore=function(F,J,ue){return Ce.current.useSyncExternalStore(F,J,ue)},Oe.useTransition=function(){return Ce.current.useTransition()},Oe.version="18.3.1",Oe}var ax;function xg(){return ax||(ax=1,Mp.exports=tk()),Mp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx;function nk(){if(lx)return nc;lx=1;var t=xg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,f,m){var y,w={},b=null,E=null;m!==void 0&&(b=""+m),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(E=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(w[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:e,type:d,key:b,ref:E,props:w,_owner:s.current}}return nc.Fragment=n,nc.jsx=l,nc.jsxs=l,nc}var cx;function rk(){return cx||(cx=1,Lp.exports=nk()),Lp.exports}var p=rk(),D=xg();const wg=ek(D),ik=ZS({__proto__:null,default:wg},[D]);var Td={},Op={exports:{}},bn={},Fp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function sk(){return ux||(ux=1,(function(t){function e(Y,fe){var de=Y.length;Y.push(fe);e:for(;0<de;){var F=de-1>>>1,J=Y[F];if(0<s(J,fe))Y[F]=fe,Y[de]=J,de=F;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var fe=Y[0],de=Y.pop();if(de!==fe){Y[0]=de;e:for(var F=0,J=Y.length,ue=J>>>1;F<ue;){var Te=2*(F+1)-1,Re=Y[Te],Le=Te+1,Ie=Y[Le];if(0>s(Re,de))Le<J&&0>s(Ie,Re)?(Y[F]=Ie,Y[Le]=de,F=Le):(Y[F]=Re,Y[Te]=de,F=Te);else if(Le<J&&0>s(Ie,de))Y[F]=Ie,Y[Le]=de,F=Le;else break e}}return fe}function s(Y,fe){var de=Y.sortIndex-fe.sortIndex;return de!==0?de:Y.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],m=[],y=1,w=null,b=3,E=!1,k=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(Y){for(var fe=n(m);fe!==null;){if(fe.callback===null)r(m);else if(fe.startTime<=Y)r(m),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=n(m)}}function G(Y){if(P=!1,z(Y),!k)if(n(f)!==null)k=!0,ce(ie);else{var fe=n(m);fe!==null&&Ce(G,fe.startTime-Y)}}function ie(Y,fe){k=!1,P&&(P=!1,B(I),I=-1),E=!0;var de=b;try{for(z(fe),w=n(f);w!==null&&(!(w.expirationTime>fe)||Y&&!L());){var F=w.callback;if(typeof F=="function"){w.callback=null,b=w.priorityLevel;var J=F(w.expirationTime<=fe);fe=t.unstable_now(),typeof J=="function"?w.callback=J:w===n(f)&&r(f),z(fe)}else r(f);w=n(f)}if(w!==null)var ue=!0;else{var Te=n(m);Te!==null&&Ce(G,Te.startTime-fe),ue=!1}return ue}finally{w=null,b=de,E=!1}}var Z=!1,V=null,I=-1,R=5,A=-1;function L(){return!(t.unstable_now()-A<R)}function M(){if(V!==null){var Y=t.unstable_now();A=Y;var fe=!0;try{fe=V(!0,Y)}finally{fe?C():(Z=!1,V=null)}}else Z=!1}var C;if(typeof $=="function")C=function(){$(M)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ge=se.port2;se.port1.onmessage=M,C=function(){ge.postMessage(null)}}else C=function(){N(M,0)};function ce(Y){V=Y,Z||(Z=!0,C())}function Ce(Y,fe){I=N(function(){Y(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){k||E||(k=!0,ce(ie))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var fe=3;break;default:fe=b}var de=b;b=fe;try{return Y()}finally{b=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,fe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=b;b=Y;try{return fe()}finally{b=de}},t.unstable_scheduleCallback=function(Y,fe,de){var F=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?F+de:F):de=F,Y){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=de+J,Y={id:y++,callback:fe,priorityLevel:Y,startTime:de,expirationTime:J,sortIndex:-1},de>F?(Y.sortIndex=de,e(m,Y),n(f)===null&&Y===n(m)&&(P?(B(I),I=-1):P=!0,Ce(G,de-F))):(Y.sortIndex=J,e(f,Y),k||E||(k=!0,ce(ie))),Y},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Y){var fe=b;return function(){var de=b;b=fe;try{return Y.apply(this,arguments)}finally{b=de}}}})(Up)),Up}var dx;function ok(){return dx||(dx=1,Fp.exports=sk()),Fp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function ak(){if(hx)return bn;hx=1;var t=xg(),e=ok();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function b(i){return f.call(w,i)?!0:f.call(y,i)?!1:m.test(i)?w[i]=!0:(y[i]=!0,!1)}function E(i,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,c,h){if(o===null||typeof o>"u"||E(i,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(i,o,c,h,g,x,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=x,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new P(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];N[o]=new P(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new P(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new P(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new P(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new P(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new P(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new P(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new P(i,5,!1,i.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function $(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(B,$);N[o]=new P(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(B,$);N[o]=new P(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(B,$);N[o]=new P(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new P(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new P(i,1,!1,i.toLowerCase(),null,!0,!0)});function z(i,o,c,h){var g=N.hasOwnProperty(o)?N[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,c,g,h)&&(c=null),h||g===null?b(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):g.mustUseProperty?i[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,h=g.attributeNamespace,c===null?i.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?i.setAttributeNS(h,o,c):i.setAttribute(o,c))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),Z=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),Y=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var de=Object.assign,F;function J(i){if(F===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var ue=!1;function Te(i,o){if(!i||ue)return"";ue=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var h=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){h=K}i.call(o.prototype)}else{try{throw Error()}catch(K){h=K}i()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),x=h.stack.split(`
`),T=g.length-1,j=x.length-1;1<=T&&0<=j&&g[T]!==x[j];)j--;for(;1<=T&&0<=j;T--,j--)if(g[T]!==x[j]){if(T!==1||j!==1)do if(T--,j--,0>j||g[T]!==x[j]){var O=`
`+g[T].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=T&&0<=j);break}}}finally{ue=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?J(i):""}function Re(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=Te(i.type,!1),i;case 11:return i=Te(i.type.render,!1),i;case 1:return i=Te(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case Z:return"Portal";case R:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case se:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case A:return(i._context.displayName||"Context")+".Provider";case M:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ge:return o=i.displayName||null,o!==null?o:Le(i.type)||"Memo";case ce:o=i._payload,i=i._init;try{return Le(i(o))}catch{}}return null}function Ie(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Fe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Be(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ze(i){var o=Be(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,x.call(this,T)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function yt(i){i._valueTracker||(i._valueTracker=Ze(i))}function Ln(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=Be(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function ji(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function As(i,o){var c=o.checked;return de({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function jo(i,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Fe(o.value!=null?o.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ll(i,o){o=o.checked,o!=null&&z(i,"checked",o,!1)}function cl(i,o){ll(i,o);var c=Fe(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Vo(i,o.type,c):o.hasOwnProperty("defaultValue")&&Vo(i,o.type,Fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function lu(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Vo(i,o,c){(o!=="number"||ji(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Hr=Array.isArray;function Gr(i,o,c,h){if(i=i.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=o.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Fe(c),o=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function ul(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return de({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Do(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Hr(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:Fe(c)}}function Lo(i,o){var c=Fe(o.value),h=Fe(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function dl(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Pt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Pt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Kr,hl=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,g){MSApp.execUnsafeLocalFunction(function(){return i(o,c,h,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Kr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Vi(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ns=["Webkit","ms","Moz","O"];Object.keys(Ps).forEach(function(i){Ns.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ps[o]=Ps[i]})});function fl(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Ps.hasOwnProperty(i)&&Ps[i]?(""+o).trim():o+"px"}function pl(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=fl(c,o[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,g):i[c]=g}}var ml=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(i,o){if(o){if(ml[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function yl(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=null;function Mo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Oo=null,Mn=null,_r=null;function Fo(i){if(i=Bl(i)){if(typeof Oo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Ou(o),Oo(i.stateNode,i.type,o))}}function br(i){Mn?_r?_r.push(i):_r=[i]:Mn=i}function vl(){if(Mn){var i=Mn,o=_r;if(_r=Mn=null,Fo(i),o)for(i=0;i<o.length;i++)Fo(o[i])}}function js(i,o){return i(o)}function xl(){}var Qr=!1;function wl(i,o,c){if(Qr)return i(o,c);Qr=!0;try{return js(i,o,c)}finally{Qr=!1,(Mn!==null||_r!==null)&&(xl(),vl())}}function vt(i,o){var c=i.stateNode;if(c===null)return null;var h=Ou(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Uo=!1;if(d)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Uo=!1}function Vs(i,o,c,h,g,x,T,j,O){var K=Array.prototype.slice.call(arguments,3);try{o.apply(c,K)}catch(ne){this.onError(ne)}}var Ds=!1,Bo=null,Jn=!1,_l=null,uf={onError:function(i){Ds=!0,Bo=i}};function zo(i,o,c,h,g,x,T,j,O){Ds=!1,Bo=null,Vs.apply(uf,arguments)}function cu(i,o,c,h,g,x,T,j,O){if(zo.apply(this,arguments),Ds){if(Ds){var K=Bo;Ds=!1,Bo=null}else throw Error(n(198));Jn||(Jn=!0,_l=K)}}function Zn(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Ls(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function er(i){if(Zn(i)!==i)throw Error(n(188))}function uu(i){var o=i.alternate;if(!o){if(o=Zn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,h=o;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return er(g),i;if(x===h)return er(g),o;x=x.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=x;else{for(var T=!1,j=g.child;j;){if(j===c){T=!0,c=g,h=x;break}if(j===h){T=!0,h=g,c=x;break}j=j.sibling}if(!T){for(j=x.child;j;){if(j===c){T=!0,c=x,h=g;break}if(j===h){T=!0,h=x,c=g;break}j=j.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function bl(i){return i=uu(i),i!==null?$o(i):null}function $o(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=$o(i);if(o!==null)return o;i=i.sibling}return null}var qo=e.unstable_scheduleCallback,Tl=e.unstable_cancelCallback,du=e.unstable_shouldYield,df=e.unstable_requestPaint,tt=e.unstable_now,hu=e.unstable_getCurrentPriorityLevel,Ms=e.unstable_ImmediatePriority,Di=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,El=e.unstable_LowPriority,fu=e.unstable_IdlePriority,Os=null,Sn=null;function pu(i){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Os,i,void 0,(i.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:gu,Il=Math.log,mu=Math.LN2;function gu(i){return i>>>=0,i===0?32:31-(Il(i)/mu|0)|0}var Wo=64,Ho=4194304;function Li(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Fs(i,o){var c=i.pendingLanes;if(c===0)return 0;var h=0,g=i.suspendedLanes,x=i.pingedLanes,T=c&268435455;if(T!==0){var j=T&~g;j!==0?h=Li(j):(x&=T,x!==0&&(h=Li(x)))}else T=c&~g,T!==0?h=Li(T):x!==0&&(h=Li(x));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,x=o&-o,g>=x||g===16&&(x&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)c=31-ln(o),g=1<<c,h|=i[c],o&=~g;return h}function hf(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,x=i.pendingLanes;0<x;){var T=31-ln(x),j=1<<T,O=g[T];O===-1?((j&c)===0||(j&h)!==0)&&(g[T]=hf(j,o)):O<=o&&(i.expiredLanes|=j),x&=~j}}function kn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Us(){var i=Wo;return Wo<<=1,(Wo&4194240)===0&&(Wo=64),i}function Mi(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Oi(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-ln(o),i[o]=c}function et(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var g=31-ln(c),x=1<<g;o[g]=0,h[g]=-1,i[g]=-1,c&=~x}}function Fi(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-ln(c),g=1<<h;g&o|i[h]&o&&(i[h]|=o),c&=~g}}var ze=0;function Ui(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var yu,Go,vu,xu,wu,Sl=!1,Tr=[],zt=null,tr=null,nr=null,Bi=new Map,Fn=new Map,Er=[],ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(i,o){switch(i){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Bi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(o.pointerId)}}function mn(i,o,c,h,g,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[g]},o!==null&&(o=Bl(o),o!==null&&Go(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function pf(i,o,c,h,g){switch(o){case"focusin":return zt=mn(zt,i,o,c,h,g),!0;case"dragenter":return tr=mn(tr,i,o,c,h,g),!0;case"mouseover":return nr=mn(nr,i,o,c,h,g),!0;case"pointerover":var x=g.pointerId;return Bi.set(x,mn(Bi.get(x)||null,i,o,c,h,g)),!0;case"gotpointercapture":return x=g.pointerId,Fn.set(x,mn(Fn.get(x)||null,i,o,c,h,g)),!0}return!1}function bu(i){var o=Ws(i.target);if(o!==null){var c=Zn(o);if(c!==null){if(o=c.tag,o===13){if(o=Ls(c),o!==null){i.blockedOn=o,wu(i.priority,function(){vu(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Ko(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Rs=h,c.target.dispatchEvent(h),Rs=null}else return o=Bl(c),o!==null&&Go(o),i.blockedOn=c,!1;o.shift()}return!0}function Bs(i,o,c){Xr(i)&&c.delete(o)}function Tu(){Sl=!1,zt!==null&&Xr(zt)&&(zt=null),tr!==null&&Xr(tr)&&(tr=null),nr!==null&&Xr(nr)&&(nr=null),Bi.forEach(Bs),Fn.forEach(Bs)}function rr(i,o){i.blockedOn===o&&(i.blockedOn=null,Sl||(Sl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tu)))}function ir(i){function o(g){return rr(g,i)}if(0<Tr.length){rr(Tr[0],i);for(var c=1;c<Tr.length;c++){var h=Tr[c];h.blockedOn===i&&(h.blockedOn=null)}}for(zt!==null&&rr(zt,i),tr!==null&&rr(tr,i),nr!==null&&rr(nr,i),Bi.forEach(o),Fn.forEach(o),c=0;c<Er.length;c++)h=Er[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<Er.length&&(c=Er[0],c.blockedOn===null);)bu(c),c.blockedOn===null&&Er.shift()}var Jr=G.ReactCurrentBatchConfig,zi=!0;function at(i,o,c,h){var g=ze,x=Jr.transition;Jr.transition=null;try{ze=1,kl(i,o,c,h)}finally{ze=g,Jr.transition=x}}function mf(i,o,c,h){var g=ze,x=Jr.transition;Jr.transition=null;try{ze=4,kl(i,o,c,h)}finally{ze=g,Jr.transition=x}}function kl(i,o,c,h){if(zi){var g=Ko(i,o,c,h);if(g===null)Sf(i,o,h,zs,c),_u(i,h);else if(pf(g,i,o,c,h))h.stopPropagation();else if(_u(i,h),o&4&&-1<ff.indexOf(i)){for(;g!==null;){var x=Bl(g);if(x!==null&&yu(x),x=Ko(i,o,c,h),x===null&&Sf(i,o,h,zs,c),x===g)break;g=x}g!==null&&h.stopPropagation()}else Sf(i,o,h,null,c)}}var zs=null;function Ko(i,o,c,h){if(zs=null,i=Mo(h),i=Ws(i),i!==null)if(o=Zn(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Ls(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return zs=i,null}function Cl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hu()){case Ms:return 1;case Di:return 4;case On:case El:return 16;case fu:return 536870912;default:return 16}default:return 16}}var Cn=null,Qo=null,gn=null;function Al(){if(gn)return gn;var i,o=Qo,c=o.length,h,g="value"in Cn?Cn.value:Cn.textContent,x=g.length;for(i=0;i<c&&o[i]===g[i];i++);var T=c-i;for(h=1;h<=T&&o[c-h]===g[x-h];h++);return gn=g.slice(i,1<h?1-h:void 0)}function Yo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ir(){return!0}function Pl(){return!1}function $t(i){function o(c,h,g,x,T){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(c=i[j],this[j]=c?c(x):x[j]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ir:Pl,this.isPropagationStopped=Pl,this}return de(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),o}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=$t(sr),Sr=de({},sr,{view:0,detail:0}),gf=$t(Sr),Jo,Zr,$i,$s=de({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$i&&($i&&i.type==="mousemove"?(Jo=i.screenX-$i.screenX,Zr=i.screenY-$i.screenY):Zr=Jo=0,$i=i),Jo)},movementY:function(i){return"movementY"in i?i.movementY:Zr}}),Zo=$t($s),Nl=de({},$s,{dataTransfer:0}),Eu=$t(Nl),ea=de({},Sr,{relatedTarget:0}),ta=$t(ea),Iu=de({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),ei=$t(Iu),Su=de({},sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ku=$t(Su),Cu=de({},sr,{data:0}),Rl=$t(Cu),na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Au[i])?!!o[i]:!1}function kr(){return Pu}var u=de({},Sr,{key:function(i){if(i.key){var o=na[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Yo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?cn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(i){return i.type==="keypress"?Yo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=$t(u),_=de({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=$t(_),q=de({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),Q=$t(q),le=de({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=$t(le),Rt=de({},$s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),We=$t(Rt),Mt=[9,13,27,32],It=d&&"CompositionEvent"in window,Un=null;d&&"documentMode"in document&&(Un=document.documentMode);var An=d&&"TextEvent"in window&&!Un,qs=d&&(!It||Un&&8<Un&&11>=Un),ra=" ",ev=!1;function tv(i,o){switch(i){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ia=!1;function YI(i,o){switch(i){case"compositionend":return nv(o);case"keypress":return o.which!==32?null:(ev=!0,ra);case"textInput":return i=o.data,i===ra&&ev?null:i;default:return null}}function XI(i,o){if(ia)return i==="compositionend"||!It&&tv(i,o)?(i=Al(),gn=Qo=Cn=null,ia=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qs&&o.locale!=="ko"?null:o.data;default:return null}}var JI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!JI[i.type]:o==="textarea"}function iv(i,o,c,h){br(h),o=Du(o,"onChange"),0<o.length&&(c=new Xo("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var jl=null,Vl=null;function ZI(i){bv(i,0)}function Nu(i){var o=ca(i);if(Ln(o))return i}function eS(i,o){if(i==="change")return o}var sv=!1;if(d){var yf;if(d){var vf="oninput"in document;if(!vf){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),vf=typeof ov.oninput=="function"}yf=vf}else yf=!1;sv=yf&&(!document.documentMode||9<document.documentMode)}function av(){jl&&(jl.detachEvent("onpropertychange",lv),Vl=jl=null)}function lv(i){if(i.propertyName==="value"&&Nu(Vl)){var o=[];iv(o,Vl,i,Mo(i)),wl(ZI,o)}}function tS(i,o,c){i==="focusin"?(av(),jl=o,Vl=c,jl.attachEvent("onpropertychange",lv)):i==="focusout"&&av()}function nS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nu(Vl)}function rS(i,o){if(i==="click")return Nu(o)}function iS(i,o){if(i==="input"||i==="change")return Nu(o)}function sS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var or=typeof Object.is=="function"?Object.is:sS;function Dl(i,o){if(or(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!f.call(o,g)||!or(i[g],o[g]))return!1}return!0}function cv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uv(i,o){var c=cv(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=cv(c)}}function dv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?dv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function hv(){for(var i=window,o=ji();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=ji(i.document)}return o}function xf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function oS(i){var o=hv(),c=i.focusedElem,h=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&dv(c.ownerDocument.documentElement,c)){if(h!==null&&xf(c)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=c.textContent.length,x=Math.min(h.start,g);h=h.end===void 0?x:Math.min(h.end,g),!i.extend&&x>h&&(g=h,h=x,x=g),g=uv(c,x);var T=uv(c,h);g&&T&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),x>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var aS=d&&"documentMode"in document&&11>=document.documentMode,sa=null,wf=null,Ll=null,_f=!1;function fv(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;_f||sa==null||sa!==ji(h)||(h=sa,"selectionStart"in h&&xf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ll&&Dl(Ll,h)||(Ll=h,h=Du(wf,"onSelect"),0<h.length&&(o=new Xo("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=sa)))}function Ru(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var oa={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},bf={},pv={};d&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function ju(i){if(bf[i])return bf[i];if(!oa[i])return i;var o=oa[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in pv)return bf[i]=o[c];return i}var mv=ju("animationend"),gv=ju("animationiteration"),yv=ju("animationstart"),vv=ju("transitionend"),xv=new Map,wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(i,o){xv.set(i,o),a(o,[i])}for(var Tf=0;Tf<wv.length;Tf++){var Ef=wv[Tf],lS=Ef.toLowerCase(),cS=Ef[0].toUpperCase()+Ef.slice(1);qi(lS,"on"+cS)}qi(mv,"onAnimationEnd"),qi(gv,"onAnimationIteration"),qi(yv,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(vv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function _v(i,o,c){var h=i.type||"unknown-event";i.currentTarget=c,cu(h,o,void 0,i),i.currentTarget=null}function bv(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],g=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var T=h.length-1;0<=T;T--){var j=h[T],O=j.instance,K=j.currentTarget;if(j=j.listener,O!==x&&g.isPropagationStopped())break e;_v(g,j,K),x=O}else for(T=0;T<h.length;T++){if(j=h[T],O=j.instance,K=j.currentTarget,j=j.listener,O!==x&&g.isPropagationStopped())break e;_v(g,j,K),x=O}}}if(Jn)throw i=_l,Jn=!1,_l=null,i}function rt(i,o){var c=o[Rf];c===void 0&&(c=o[Rf]=new Set);var h=i+"__bubble";c.has(h)||(Tv(o,i,2,!1),c.add(h))}function If(i,o,c){var h=0;o&&(h|=4),Tv(c,i,h,o)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Ol(i){if(!i[Vu]){i[Vu]=!0,r.forEach(function(c){c!=="selectionchange"&&(uS.has(c)||If(c,!1,i),If(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Vu]||(o[Vu]=!0,If("selectionchange",!1,o))}}function Tv(i,o,c,h){switch(Cl(o)){case 1:var g=at;break;case 4:g=mf;break;default:g=kl}c=g.bind(null,o,c,i),g=void 0,!Uo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(o,c,{capture:!0,passive:g}):i.addEventListener(o,c,!0):g!==void 0?i.addEventListener(o,c,{passive:g}):i.addEventListener(o,c,!1)}function Sf(i,o,c,h,g){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var j=h.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(T===4)for(T=h.return;T!==null;){var O=T.tag;if((O===3||O===4)&&(O=T.stateNode.containerInfo,O===g||O.nodeType===8&&O.parentNode===g))return;T=T.return}for(;j!==null;){if(T=Ws(j),T===null)return;if(O=T.tag,O===5||O===6){h=x=T;continue e}j=j.parentNode}}h=h.return}wl(function(){var K=x,ne=Mo(c),oe=[];e:{var te=xv.get(i);if(te!==void 0){var he=Xo,ye=i;switch(i){case"keypress":if(Yo(c)===0)break e;case"keydown":case"keyup":he=v;break;case"focusin":ye="focus",he=ta;break;case"focusout":ye="blur",he=ta;break;case"beforeblur":case"afterblur":he=ta;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Q;break;case mv:case gv:case yv:he=ei;break;case vv:he=Xe;break;case"scroll":he=gf;break;case"wheel":he=We;break;case"copy":case"cut":case"paste":he=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=S}var we=(o&4)!==0,xt=!we&&i==="scroll",W=we?te!==null?te+"Capture":null:te;we=[];for(var U=K,H;U!==null;){H=U;var ae=H.stateNode;if(H.tag===5&&ae!==null&&(H=ae,W!==null&&(ae=vt(U,W),ae!=null&&we.push(Fl(U,ae,H)))),xt)break;U=U.return}0<we.length&&(te=new he(te,ye,null,c,ne),oe.push({event:te,listeners:we}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",te&&c!==Rs&&(ye=c.relatedTarget||c.fromElement)&&(Ws(ye)||ye[ti]))break e;if((he||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,he?(ye=c.relatedTarget||c.toElement,he=K,ye=ye?Ws(ye):null,ye!==null&&(xt=Zn(ye),ye!==xt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(he=null,ye=K),he!==ye)){if(we=Zo,ae="onMouseLeave",W="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(we=S,ae="onPointerLeave",W="onPointerEnter",U="pointer"),xt=he==null?te:ca(he),H=ye==null?te:ca(ye),te=new we(ae,U+"leave",he,c,ne),te.target=xt,te.relatedTarget=H,ae=null,Ws(ne)===K&&(we=new we(W,U+"enter",ye,c,ne),we.target=H,we.relatedTarget=xt,ae=we),xt=ae,he&&ye)t:{for(we=he,W=ye,U=0,H=we;H;H=aa(H))U++;for(H=0,ae=W;ae;ae=aa(ae))H++;for(;0<U-H;)we=aa(we),U--;for(;0<H-U;)W=aa(W),H--;for(;U--;){if(we===W||W!==null&&we===W.alternate)break t;we=aa(we),W=aa(W)}we=null}else we=null;he!==null&&Ev(oe,te,he,we,!1),ye!==null&&xt!==null&&Ev(oe,xt,ye,we,!0)}}e:{if(te=K?ca(K):window,he=te.nodeName&&te.nodeName.toLowerCase(),he==="select"||he==="input"&&te.type==="file")var be=eS;else if(rv(te))if(sv)be=iS;else{be=nS;var Se=tS}else(he=te.nodeName)&&he.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(be=rS);if(be&&(be=be(i,K))){iv(oe,be,c,ne);break e}Se&&Se(i,te,K),i==="focusout"&&(Se=te._wrapperState)&&Se.controlled&&te.type==="number"&&Vo(te,"number",te.value)}switch(Se=K?ca(K):window,i){case"focusin":(rv(Se)||Se.contentEditable==="true")&&(sa=Se,wf=K,Ll=null);break;case"focusout":Ll=wf=sa=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,fv(oe,c,ne);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":fv(oe,c,ne)}var ke;if(It)e:{switch(i){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ia?tv(i,c)&&(Ne="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ne="onCompositionStart");Ne&&(qs&&c.locale!=="ko"&&(ia||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ia&&(ke=Al()):(Cn=ne,Qo="value"in Cn?Cn.value:Cn.textContent,ia=!0)),Se=Du(K,Ne),0<Se.length&&(Ne=new Rl(Ne,i,null,c,ne),oe.push({event:Ne,listeners:Se}),ke?Ne.data=ke:(ke=nv(c),ke!==null&&(Ne.data=ke)))),(ke=An?YI(i,c):XI(i,c))&&(K=Du(K,"onBeforeInput"),0<K.length&&(ne=new Rl("onBeforeInput","beforeinput",null,c,ne),oe.push({event:ne,listeners:K}),ne.data=ke))}bv(oe,o)})}function Fl(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Du(i,o){for(var c=o+"Capture",h=[];i!==null;){var g=i,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=vt(i,c),x!=null&&h.unshift(Fl(i,x,g)),x=vt(i,o),x!=null&&h.push(Fl(i,x,g))),i=i.return}return h}function aa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ev(i,o,c,h,g){for(var x=o._reactName,T=[];c!==null&&c!==h;){var j=c,O=j.alternate,K=j.stateNode;if(O!==null&&O===h)break;j.tag===5&&K!==null&&(j=K,g?(O=vt(c,x),O!=null&&T.unshift(Fl(c,O,j))):g||(O=vt(c,x),O!=null&&T.push(Fl(c,O,j)))),c=c.return}T.length!==0&&i.push({event:o,listeners:T})}var dS=/\r\n?/g,hS=/\u0000|\uFFFD/g;function Iv(i){return(typeof i=="string"?i:""+i).replace(dS,`
`).replace(hS,"")}function Lu(i,o,c){if(o=Iv(o),Iv(i)!==o&&c)throw Error(n(425))}function Mu(){}var kf=null,Cf=null;function Af(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Pf=typeof setTimeout=="function"?setTimeout:void 0,fS=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(i){return Sv.resolve(null).then(i).catch(mS)}:Pf;function mS(i){setTimeout(function(){throw i})}function Nf(i,o){var c=o,h=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){i.removeChild(g),ir(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);ir(o)}function Wi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function kv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var la=Math.random().toString(36).slice(2),Cr="__reactFiber$"+la,Ul="__reactProps$"+la,ti="__reactContainer$"+la,Rf="__reactEvents$"+la,gS="__reactListeners$"+la,yS="__reactHandles$"+la;function Ws(i){var o=i[Cr];if(o)return o;for(var c=i.parentNode;c;){if(o=c[ti]||c[Cr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=kv(i);i!==null;){if(c=i[Cr])return c;i=kv(i)}return o}i=c,c=i.parentNode}return null}function Bl(i){return i=i[Cr]||i[ti],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ca(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ou(i){return i[Ul]||null}var jf=[],ua=-1;function Hi(i){return{current:i}}function it(i){0>ua||(i.current=jf[ua],jf[ua]=null,ua--)}function nt(i,o){ua++,jf[ua]=i.current,i.current=o}var Gi={},Yt=Hi(Gi),yn=Hi(!1),Hs=Gi;function da(i,o){var c=i.type.contextTypes;if(!c)return Gi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in c)g[x]=o[x];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function vn(i){return i=i.childContextTypes,i!=null}function Fu(){it(yn),it(Yt)}function Cv(i,o,c){if(Yt.current!==Gi)throw Error(n(168));nt(Yt,o),nt(yn,c)}function Av(i,o,c){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(n(108,Ie(i)||"Unknown",g));return de({},c,h)}function Uu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Gi,Hs=Yt.current,nt(Yt,i),nt(yn,yn.current),!0}function Pv(i,o,c){var h=i.stateNode;if(!h)throw Error(n(169));c?(i=Av(i,o,Hs),h.__reactInternalMemoizedMergedChildContext=i,it(yn),it(Yt),nt(Yt,i)):it(yn),nt(yn,c)}var ni=null,Bu=!1,Vf=!1;function Nv(i){ni===null?ni=[i]:ni.push(i)}function vS(i){Bu=!0,Nv(i)}function Ki(){if(!Vf&&ni!==null){Vf=!0;var i=0,o=ze;try{var c=ni;for(ze=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}ni=null,Bu=!1}catch(g){throw ni!==null&&(ni=ni.slice(i+1)),qo(Ms,Ki),g}finally{ze=o,Vf=!1}}return null}var ha=[],fa=0,zu=null,$u=0,Bn=[],zn=0,Gs=null,ri=1,ii="";function Ks(i,o){ha[fa++]=$u,ha[fa++]=zu,zu=i,$u=o}function Rv(i,o,c){Bn[zn++]=ri,Bn[zn++]=ii,Bn[zn++]=Gs,Gs=i;var h=ri;i=ii;var g=32-ln(h)-1;h&=~(1<<g),c+=1;var x=32-ln(o)+g;if(30<x){var T=g-g%5;x=(h&(1<<T)-1).toString(32),h>>=T,g-=T,ri=1<<32-ln(o)+g|c<<g|h,ii=x+i}else ri=1<<x|c<<g|h,ii=i}function Df(i){i.return!==null&&(Ks(i,1),Rv(i,1,0))}function Lf(i){for(;i===zu;)zu=ha[--fa],ha[fa]=null,$u=ha[--fa],ha[fa]=null;for(;i===Gs;)Gs=Bn[--zn],Bn[zn]=null,ii=Bn[--zn],Bn[zn]=null,ri=Bn[--zn],Bn[zn]=null}var Pn=null,Nn=null,lt=!1,ar=null;function jv(i,o){var c=Hn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function Vv(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Pn=i,Nn=Wi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Pn=i,Nn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Gs!==null?{id:ri,overflow:ii}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Hn(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Pn=i,Nn=null,!0):!1;default:return!1}}function Mf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Of(i){if(lt){var o=Nn;if(o){var c=o;if(!Vv(i,o)){if(Mf(i))throw Error(n(418));o=Wi(c.nextSibling);var h=Pn;o&&Vv(i,o)?jv(h,c):(i.flags=i.flags&-4097|2,lt=!1,Pn=i)}}else{if(Mf(i))throw Error(n(418));i.flags=i.flags&-4097|2,lt=!1,Pn=i}}}function Dv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Pn=i}function qu(i){if(i!==Pn)return!1;if(!lt)return Dv(i),lt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Af(i.type,i.memoizedProps)),o&&(o=Nn)){if(Mf(i))throw Lv(),Error(n(418));for(;o;)jv(i,o),o=Wi(o.nextSibling)}if(Dv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){Nn=Wi(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}Nn=null}}else Nn=Pn?Wi(i.stateNode.nextSibling):null;return!0}function Lv(){for(var i=Nn;i;)i=Wi(i.nextSibling)}function pa(){Nn=Pn=null,lt=!1}function Ff(i){ar===null?ar=[i]:ar.push(i)}var xS=G.ReactCurrentBatchConfig;function zl(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,i));var g=h,x=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(T){var j=g.refs;T===null?delete j[x]:j[x]=T},o._stringRef=x,o)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function Wu(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Mv(i){var o=i._init;return o(i._payload)}function Ov(i){function o(W,U){if(i){var H=W.deletions;H===null?(W.deletions=[U],W.flags|=16):H.push(U)}}function c(W,U){if(!i)return null;for(;U!==null;)o(W,U),U=U.sibling;return null}function h(W,U){for(W=new Map;U!==null;)U.key!==null?W.set(U.key,U):W.set(U.index,U),U=U.sibling;return W}function g(W,U){return W=ns(W,U),W.index=0,W.sibling=null,W}function x(W,U,H){return W.index=H,i?(H=W.alternate,H!==null?(H=H.index,H<U?(W.flags|=2,U):H):(W.flags|=2,U)):(W.flags|=1048576,U)}function T(W){return i&&W.alternate===null&&(W.flags|=2),W}function j(W,U,H,ae){return U===null||U.tag!==6?(U=Pp(H,W.mode,ae),U.return=W,U):(U=g(U,H),U.return=W,U)}function O(W,U,H,ae){var be=H.type;return be===V?ne(W,U,H.props.children,ae,H.key):U!==null&&(U.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ce&&Mv(be)===U.type)?(ae=g(U,H.props),ae.ref=zl(W,U,H),ae.return=W,ae):(ae=md(H.type,H.key,H.props,null,W.mode,ae),ae.ref=zl(W,U,H),ae.return=W,ae)}function K(W,U,H,ae){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Np(H,W.mode,ae),U.return=W,U):(U=g(U,H.children||[]),U.return=W,U)}function ne(W,U,H,ae,be){return U===null||U.tag!==7?(U=no(H,W.mode,ae,be),U.return=W,U):(U=g(U,H),U.return=W,U)}function oe(W,U,H){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Pp(""+U,W.mode,H),U.return=W,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ie:return H=md(U.type,U.key,U.props,null,W.mode,H),H.ref=zl(W,null,U),H.return=W,H;case Z:return U=Np(U,W.mode,H),U.return=W,U;case ce:var ae=U._init;return oe(W,ae(U._payload),H)}if(Hr(U)||fe(U))return U=no(U,W.mode,H,null),U.return=W,U;Wu(W,U)}return null}function te(W,U,H,ae){var be=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return be!==null?null:j(W,U,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ie:return H.key===be?O(W,U,H,ae):null;case Z:return H.key===be?K(W,U,H,ae):null;case ce:return be=H._init,te(W,U,be(H._payload),ae)}if(Hr(H)||fe(H))return be!==null?null:ne(W,U,H,ae,null);Wu(W,H)}return null}function he(W,U,H,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return W=W.get(H)||null,j(U,W,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ie:return W=W.get(ae.key===null?H:ae.key)||null,O(U,W,ae,be);case Z:return W=W.get(ae.key===null?H:ae.key)||null,K(U,W,ae,be);case ce:var Se=ae._init;return he(W,U,H,Se(ae._payload),be)}if(Hr(ae)||fe(ae))return W=W.get(H)||null,ne(U,W,ae,be,null);Wu(U,ae)}return null}function ye(W,U,H,ae){for(var be=null,Se=null,ke=U,Ne=U=0,Ut=null;ke!==null&&Ne<H.length;Ne++){ke.index>Ne?(Ut=ke,ke=null):Ut=ke.sibling;var Qe=te(W,ke,H[Ne],ae);if(Qe===null){ke===null&&(ke=Ut);break}i&&ke&&Qe.alternate===null&&o(W,ke),U=x(Qe,U,Ne),Se===null?be=Qe:Se.sibling=Qe,Se=Qe,ke=Ut}if(Ne===H.length)return c(W,ke),lt&&Ks(W,Ne),be;if(ke===null){for(;Ne<H.length;Ne++)ke=oe(W,H[Ne],ae),ke!==null&&(U=x(ke,U,Ne),Se===null?be=ke:Se.sibling=ke,Se=ke);return lt&&Ks(W,Ne),be}for(ke=h(W,ke);Ne<H.length;Ne++)Ut=he(ke,W,Ne,H[Ne],ae),Ut!==null&&(i&&Ut.alternate!==null&&ke.delete(Ut.key===null?Ne:Ut.key),U=x(Ut,U,Ne),Se===null?be=Ut:Se.sibling=Ut,Se=Ut);return i&&ke.forEach(function(rs){return o(W,rs)}),lt&&Ks(W,Ne),be}function we(W,U,H,ae){var be=fe(H);if(typeof be!="function")throw Error(n(150));if(H=be.call(H),H==null)throw Error(n(151));for(var Se=be=null,ke=U,Ne=U=0,Ut=null,Qe=H.next();ke!==null&&!Qe.done;Ne++,Qe=H.next()){ke.index>Ne?(Ut=ke,ke=null):Ut=ke.sibling;var rs=te(W,ke,Qe.value,ae);if(rs===null){ke===null&&(ke=Ut);break}i&&ke&&rs.alternate===null&&o(W,ke),U=x(rs,U,Ne),Se===null?be=rs:Se.sibling=rs,Se=rs,ke=Ut}if(Qe.done)return c(W,ke),lt&&Ks(W,Ne),be;if(ke===null){for(;!Qe.done;Ne++,Qe=H.next())Qe=oe(W,Qe.value,ae),Qe!==null&&(U=x(Qe,U,Ne),Se===null?be=Qe:Se.sibling=Qe,Se=Qe);return lt&&Ks(W,Ne),be}for(ke=h(W,ke);!Qe.done;Ne++,Qe=H.next())Qe=he(ke,W,Ne,Qe.value,ae),Qe!==null&&(i&&Qe.alternate!==null&&ke.delete(Qe.key===null?Ne:Qe.key),U=x(Qe,U,Ne),Se===null?be=Qe:Se.sibling=Qe,Se=Qe);return i&&ke.forEach(function(JS){return o(W,JS)}),lt&&Ks(W,Ne),be}function xt(W,U,H,ae){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ie:e:{for(var be=H.key,Se=U;Se!==null;){if(Se.key===be){if(be=H.type,be===V){if(Se.tag===7){c(W,Se.sibling),U=g(Se,H.props.children),U.return=W,W=U;break e}}else if(Se.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ce&&Mv(be)===Se.type){c(W,Se.sibling),U=g(Se,H.props),U.ref=zl(W,Se,H),U.return=W,W=U;break e}c(W,Se);break}else o(W,Se);Se=Se.sibling}H.type===V?(U=no(H.props.children,W.mode,ae,H.key),U.return=W,W=U):(ae=md(H.type,H.key,H.props,null,W.mode,ae),ae.ref=zl(W,U,H),ae.return=W,W=ae)}return T(W);case Z:e:{for(Se=H.key;U!==null;){if(U.key===Se)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){c(W,U.sibling),U=g(U,H.children||[]),U.return=W,W=U;break e}else{c(W,U);break}else o(W,U);U=U.sibling}U=Np(H,W.mode,ae),U.return=W,W=U}return T(W);case ce:return Se=H._init,xt(W,U,Se(H._payload),ae)}if(Hr(H))return ye(W,U,H,ae);if(fe(H))return we(W,U,H,ae);Wu(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,U!==null&&U.tag===6?(c(W,U.sibling),U=g(U,H),U.return=W,W=U):(c(W,U),U=Pp(H,W.mode,ae),U.return=W,W=U),T(W)):c(W,U)}return xt}var ma=Ov(!0),Fv=Ov(!1),Hu=Hi(null),Gu=null,ga=null,Uf=null;function Bf(){Uf=ga=Gu=null}function zf(i){var o=Hu.current;it(Hu),i._currentValue=o}function $f(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function ya(i,o){Gu=i,Uf=ga=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(xn=!0),i.firstContext=null)}function $n(i){var o=i._currentValue;if(Uf!==i)if(i={context:i,memoizedValue:o,next:null},ga===null){if(Gu===null)throw Error(n(308));ga=i,Gu.dependencies={lanes:0,firstContext:i}}else ga=ga.next=i;return o}var Qs=null;function qf(i){Qs===null?Qs=[i]:Qs.push(i)}function Uv(i,o,c,h){var g=o.interleaved;return g===null?(c.next=c,qf(o)):(c.next=g.next,g.next=c),o.interleaved=c,si(i,h)}function si(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Qi=!1;function Wf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function oi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Yi(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ke&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,si(i,c)}return g=h.interleaved,g===null?(o.next=o,qf(h)):(o.next=g.next,g.next=o),h.interleaved=o,si(i,c)}function Ku(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Fi(i,c)}}function zv(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?g=x=T:x=x.next=T,c=c.next}while(c!==null);x===null?g=x=o:x=x.next=o}else g=x=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function Qu(i,o,c,h){var g=i.updateQueue;Qi=!1;var x=g.firstBaseUpdate,T=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var O=j,K=O.next;O.next=null,T===null?x=K:T.next=K,T=O;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,j=ne.lastBaseUpdate,j!==T&&(j===null?ne.firstBaseUpdate=K:j.next=K,ne.lastBaseUpdate=O))}if(x!==null){var oe=g.baseState;T=0,ne=K=O=null,j=x;do{var te=j.lane,he=j.eventTime;if((h&te)===te){ne!==null&&(ne=ne.next={eventTime:he,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ye=i,we=j;switch(te=o,he=c,we.tag){case 1:if(ye=we.payload,typeof ye=="function"){oe=ye.call(he,oe,te);break e}oe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,te=typeof ye=="function"?ye.call(he,oe,te):ye,te==null)break e;oe=de({},oe,te);break e;case 2:Qi=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,te=g.effects,te===null?g.effects=[j]:te.push(j))}else he={eventTime:he,lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ne===null?(K=ne=he,O=oe):ne=ne.next=he,T|=te;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;te=j,j=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);if(ne===null&&(O=oe),g.baseState=O,g.firstBaseUpdate=K,g.lastBaseUpdate=ne,o=g.shared.interleaved,o!==null){g=o;do T|=g.lane,g=g.next;while(g!==o)}else x===null&&(g.shared.lanes=0);Js|=T,i.lanes=T,i.memoizedState=oe}}function $v(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var $l={},Ar=Hi($l),ql=Hi($l),Wl=Hi($l);function Ys(i){if(i===$l)throw Error(n(174));return i}function Hf(i,o){switch(nt(Wl,o),nt(ql,i),nt(Ar,$l),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Nt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Nt(o,i)}it(Ar),nt(Ar,o)}function va(){it(Ar),it(ql),it(Wl)}function qv(i){Ys(Wl.current);var o=Ys(Ar.current),c=Nt(o,i.type);o!==c&&(nt(ql,i),nt(Ar,c))}function Gf(i){ql.current===i&&(it(Ar),it(ql))}var ct=Hi(0);function Yu(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Kf=[];function Qf(){for(var i=0;i<Kf.length;i++)Kf[i]._workInProgressVersionPrimary=null;Kf.length=0}var Xu=G.ReactCurrentDispatcher,Yf=G.ReactCurrentBatchConfig,Xs=0,ut=null,jt=null,Ot=null,Ju=!1,Hl=!1,Gl=0,wS=0;function Xt(){throw Error(n(321))}function Xf(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!or(i[c],o[c]))return!1;return!0}function Jf(i,o,c,h,g,x){if(Xs=x,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Xu.current=i===null||i.memoizedState===null?ES:IS,i=c(h,g),Hl){x=0;do{if(Hl=!1,Gl=0,25<=x)throw Error(n(301));x+=1,Ot=jt=null,o.updateQueue=null,Xu.current=SS,i=c(h,g)}while(Hl)}if(Xu.current=td,o=jt!==null&&jt.next!==null,Xs=0,Ot=jt=ut=null,Ju=!1,o)throw Error(n(300));return i}function Zf(){var i=Gl!==0;return Gl=0,i}function Pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ut.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function qn(){if(jt===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var o=Ot===null?ut.memoizedState:Ot.next;if(o!==null)Ot=o,jt=i;else{if(i===null)throw Error(n(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ot===null?ut.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function Kl(i,o){return typeof o=="function"?o(i):o}function ep(i){var o=qn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=jt,g=h.baseQueue,x=c.pending;if(x!==null){if(g!==null){var T=g.next;g.next=x.next,x.next=T}h.baseQueue=g=x,c.pending=null}if(g!==null){x=g.next,h=h.baseState;var j=T=null,O=null,K=x;do{var ne=K.lane;if((Xs&ne)===ne)O!==null&&(O=O.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:i(h,K.action);else{var oe={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};O===null?(j=O=oe,T=h):O=O.next=oe,ut.lanes|=ne,Js|=ne}K=K.next}while(K!==null&&K!==x);O===null?T=h:O.next=j,or(h,o.memoizedState)||(xn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=O,c.lastRenderedState=h}if(i=c.interleaved,i!==null){g=i;do x=g.lane,ut.lanes|=x,Js|=x,g=g.next;while(g!==i)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function tp(i){var o=qn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,g=c.pending,x=o.memoizedState;if(g!==null){c.pending=null;var T=g=g.next;do x=i(x,T.action),T=T.next;while(T!==g);or(x,o.memoizedState)||(xn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,h]}function Wv(){}function Hv(i,o){var c=ut,h=qn(),g=o(),x=!or(h.memoizedState,g);if(x&&(h.memoizedState=g,xn=!0),h=h.queue,np(Qv.bind(null,c,h,i),[i]),h.getSnapshot!==o||x||Ot!==null&&Ot.memoizedState.tag&1){if(c.flags|=2048,Ql(9,Kv.bind(null,c,h,g,o),void 0,null),Ft===null)throw Error(n(349));(Xs&30)!==0||Gv(c,o,g)}return g}function Gv(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Kv(i,o,c,h){o.value=c,o.getSnapshot=h,Yv(o)&&Xv(i)}function Qv(i,o,c){return c(function(){Yv(o)&&Xv(i)})}function Yv(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!or(i,c)}catch{return!0}}function Xv(i){var o=si(i,1);o!==null&&dr(o,i,1,-1)}function Jv(i){var o=Pr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:i},o.queue=i,i=i.dispatch=TS.bind(null,ut,i),[o.memoizedState,i]}function Ql(i,o,c,h){return i={tag:i,create:o,destroy:c,deps:h,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i)),i}function Zv(){return qn().memoizedState}function Zu(i,o,c,h){var g=Pr();ut.flags|=i,g.memoizedState=Ql(1|o,c,void 0,h===void 0?null:h)}function ed(i,o,c,h){var g=qn();h=h===void 0?null:h;var x=void 0;if(jt!==null){var T=jt.memoizedState;if(x=T.destroy,h!==null&&Xf(h,T.deps)){g.memoizedState=Ql(o,c,x,h);return}}ut.flags|=i,g.memoizedState=Ql(1|o,c,x,h)}function e0(i,o){return Zu(8390656,8,i,o)}function np(i,o){return ed(2048,8,i,o)}function t0(i,o){return ed(4,2,i,o)}function n0(i,o){return ed(4,4,i,o)}function r0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function i0(i,o,c){return c=c!=null?c.concat([i]):null,ed(4,4,r0.bind(null,o,i),c)}function rp(){}function s0(i,o){var c=qn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Xf(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function o0(i,o){var c=qn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Xf(o,h[1])?h[0]:(i=i(),c.memoizedState=[i,o],i)}function a0(i,o,c){return(Xs&21)===0?(i.baseState&&(i.baseState=!1,xn=!0),i.memoizedState=c):(or(c,o)||(c=Us(),ut.lanes|=c,Js|=c,i.baseState=!0),o)}function _S(i,o){var c=ze;ze=c!==0&&4>c?c:4,i(!0);var h=Yf.transition;Yf.transition={};try{i(!1),o()}finally{ze=c,Yf.transition=h}}function l0(){return qn().memoizedState}function bS(i,o,c){var h=es(i);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},c0(i))u0(o,c);else if(c=Uv(i,o,c,h),c!==null){var g=dn();dr(c,i,h,g),d0(c,o,h)}}function TS(i,o,c){var h=es(i),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(c0(i))u0(o,g);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var T=o.lastRenderedState,j=x(T,c);if(g.hasEagerState=!0,g.eagerState=j,or(j,T)){var O=o.interleaved;O===null?(g.next=g,qf(o)):(g.next=O.next,O.next=g),o.interleaved=g;return}}catch{}finally{}c=Uv(i,o,g,h),c!==null&&(g=dn(),dr(c,i,h,g),d0(c,o,h))}}function c0(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function u0(i,o){Hl=Ju=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function d0(i,o,c){if((c&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Fi(i,c)}}var td={readContext:$n,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},ES={readContext:$n,useCallback:function(i,o){return Pr().memoizedState=[i,o===void 0?null:o],i},useContext:$n,useEffect:e0,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,Zu(4194308,4,r0.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Zu(4194308,4,i,o)},useInsertionEffect:function(i,o){return Zu(4,2,i,o)},useMemo:function(i,o){var c=Pr();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var h=Pr();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=bS.bind(null,ut,i),[h.memoizedState,i]},useRef:function(i){var o=Pr();return i={current:i},o.memoizedState=i},useState:Jv,useDebugValue:rp,useDeferredValue:function(i){return Pr().memoizedState=i},useTransition:function(){var i=Jv(!1),o=i[0];return i=_S.bind(null,i[1]),Pr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var h=ut,g=Pr();if(lt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Ft===null)throw Error(n(349));(Xs&30)!==0||Gv(h,o,c)}g.memoizedState=c;var x={value:c,getSnapshot:o};return g.queue=x,e0(Qv.bind(null,h,x,i),[i]),h.flags|=2048,Ql(9,Kv.bind(null,h,x,c,o),void 0,null),c},useId:function(){var i=Pr(),o=Ft.identifierPrefix;if(lt){var c=ii,h=ri;c=(h&~(1<<32-ln(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=Gl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=wS++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},IS={readContext:$n,useCallback:s0,useContext:$n,useEffect:np,useImperativeHandle:i0,useInsertionEffect:t0,useLayoutEffect:n0,useMemo:o0,useReducer:ep,useRef:Zv,useState:function(){return ep(Kl)},useDebugValue:rp,useDeferredValue:function(i){var o=qn();return a0(o,jt.memoizedState,i)},useTransition:function(){var i=ep(Kl)[0],o=qn().memoizedState;return[i,o]},useMutableSource:Wv,useSyncExternalStore:Hv,useId:l0,unstable_isNewReconciler:!1},SS={readContext:$n,useCallback:s0,useContext:$n,useEffect:np,useImperativeHandle:i0,useInsertionEffect:t0,useLayoutEffect:n0,useMemo:o0,useReducer:tp,useRef:Zv,useState:function(){return tp(Kl)},useDebugValue:rp,useDeferredValue:function(i){var o=qn();return jt===null?o.memoizedState=i:a0(o,jt.memoizedState,i)},useTransition:function(){var i=tp(Kl)[0],o=qn().memoizedState;return[i,o]},useMutableSource:Wv,useSyncExternalStore:Hv,useId:l0,unstable_isNewReconciler:!1};function lr(i,o){if(i&&i.defaultProps){o=de({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function ip(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:de({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var nd={isMounted:function(i){return(i=i._reactInternals)?Zn(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var h=dn(),g=es(i),x=oi(h,g);x.payload=o,c!=null&&(x.callback=c),o=Yi(i,x,g),o!==null&&(dr(o,i,g,h),Ku(o,i,g))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=dn(),g=es(i),x=oi(h,g);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Yi(i,x,g),o!==null&&(dr(o,i,g,h),Ku(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=dn(),h=es(i),g=oi(c,h);g.tag=2,o!=null&&(g.callback=o),o=Yi(i,g,h),o!==null&&(dr(o,i,h,c),Ku(o,i,h))}};function h0(i,o,c,h,g,x,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,x,T):o.prototype&&o.prototype.isPureReactComponent?!Dl(c,h)||!Dl(g,x):!0}function f0(i,o,c){var h=!1,g=Gi,x=o.contextType;return typeof x=="object"&&x!==null?x=$n(x):(g=vn(o)?Hs:Yt.current,h=o.contextTypes,x=(h=h!=null)?da(i,g):Gi),o=new o(c,x),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nd,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=x),o}function p0(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&nd.enqueueReplaceState(o,o.state,null)}function sp(i,o,c,h){var g=i.stateNode;g.props=c,g.state=i.memoizedState,g.refs={},Wf(i);var x=o.contextType;typeof x=="object"&&x!==null?g.context=$n(x):(x=vn(o)?Hs:Yt.current,g.context=da(i,x)),g.state=i.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(ip(i,o,x,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&nd.enqueueReplaceState(g,g.state,null),Qu(i,c,g,h),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function xa(i,o){try{var c="",h=o;do c+=Re(h),h=h.return;while(h);var g=c}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:o,stack:g,digest:null}}function op(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function ap(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var kS=typeof WeakMap=="function"?WeakMap:Map;function m0(i,o,c){c=oi(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){cd||(cd=!0,bp=h),ap(i,o)},c}function g0(i,o,c){c=oi(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;c.payload=function(){return h(g)},c.callback=function(){ap(i,o)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){ap(i,o),typeof h!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),c}function y0(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new kS;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(g.add(c),i=BS.bind(null,i,o,c),o.then(i,i))}function v0(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function x0(i,o,c,h,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=oi(-1,1),o.tag=2,Yi(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var CS=G.ReactCurrentOwner,xn=!1;function un(i,o,c,h){o.child=i===null?Fv(o,null,c,h):ma(o,i.child,c,h)}function w0(i,o,c,h,g){c=c.render;var x=o.ref;return ya(o,g),h=Jf(i,o,c,h,x,g),c=Zf(),i!==null&&!xn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ai(i,o,g)):(lt&&c&&Df(o),o.flags|=1,un(i,o,h,g),o.child)}function _0(i,o,c,h,g){if(i===null){var x=c.type;return typeof x=="function"&&!Ap(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,b0(i,o,x,h,g)):(i=md(c.type,null,h,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,(i.lanes&g)===0){var T=x.memoizedProps;if(c=c.compare,c=c!==null?c:Dl,c(T,h)&&i.ref===o.ref)return ai(i,o,g)}return o.flags|=1,i=ns(x,h),i.ref=o.ref,i.return=o,o.child=i}function b0(i,o,c,h,g){if(i!==null){var x=i.memoizedProps;if(Dl(x,h)&&i.ref===o.ref)if(xn=!1,o.pendingProps=h=x,(i.lanes&g)!==0)(i.flags&131072)!==0&&(xn=!0);else return o.lanes=i.lanes,ai(i,o,g)}return lp(i,o,c,h,g)}function T0(i,o,c){var h=o.pendingProps,g=h.children,x=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(_a,Rn),Rn|=c;else{if((c&1073741824)===0)return i=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,nt(_a,Rn),Rn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:c,nt(_a,Rn),Rn|=h}else x!==null?(h=x.baseLanes|c,o.memoizedState=null):h=c,nt(_a,Rn),Rn|=h;return un(i,o,g,c),o.child}function E0(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function lp(i,o,c,h,g){var x=vn(c)?Hs:Yt.current;return x=da(o,x),ya(o,g),c=Jf(i,o,c,h,x,g),h=Zf(),i!==null&&!xn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ai(i,o,g)):(lt&&h&&Df(o),o.flags|=1,un(i,o,c,g),o.child)}function I0(i,o,c,h,g){if(vn(c)){var x=!0;Uu(o)}else x=!1;if(ya(o,g),o.stateNode===null)id(i,o),f0(o,c,h),sp(o,c,h,g),h=!0;else if(i===null){var T=o.stateNode,j=o.memoizedProps;T.props=j;var O=T.context,K=c.contextType;typeof K=="object"&&K!==null?K=$n(K):(K=vn(c)?Hs:Yt.current,K=da(o,K));var ne=c.getDerivedStateFromProps,oe=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";oe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==h||O!==K)&&p0(o,T,h,K),Qi=!1;var te=o.memoizedState;T.state=te,Qu(o,h,T,g),O=o.memoizedState,j!==h||te!==O||yn.current||Qi?(typeof ne=="function"&&(ip(o,c,ne,h),O=o.memoizedState),(j=Qi||h0(o,c,j,h,te,O,K))?(oe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=O),T.props=h,T.state=O,T.context=K,h=j):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,Bv(i,o),j=o.memoizedProps,K=o.type===o.elementType?j:lr(o.type,j),T.props=K,oe=o.pendingProps,te=T.context,O=c.contextType,typeof O=="object"&&O!==null?O=$n(O):(O=vn(c)?Hs:Yt.current,O=da(o,O));var he=c.getDerivedStateFromProps;(ne=typeof he=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==oe||te!==O)&&p0(o,T,h,O),Qi=!1,te=o.memoizedState,T.state=te,Qu(o,h,T,g);var ye=o.memoizedState;j!==oe||te!==ye||yn.current||Qi?(typeof he=="function"&&(ip(o,c,he,h),ye=o.memoizedState),(K=Qi||h0(o,c,K,h,te,ye,O)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,ye,O),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,ye,O)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||j===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ye),T.props=h,T.state=ye,T.context=O,h=K):(typeof T.componentDidUpdate!="function"||j===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),h=!1)}return cp(i,o,c,h,x,g)}function cp(i,o,c,h,g,x){E0(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return g&&Pv(o,c,!1),ai(i,o,x);h=o.stateNode,CS.current=o;var j=T&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=ma(o,i.child,null,x),o.child=ma(o,null,j,x)):un(i,o,j,x),o.memoizedState=h.state,g&&Pv(o,c,!0),o.child}function S0(i){var o=i.stateNode;o.pendingContext?Cv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Cv(i,o.context,!1),Hf(i,o.containerInfo)}function k0(i,o,c,h,g){return pa(),Ff(g),o.flags|=256,un(i,o,c,h),o.child}var up={dehydrated:null,treeContext:null,retryLane:0};function dp(i){return{baseLanes:i,cachePool:null,transitions:null}}function C0(i,o,c){var h=o.pendingProps,g=ct.current,x=!1,T=(o.flags&128)!==0,j;if((j=T)||(j=i!==null&&i.memoizedState===null?!1:(g&2)!==0),j?(x=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),nt(ct,g&1),i===null)return Of(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,i=h.fallback,x?(h=o.mode,x=o.child,T={mode:"hidden",children:T},(h&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=T):x=gd(T,h,0,null),i=no(i,h,c,null),x.return=o,i.return=o,x.sibling=i,o.child=x,o.child.memoizedState=dp(c),o.memoizedState=up,i):hp(o,T));if(g=i.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return AS(i,o,T,h,j,g,c);if(x){x=h.fallback,T=o.mode,g=i.child,j=g.sibling;var O={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=O,o.deletions=null):(h=ns(g,O),h.subtreeFlags=g.subtreeFlags&14680064),j!==null?x=ns(j,x):(x=no(x,T,c,null),x.flags|=2),x.return=o,h.return=o,h.sibling=x,o.child=h,h=x,x=o.child,T=i.child.memoizedState,T=T===null?dp(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},x.memoizedState=T,x.childLanes=i.childLanes&~c,o.memoizedState=up,h}return x=i.child,i=x.sibling,h=ns(x,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=h,o.memoizedState=null,h}function hp(i,o){return o=gd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function rd(i,o,c,h){return h!==null&&Ff(h),ma(o,i.child,null,c),i=hp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function AS(i,o,c,h,g,x,T){if(c)return o.flags&256?(o.flags&=-257,h=op(Error(n(422))),rd(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(x=h.fallback,g=o.mode,h=gd({mode:"visible",children:h.children},g,0,null),x=no(x,g,T,null),x.flags|=2,h.return=o,x.return=o,h.sibling=x,o.child=h,(o.mode&1)!==0&&ma(o,i.child,null,T),o.child.memoizedState=dp(T),o.memoizedState=up,x);if((o.mode&1)===0)return rd(i,o,T,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var j=h.dgst;return h=j,x=Error(n(419)),h=op(x,h,void 0),rd(i,o,T,h)}if(j=(T&i.childLanes)!==0,xn||j){if(h=Ft,h!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|T))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,si(i,g),dr(h,i,g,-1))}return Cp(),h=op(Error(n(421))),rd(i,o,T,h)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=zS.bind(null,i),g._reactRetry=o,null):(i=x.treeContext,Nn=Wi(g.nextSibling),Pn=o,lt=!0,ar=null,i!==null&&(Bn[zn++]=ri,Bn[zn++]=ii,Bn[zn++]=Gs,ri=i.id,ii=i.overflow,Gs=o),o=hp(o,h.children),o.flags|=4096,o)}function A0(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),$f(i.return,o,c)}function fp(i,o,c,h,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=g)}function P0(i,o,c){var h=o.pendingProps,g=h.revealOrder,x=h.tail;if(un(i,o,h.children,c),h=ct.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&A0(i,c,o);else if(i.tag===19)A0(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(nt(ct,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)i=c.alternate,i!==null&&Yu(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),fp(o,!1,g,c,x);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Yu(i)===null){o.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}fp(o,!0,c,null,x);break;case"together":fp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function id(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ai(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Js|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=ns(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=ns(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function PS(i,o,c){switch(o.tag){case 3:S0(o),pa();break;case 5:qv(o);break;case 1:vn(o.type)&&Uu(o);break;case 4:Hf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;nt(Hu,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(nt(ct,ct.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?C0(i,o,c):(nt(ct,ct.current&1),i=ai(i,o,c),i!==null?i.sibling:null);nt(ct,ct.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(i.flags&128)!==0){if(h)return P0(i,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),nt(ct,ct.current),h)break;return null;case 22:case 23:return o.lanes=0,T0(i,o,c)}return ai(i,o,c)}var N0,pp,R0,j0;N0=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},pp=function(){},R0=function(i,o,c,h){var g=i.memoizedProps;if(g!==h){i=o.stateNode,Ys(Ar.current);var x=null;switch(c){case"input":g=As(i,g),h=As(i,h),x=[];break;case"select":g=de({},g,{value:void 0}),h=de({},h,{value:void 0}),x=[];break;case"textarea":g=ul(i,g),h=ul(i,h),x=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Mu)}gl(c,h);var T;c=null;for(K in g)if(!h.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var j=g[K];for(T in j)j.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?x||(x=[]):(x=x||[]).push(K,null));for(K in h){var O=h[K];if(j=g!=null?g[K]:void 0,h.hasOwnProperty(K)&&O!==j&&(O!=null||j!=null))if(K==="style")if(j){for(T in j)!j.hasOwnProperty(T)||O&&O.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in O)O.hasOwnProperty(T)&&j[T]!==O[T]&&(c||(c={}),c[T]=O[T])}else c||(x||(x=[]),x.push(K,c)),c=O;else K==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,j=j?j.__html:void 0,O!=null&&j!==O&&(x=x||[]).push(K,O)):K==="children"?typeof O!="string"&&typeof O!="number"||(x=x||[]).push(K,""+O):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(O!=null&&K==="onScroll"&&rt("scroll",i),x||j===O||(x=[])):(x=x||[]).push(K,O))}c&&(x=x||[]).push("style",c);var K=x;(o.updateQueue=K)&&(o.flags|=4)}},j0=function(i,o,c,h){c!==h&&(o.flags|=4)};function Yl(i,o){if(!lt)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Jt(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function NS(i,o,c){var h=o.pendingProps;switch(Lf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return vn(o.type)&&Fu(),Jt(o),null;case 3:return h=o.stateNode,va(),it(yn),it(Yt),Qf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(qu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ar!==null&&(Ip(ar),ar=null))),pp(i,o),Jt(o),null;case 5:Gf(o);var g=Ys(Wl.current);if(c=o.type,i!==null&&o.stateNode!=null)R0(i,o,c,h,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}if(i=Ys(Ar.current),qu(o)){h=o.stateNode,c=o.type;var x=o.memoizedProps;switch(h[Cr]=o,h[Ul]=x,i=(o.mode&1)!==0,c){case"dialog":rt("cancel",h),rt("close",h);break;case"iframe":case"object":case"embed":rt("load",h);break;case"video":case"audio":for(g=0;g<Ml.length;g++)rt(Ml[g],h);break;case"source":rt("error",h);break;case"img":case"image":case"link":rt("error",h),rt("load",h);break;case"details":rt("toggle",h);break;case"input":jo(h,x),rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!x.multiple},rt("invalid",h);break;case"textarea":Do(h,x),rt("invalid",h)}gl(c,x),g=null;for(var T in x)if(x.hasOwnProperty(T)){var j=x[T];T==="children"?typeof j=="string"?h.textContent!==j&&(x.suppressHydrationWarning!==!0&&Lu(h.textContent,j,i),g=["children",j]):typeof j=="number"&&h.textContent!==""+j&&(x.suppressHydrationWarning!==!0&&Lu(h.textContent,j,i),g=["children",""+j]):s.hasOwnProperty(T)&&j!=null&&T==="onScroll"&&rt("scroll",h)}switch(c){case"input":yt(h),lu(h,x,!0);break;case"textarea":yt(h),dl(h);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(h.onclick=Mu)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Pt(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(c,{is:h.is}):(i=T.createElement(c),c==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,c),i[Cr]=o,i[Ul]=h,N0(i,o,!1,!1),o.stateNode=i;e:{switch(T=yl(c,h),c){case"dialog":rt("cancel",i),rt("close",i),g=h;break;case"iframe":case"object":case"embed":rt("load",i),g=h;break;case"video":case"audio":for(g=0;g<Ml.length;g++)rt(Ml[g],i);g=h;break;case"source":rt("error",i),g=h;break;case"img":case"image":case"link":rt("error",i),rt("load",i),g=h;break;case"details":rt("toggle",i),g=h;break;case"input":jo(i,h),g=As(i,h),rt("invalid",i);break;case"option":g=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},g=de({},h,{value:void 0}),rt("invalid",i);break;case"textarea":Do(i,h),g=ul(i,h),rt("invalid",i);break;default:g=h}gl(c,g),j=g;for(x in j)if(j.hasOwnProperty(x)){var O=j[x];x==="style"?pl(i,O):x==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&hl(i,O)):x==="children"?typeof O=="string"?(c!=="textarea"||O!=="")&&Vi(i,O):typeof O=="number"&&Vi(i,""+O):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?O!=null&&x==="onScroll"&&rt("scroll",i):O!=null&&z(i,x,O,T))}switch(c){case"input":yt(i),lu(i,h,!1);break;case"textarea":yt(i),dl(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Fe(h.value));break;case"select":i.multiple=!!h.multiple,x=h.value,x!=null?Gr(i,!!h.multiple,x,!1):h.defaultValue!=null&&Gr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Mu)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(i&&o.stateNode!=null)j0(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(c=Ys(Wl.current),Ys(Ar.current),qu(o)){if(h=o.stateNode,c=o.memoizedProps,h[Cr]=o,(x=h.nodeValue!==c)&&(i=Pn,i!==null))switch(i.tag){case 3:Lu(h.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Lu(h.nodeValue,c,(i.mode&1)!==0)}x&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Cr]=o,o.stateNode=h}return Jt(o),null;case 13:if(it(ct),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(lt&&Nn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Lv(),pa(),o.flags|=98560,x=!1;else if(x=qu(o),h!==null&&h.dehydrated!==null){if(i===null){if(!x)throw Error(n(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Cr]=o}else pa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),x=!1}else ar!==null&&(Ip(ar),ar=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ct.current&1)!==0?Vt===0&&(Vt=3):Cp())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return va(),pp(i,o),i===null&&Ol(o.stateNode.containerInfo),Jt(o),null;case 10:return zf(o.type._context),Jt(o),null;case 17:return vn(o.type)&&Fu(),Jt(o),null;case 19:if(it(ct),x=o.memoizedState,x===null)return Jt(o),null;if(h=(o.flags&128)!==0,T=x.rendering,T===null)if(h)Yl(x,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Yu(i),T!==null){for(o.flags|=128,Yl(x,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)x=c,i=h,x.flags&=14680066,T=x.alternate,T===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=T.childLanes,x.lanes=T.lanes,x.child=T.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=T.memoizedProps,x.memoizedState=T.memoizedState,x.updateQueue=T.updateQueue,x.type=T.type,i=T.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return nt(ct,ct.current&1|2),o.child}i=i.sibling}x.tail!==null&&tt()>ba&&(o.flags|=128,h=!0,Yl(x,!1),o.lanes=4194304)}else{if(!h)if(i=Yu(T),i!==null){if(o.flags|=128,h=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Yl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!lt)return Jt(o),null}else 2*tt()-x.renderingStartTime>ba&&c!==1073741824&&(o.flags|=128,h=!0,Yl(x,!1),o.lanes=4194304);x.isBackwards?(T.sibling=o.child,o.child=T):(c=x.last,c!==null?c.sibling=T:o.child=T,x.last=T)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=tt(),o.sibling=null,c=ct.current,nt(ct,h?c&1|2:c&1),o):(Jt(o),null);case 22:case 23:return kp(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Rn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function RS(i,o){switch(Lf(o),o.tag){case 1:return vn(o.type)&&Fu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return va(),it(yn),it(Yt),Qf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Gf(o),null;case 13:if(it(ct),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));pa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return it(ct),null;case 4:return va(),null;case 10:return zf(o.type._context),null;case 22:case 23:return kp(),null;case 24:return null;default:return null}}var sd=!1,Zt=!1,jS=typeof WeakSet=="function"?WeakSet:Set,me=null;function wa(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){gt(i,o,h)}else c.current=null}function mp(i,o,c){try{c()}catch(h){gt(i,o,h)}}var V0=!1;function VS(i,o){if(kf=zi,i=hv(),xf(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var T=0,j=-1,O=-1,K=0,ne=0,oe=i,te=null;t:for(;;){for(var he;oe!==c||g!==0&&oe.nodeType!==3||(j=T+g),oe!==x||h!==0&&oe.nodeType!==3||(O=T+h),oe.nodeType===3&&(T+=oe.nodeValue.length),(he=oe.firstChild)!==null;)te=oe,oe=he;for(;;){if(oe===i)break t;if(te===c&&++K===g&&(j=T),te===x&&++ne===h&&(O=T),(he=oe.nextSibling)!==null)break;oe=te,te=oe.parentNode}oe=he}c=j===-1||O===-1?null:{start:j,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for(Cf={focusedElem:i,selectionRange:c},zi=!1,me=o;me!==null;)if(o=me,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,me=i;else for(;me!==null;){o=me;try{var ye=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var we=ye.memoizedProps,xt=ye.memoizedState,W=o.stateNode,U=W.getSnapshotBeforeUpdate(o.elementType===o.type?we:lr(o.type,we),xt);W.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){gt(o,o.return,ae)}if(i=o.sibling,i!==null){i.return=o.return,me=i;break}me=o.return}return ye=V0,V0=!1,ye}function Xl(i,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&i)===i){var x=g.destroy;g.destroy=void 0,x!==void 0&&mp(o,c,x)}g=g.next}while(g!==h)}}function od(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function gp(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function D0(i){var o=i.alternate;o!==null&&(i.alternate=null,D0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Cr],delete o[Ul],delete o[Rf],delete o[gS],delete o[yS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function L0(i){return i.tag===5||i.tag===3||i.tag===4}function M0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||L0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yp(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Mu));else if(h!==4&&(i=i.child,i!==null))for(yp(i,o,c),i=i.sibling;i!==null;)yp(i,o,c),i=i.sibling}function vp(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(vp(i,o,c),i=i.sibling;i!==null;)vp(i,o,c),i=i.sibling}var qt=null,cr=!1;function Xi(i,o,c){for(c=c.child;c!==null;)O0(i,o,c),c=c.sibling}function O0(i,o,c){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Os,c)}catch{}switch(c.tag){case 5:Zt||wa(c,o);case 6:var h=qt,g=cr;qt=null,Xi(i,o,c),qt=h,cr=g,qt!==null&&(cr?(i=qt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):qt.removeChild(c.stateNode));break;case 18:qt!==null&&(cr?(i=qt,c=c.stateNode,i.nodeType===8?Nf(i.parentNode,c):i.nodeType===1&&Nf(i,c),ir(i)):Nf(qt,c.stateNode));break;case 4:h=qt,g=cr,qt=c.stateNode.containerInfo,cr=!0,Xi(i,o,c),qt=h,cr=g;break;case 0:case 11:case 14:case 15:if(!Zt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var x=g,T=x.destroy;x=x.tag,T!==void 0&&((x&2)!==0||(x&4)!==0)&&mp(c,o,T),g=g.next}while(g!==h)}Xi(i,o,c);break;case 1:if(!Zt&&(wa(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(j){gt(c,o,j)}Xi(i,o,c);break;case 21:Xi(i,o,c);break;case 22:c.mode&1?(Zt=(h=Zt)||c.memoizedState!==null,Xi(i,o,c),Zt=h):Xi(i,o,c);break;default:Xi(i,o,c)}}function F0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new jS),o.forEach(function(h){var g=$S.bind(null,i,h);c.has(h)||(c.add(h),h.then(g,g))})}}function ur(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var x=i,T=o,j=T;e:for(;j!==null;){switch(j.tag){case 5:qt=j.stateNode,cr=!1;break e;case 3:qt=j.stateNode.containerInfo,cr=!0;break e;case 4:qt=j.stateNode.containerInfo,cr=!0;break e}j=j.return}if(qt===null)throw Error(n(160));O0(x,T,g),qt=null,cr=!1;var O=g.alternate;O!==null&&(O.return=null),g.return=null}catch(K){gt(g,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)U0(o,i),o=o.sibling}function U0(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ur(o,i),Nr(i),h&4){try{Xl(3,i,i.return),od(3,i)}catch(we){gt(i,i.return,we)}try{Xl(5,i,i.return)}catch(we){gt(i,i.return,we)}}break;case 1:ur(o,i),Nr(i),h&512&&c!==null&&wa(c,c.return);break;case 5:if(ur(o,i),Nr(i),h&512&&c!==null&&wa(c,c.return),i.flags&32){var g=i.stateNode;try{Vi(g,"")}catch(we){gt(i,i.return,we)}}if(h&4&&(g=i.stateNode,g!=null)){var x=i.memoizedProps,T=c!==null?c.memoizedProps:x,j=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{j==="input"&&x.type==="radio"&&x.name!=null&&ll(g,x),yl(j,T);var K=yl(j,x);for(T=0;T<O.length;T+=2){var ne=O[T],oe=O[T+1];ne==="style"?pl(g,oe):ne==="dangerouslySetInnerHTML"?hl(g,oe):ne==="children"?Vi(g,oe):z(g,ne,oe,K)}switch(j){case"input":cl(g,x);break;case"textarea":Lo(g,x);break;case"select":var te=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var he=x.value;he!=null?Gr(g,!!x.multiple,he,!1):te!==!!x.multiple&&(x.defaultValue!=null?Gr(g,!!x.multiple,x.defaultValue,!0):Gr(g,!!x.multiple,x.multiple?[]:"",!1))}g[Ul]=x}catch(we){gt(i,i.return,we)}}break;case 6:if(ur(o,i),Nr(i),h&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,x=i.memoizedProps;try{g.nodeValue=x}catch(we){gt(i,i.return,we)}}break;case 3:if(ur(o,i),Nr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ir(o.containerInfo)}catch(we){gt(i,i.return,we)}break;case 4:ur(o,i),Nr(i);break;case 13:ur(o,i),Nr(i),g=i.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(_p=tt())),h&4&&F0(i);break;case 22:if(ne=c!==null&&c.memoizedState!==null,i.mode&1?(Zt=(K=Zt)||ne,ur(o,i),Zt=K):ur(o,i),Nr(i),h&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ne&&(i.mode&1)!==0)for(me=i,ne=i.child;ne!==null;){for(oe=me=ne;me!==null;){switch(te=me,he=te.child,te.tag){case 0:case 11:case 14:case 15:Xl(4,te,te.return);break;case 1:wa(te,te.return);var ye=te.stateNode;if(typeof ye.componentWillUnmount=="function"){h=te,c=te.return;try{o=h,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(we){gt(h,c,we)}}break;case 5:wa(te,te.return);break;case 22:if(te.memoizedState!==null){$0(oe);continue}}he!==null?(he.return=te,me=he):$0(oe)}ne=ne.sibling}e:for(ne=null,oe=i;;){if(oe.tag===5){if(ne===null){ne=oe;try{g=oe.stateNode,K?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(j=oe.stateNode,O=oe.memoizedProps.style,T=O!=null&&O.hasOwnProperty("display")?O.display:null,j.style.display=fl("display",T))}catch(we){gt(i,i.return,we)}}}else if(oe.tag===6){if(ne===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(we){gt(i,i.return,we)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===i)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===i)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===i)break e;ne===oe&&(ne=null),oe=oe.return}ne===oe&&(ne=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:ur(o,i),Nr(i),h&4&&F0(i);break;case 21:break;default:ur(o,i),Nr(i)}}function Nr(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(L0(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Vi(g,""),h.flags&=-33);var x=M0(i);vp(i,x,g);break;case 3:case 4:var T=h.stateNode.containerInfo,j=M0(i);yp(i,j,T);break;default:throw Error(n(161))}}catch(O){gt(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function DS(i,o,c){me=i,B0(i)}function B0(i,o,c){for(var h=(i.mode&1)!==0;me!==null;){var g=me,x=g.child;if(g.tag===22&&h){var T=g.memoizedState!==null||sd;if(!T){var j=g.alternate,O=j!==null&&j.memoizedState!==null||Zt;j=sd;var K=Zt;if(sd=T,(Zt=O)&&!K)for(me=g;me!==null;)T=me,O=T.child,T.tag===22&&T.memoizedState!==null?q0(g):O!==null?(O.return=T,me=O):q0(g);for(;x!==null;)me=x,B0(x),x=x.sibling;me=g,sd=j,Zt=K}z0(i)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,me=x):z0(i)}}function z0(i){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Zt||od(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Zt)if(c===null)h.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:lr(o.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&$v(o,x,h);break;case 3:var T=o.updateQueue;if(T!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}$v(o,T,c)}break;case 5:var j=o.stateNode;if(c===null&&o.flags&4){c=j;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&c.focus();break;case"img":O.src&&(c.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var oe=ne.dehydrated;oe!==null&&ir(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zt||o.flags&512&&gp(o)}catch(te){gt(o,o.return,te)}}if(o===i){me=null;break}if(c=o.sibling,c!==null){c.return=o.return,me=c;break}me=o.return}}function $0(i){for(;me!==null;){var o=me;if(o===i){me=null;break}var c=o.sibling;if(c!==null){c.return=o.return,me=c;break}me=o.return}}function q0(i){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{od(4,o)}catch(O){gt(o,c,O)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(O){gt(o,g,O)}}var x=o.return;try{gp(o)}catch(O){gt(o,x,O)}break;case 5:var T=o.return;try{gp(o)}catch(O){gt(o,T,O)}}}catch(O){gt(o,o.return,O)}if(o===i){me=null;break}var j=o.sibling;if(j!==null){j.return=o.return,me=j;break}me=o.return}}var LS=Math.ceil,ad=G.ReactCurrentDispatcher,xp=G.ReactCurrentOwner,Wn=G.ReactCurrentBatchConfig,Ke=0,Ft=null,St=null,Wt=0,Rn=0,_a=Hi(0),Vt=0,Jl=null,Js=0,ld=0,wp=0,Zl=null,wn=null,_p=0,ba=1/0,li=null,cd=!1,bp=null,Ji=null,ud=!1,Zi=null,dd=0,ec=0,Tp=null,hd=-1,fd=0;function dn(){return(Ke&6)!==0?tt():hd!==-1?hd:hd=tt()}function es(i){return(i.mode&1)===0?1:(Ke&2)!==0&&Wt!==0?Wt&-Wt:xS.transition!==null?(fd===0&&(fd=Us()),fd):(i=ze,i!==0||(i=window.event,i=i===void 0?16:Cl(i.type)),i)}function dr(i,o,c,h){if(50<ec)throw ec=0,Tp=null,Error(n(185));Oi(i,c,h),((Ke&2)===0||i!==Ft)&&(i===Ft&&((Ke&2)===0&&(ld|=c),Vt===4&&ts(i,Wt)),_n(i,h),c===1&&Ke===0&&(o.mode&1)===0&&(ba=tt()+500,Bu&&Ki()))}function _n(i,o){var c=i.callbackNode;Yr(i,o);var h=Fs(i,i===Ft?Wt:0);if(h===0)c!==null&&Tl(c),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(c!=null&&Tl(c),o===1)i.tag===0?vS(H0.bind(null,i)):Nv(H0.bind(null,i)),pS(function(){(Ke&6)===0&&Ki()}),c=null;else{switch(Ui(h)){case 1:c=Ms;break;case 4:c=Di;break;case 16:c=On;break;case 536870912:c=fu;break;default:c=On}c=ex(c,W0.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function W0(i,o){if(hd=-1,fd=0,(Ke&6)!==0)throw Error(n(327));var c=i.callbackNode;if(Ta()&&i.callbackNode!==c)return null;var h=Fs(i,i===Ft?Wt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=pd(i,h);else{o=h;var g=Ke;Ke|=2;var x=K0();(Ft!==i||Wt!==o)&&(li=null,ba=tt()+500,eo(i,o));do try{FS();break}catch(j){G0(i,j)}while(!0);Bf(),ad.current=x,Ke=g,St!==null?o=0:(Ft=null,Wt=0,o=Vt)}if(o!==0){if(o===2&&(g=kn(i),g!==0&&(h=g,o=Ep(i,g))),o===1)throw c=Jl,eo(i,0),ts(i,h),_n(i,tt()),c;if(o===6)ts(i,h);else{if(g=i.current.alternate,(h&30)===0&&!MS(g)&&(o=pd(i,h),o===2&&(x=kn(i),x!==0&&(h=x,o=Ep(i,x))),o===1))throw c=Jl,eo(i,0),ts(i,h),_n(i,tt()),c;switch(i.finishedWork=g,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:to(i,wn,li);break;case 3:if(ts(i,h),(h&130023424)===h&&(o=_p+500-tt(),10<o)){if(Fs(i,0)!==0)break;if(g=i.suspendedLanes,(g&h)!==h){dn(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Pf(to.bind(null,i,wn,li),o);break}to(i,wn,li);break;case 4:if(ts(i,h),(h&4194240)===h)break;for(o=i.eventTimes,g=-1;0<h;){var T=31-ln(h);x=1<<T,T=o[T],T>g&&(g=T),h&=~x}if(h=g,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*LS(h/1960))-h,10<h){i.timeoutHandle=Pf(to.bind(null,i,wn,li),h);break}to(i,wn,li);break;case 5:to(i,wn,li);break;default:throw Error(n(329))}}}return _n(i,tt()),i.callbackNode===c?W0.bind(null,i):null}function Ep(i,o){var c=Zl;return i.current.memoizedState.isDehydrated&&(eo(i,o).flags|=256),i=pd(i,o),i!==2&&(o=wn,wn=c,o!==null&&Ip(o)),i}function Ip(i){wn===null?wn=i:wn.push.apply(wn,i)}function MS(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],x=g.getSnapshot;g=g.value;try{if(!or(x(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ts(i,o){for(o&=~wp,o&=~ld,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-ln(o),h=1<<c;i[c]=-1,o&=~h}}function H0(i){if((Ke&6)!==0)throw Error(n(327));Ta();var o=Fs(i,0);if((o&1)===0)return _n(i,tt()),null;var c=pd(i,o);if(i.tag!==0&&c===2){var h=kn(i);h!==0&&(o=h,c=Ep(i,h))}if(c===1)throw c=Jl,eo(i,0),ts(i,o),_n(i,tt()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,to(i,wn,li),_n(i,tt()),null}function Sp(i,o){var c=Ke;Ke|=1;try{return i(o)}finally{Ke=c,Ke===0&&(ba=tt()+500,Bu&&Ki())}}function Zs(i){Zi!==null&&Zi.tag===0&&(Ke&6)===0&&Ta();var o=Ke;Ke|=1;var c=Wn.transition,h=ze;try{if(Wn.transition=null,ze=1,i)return i()}finally{ze=h,Wn.transition=c,Ke=o,(Ke&6)===0&&Ki()}}function kp(){Rn=_a.current,it(_a)}function eo(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,fS(c)),St!==null)for(c=St.return;c!==null;){var h=c;switch(Lf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Fu();break;case 3:va(),it(yn),it(Yt),Qf();break;case 5:Gf(h);break;case 4:va();break;case 13:it(ct);break;case 19:it(ct);break;case 10:zf(h.type._context);break;case 22:case 23:kp()}c=c.return}if(Ft=i,St=i=ns(i.current,null),Wt=Rn=o,Vt=0,Jl=null,wp=ld=Js=0,wn=Zl=null,Qs!==null){for(o=0;o<Qs.length;o++)if(c=Qs[o],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,x=c.pending;if(x!==null){var T=x.next;x.next=g,h.next=T}c.pending=h}Qs=null}return i}function G0(i,o){do{var c=St;try{if(Bf(),Xu.current=td,Ju){for(var h=ut.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Ju=!1}if(Xs=0,Ot=jt=ut=null,Hl=!1,Gl=0,xp.current=null,c===null||c.return===null){Vt=1,Jl=o,St=null;break}e:{var x=i,T=c.return,j=c,O=o;if(o=Wt,j.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=O,ne=j,oe=ne.tag;if((ne.mode&1)===0&&(oe===0||oe===11||oe===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var he=v0(T);if(he!==null){he.flags&=-257,x0(he,T,j,x,o),he.mode&1&&y0(x,K,o),o=he,O=K;var ye=o.updateQueue;if(ye===null){var we=new Set;we.add(O),o.updateQueue=we}else ye.add(O);break e}else{if((o&1)===0){y0(x,K,o),Cp();break e}O=Error(n(426))}}else if(lt&&j.mode&1){var xt=v0(T);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),x0(xt,T,j,x,o),Ff(xa(O,j));break e}}x=O=xa(O,j),Vt!==4&&(Vt=2),Zl===null?Zl=[x]:Zl.push(x),x=T;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var W=m0(x,O,o);zv(x,W);break e;case 1:j=O;var U=x.type,H=x.stateNode;if((x.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ji===null||!Ji.has(H)))){x.flags|=65536,o&=-o,x.lanes|=o;var ae=g0(x,j,o);zv(x,ae);break e}}x=x.return}while(x!==null)}Y0(c)}catch(be){o=be,St===c&&c!==null&&(St=c=c.return);continue}break}while(!0)}function K0(){var i=ad.current;return ad.current=td,i===null?td:i}function Cp(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ft===null||(Js&268435455)===0&&(ld&268435455)===0||ts(Ft,Wt)}function pd(i,o){var c=Ke;Ke|=2;var h=K0();(Ft!==i||Wt!==o)&&(li=null,eo(i,o));do try{OS();break}catch(g){G0(i,g)}while(!0);if(Bf(),Ke=c,ad.current=h,St!==null)throw Error(n(261));return Ft=null,Wt=0,Vt}function OS(){for(;St!==null;)Q0(St)}function FS(){for(;St!==null&&!du();)Q0(St)}function Q0(i){var o=Z0(i.alternate,i,Rn);i.memoizedProps=i.pendingProps,o===null?Y0(i):St=o,xp.current=null}function Y0(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=NS(c,o,Rn),c!==null){St=c;return}}else{if(c=RS(c,o),c!==null){c.flags&=32767,St=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Vt=6,St=null;return}}if(o=o.sibling,o!==null){St=o;return}St=o=i}while(o!==null);Vt===0&&(Vt=5)}function to(i,o,c){var h=ze,g=Wn.transition;try{Wn.transition=null,ze=1,US(i,o,c,h)}finally{Wn.transition=g,ze=h}return null}function US(i,o,c,h){do Ta();while(Zi!==null);if((Ke&6)!==0)throw Error(n(327));c=i.finishedWork;var g=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var x=c.lanes|c.childLanes;if(et(i,x),i===Ft&&(St=Ft=null,Wt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ud||(ud=!0,ex(On,function(){return Ta(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Wn.transition,Wn.transition=null;var T=ze;ze=1;var j=Ke;Ke|=4,xp.current=null,VS(i,c),U0(c,i),oS(Cf),zi=!!kf,Cf=kf=null,i.current=c,DS(c),df(),Ke=j,ze=T,Wn.transition=x}else i.current=c;if(ud&&(ud=!1,Zi=i,dd=g),x=i.pendingLanes,x===0&&(Ji=null),pu(c.stateNode),_n(i,tt()),o!==null)for(h=i.onRecoverableError,c=0;c<o.length;c++)g=o[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(cd)throw cd=!1,i=bp,bp=null,i;return(dd&1)!==0&&i.tag!==0&&Ta(),x=i.pendingLanes,(x&1)!==0?i===Tp?ec++:(ec=0,Tp=i):ec=0,Ki(),null}function Ta(){if(Zi!==null){var i=Ui(dd),o=Wn.transition,c=ze;try{if(Wn.transition=null,ze=16>i?16:i,Zi===null)var h=!1;else{if(i=Zi,Zi=null,dd=0,(Ke&6)!==0)throw Error(n(331));var g=Ke;for(Ke|=4,me=i.current;me!==null;){var x=me,T=x.child;if((me.flags&16)!==0){var j=x.deletions;if(j!==null){for(var O=0;O<j.length;O++){var K=j[O];for(me=K;me!==null;){var ne=me;switch(ne.tag){case 0:case 11:case 15:Xl(8,ne,x)}var oe=ne.child;if(oe!==null)oe.return=ne,me=oe;else for(;me!==null;){ne=me;var te=ne.sibling,he=ne.return;if(D0(ne),ne===K){me=null;break}if(te!==null){te.return=he,me=te;break}me=he}}}var ye=x.alternate;if(ye!==null){var we=ye.child;if(we!==null){ye.child=null;do{var xt=we.sibling;we.sibling=null,we=xt}while(we!==null)}}me=x}}if((x.subtreeFlags&2064)!==0&&T!==null)T.return=x,me=T;else e:for(;me!==null;){if(x=me,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Xl(9,x,x.return)}var W=x.sibling;if(W!==null){W.return=x.return,me=W;break e}me=x.return}}var U=i.current;for(me=U;me!==null;){T=me;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,me=H;else e:for(T=U;me!==null;){if(j=me,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:od(9,j)}}catch(be){gt(j,j.return,be)}if(j===T){me=null;break e}var ae=j.sibling;if(ae!==null){ae.return=j.return,me=ae;break e}me=j.return}}if(Ke=g,Ki(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Os,i)}catch{}h=!0}return h}finally{ze=c,Wn.transition=o}}return!1}function X0(i,o,c){o=xa(c,o),o=m0(i,o,1),i=Yi(i,o,1),o=dn(),i!==null&&(Oi(i,1,o),_n(i,o))}function gt(i,o,c){if(i.tag===3)X0(i,i,c);else for(;o!==null;){if(o.tag===3){X0(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ji===null||!Ji.has(h))){i=xa(c,i),i=g0(o,i,1),o=Yi(o,i,1),i=dn(),o!==null&&(Oi(o,1,i),_n(o,i));break}}o=o.return}}function BS(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),o=dn(),i.pingedLanes|=i.suspendedLanes&c,Ft===i&&(Wt&c)===c&&(Vt===4||Vt===3&&(Wt&130023424)===Wt&&500>tt()-_p?eo(i,0):wp|=c),_n(i,o)}function J0(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ho,Ho<<=1,(Ho&130023424)===0&&(Ho=4194304)));var c=dn();i=si(i,o),i!==null&&(Oi(i,o,c),_n(i,c))}function zS(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),J0(i,c)}function $S(i,o){var c=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),J0(i,c)}var Z0;Z0=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||yn.current)xn=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return xn=!1,PS(i,o,c);xn=(i.flags&131072)!==0}else xn=!1,lt&&(o.flags&1048576)!==0&&Rv(o,$u,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;id(i,o),i=o.pendingProps;var g=da(o,Yt.current);ya(o,c),g=Jf(null,o,h,i,g,c);var x=Zf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,vn(h)?(x=!0,Uu(o)):x=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Wf(o),g.updater=nd,o.stateNode=g,g._reactInternals=o,sp(o,h,i,c),o=cp(null,o,h,!0,x,c)):(o.tag=0,lt&&x&&Df(o),un(null,o,g,c),o=o.child),o;case 16:h=o.elementType;e:{switch(id(i,o),i=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=WS(h),i=lr(h,i),g){case 0:o=lp(null,o,h,i,c);break e;case 1:o=I0(null,o,h,i,c);break e;case 11:o=w0(null,o,h,i,c);break e;case 14:o=_0(null,o,h,lr(h.type,i),c);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:lr(h,g),lp(i,o,h,g,c);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:lr(h,g),I0(i,o,h,g,c);case 3:e:{if(S0(o),i===null)throw Error(n(387));h=o.pendingProps,x=o.memoizedState,g=x.element,Bv(i,o),Qu(o,h,null,c);var T=o.memoizedState;if(h=T.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){g=xa(Error(n(423)),o),o=k0(i,o,h,c,g);break e}else if(h!==g){g=xa(Error(n(424)),o),o=k0(i,o,h,c,g);break e}else for(Nn=Wi(o.stateNode.containerInfo.firstChild),Pn=o,lt=!0,ar=null,c=Fv(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(pa(),h===g){o=ai(i,o,c);break e}un(i,o,h,c)}o=o.child}return o;case 5:return qv(o),i===null&&Of(o),h=o.type,g=o.pendingProps,x=i!==null?i.memoizedProps:null,T=g.children,Af(h,g)?T=null:x!==null&&Af(h,x)&&(o.flags|=32),E0(i,o),un(i,o,T,c),o.child;case 6:return i===null&&Of(o),null;case 13:return C0(i,o,c);case 4:return Hf(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ma(o,null,h,c):un(i,o,h,c),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:lr(h,g),w0(i,o,h,g,c);case 7:return un(i,o,o.pendingProps,c),o.child;case 8:return un(i,o,o.pendingProps.children,c),o.child;case 12:return un(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,x=o.memoizedProps,T=g.value,nt(Hu,h._currentValue),h._currentValue=T,x!==null)if(or(x.value,T)){if(x.children===g.children&&!yn.current){o=ai(i,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var j=x.dependencies;if(j!==null){T=x.child;for(var O=j.firstContext;O!==null;){if(O.context===h){if(x.tag===1){O=oi(-1,c&-c),O.tag=2;var K=x.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?O.next=O:(O.next=ne.next,ne.next=O),K.pending=O}}x.lanes|=c,O=x.alternate,O!==null&&(O.lanes|=c),$f(x.return,c,o),j.lanes|=c;break}O=O.next}}else if(x.tag===10)T=x.type===o.type?null:x.child;else if(x.tag===18){if(T=x.return,T===null)throw Error(n(341));T.lanes|=c,j=T.alternate,j!==null&&(j.lanes|=c),$f(T,c,o),T=x.sibling}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===o){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}un(i,o,g.children,c),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,ya(o,c),g=$n(g),h=h(g),o.flags|=1,un(i,o,h,c),o.child;case 14:return h=o.type,g=lr(h,o.pendingProps),g=lr(h.type,g),_0(i,o,h,g,c);case 15:return b0(i,o,o.type,o.pendingProps,c);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:lr(h,g),id(i,o),o.tag=1,vn(h)?(i=!0,Uu(o)):i=!1,ya(o,c),f0(o,h,g),sp(o,h,g,c),cp(null,o,h,!0,i,c);case 19:return P0(i,o,c);case 22:return T0(i,o,c)}throw Error(n(156,o.tag))};function ex(i,o){return qo(i,o)}function qS(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(i,o,c,h){return new qS(i,o,c,h)}function Ap(i){return i=i.prototype,!(!i||!i.isReactComponent)}function WS(i){if(typeof i=="function")return Ap(i)?1:0;if(i!=null){if(i=i.$$typeof,i===M)return 11;if(i===ge)return 14}return 2}function ns(i,o){var c=i.alternate;return c===null?(c=Hn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function md(i,o,c,h,g,x){var T=2;if(h=i,typeof i=="function")Ap(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case V:return no(c.children,g,x,o);case I:T=8,g|=8;break;case R:return i=Hn(12,c,o,g|2),i.elementType=R,i.lanes=x,i;case C:return i=Hn(13,c,o,g),i.elementType=C,i.lanes=x,i;case se:return i=Hn(19,c,o,g),i.elementType=se,i.lanes=x,i;case Ce:return gd(c,g,x,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:T=10;break e;case L:T=9;break e;case M:T=11;break e;case ge:T=14;break e;case ce:T=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Hn(T,c,o,g),o.elementType=i,o.type=h,o.lanes=x,o}function no(i,o,c,h){return i=Hn(7,i,h,o),i.lanes=c,i}function gd(i,o,c,h){return i=Hn(22,i,h,o),i.elementType=Ce,i.lanes=c,i.stateNode={isHidden:!1},i}function Pp(i,o,c){return i=Hn(6,i,null,o),i.lanes=c,i}function Np(i,o,c){return o=Hn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function HS(i,o,c,h,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Rp(i,o,c,h,g,x,T,j,O){return i=new HS(i,o,c,j,O),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Hn(3,null,null,o),i.current=x,x.stateNode=i,x.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(x),i}function GS(i,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:h==null?null:""+h,children:i,containerInfo:o,implementation:c}}function tx(i){if(!i)return Gi;i=i._reactInternals;e:{if(Zn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(vn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(vn(c))return Av(i,c,o)}return o}function nx(i,o,c,h,g,x,T,j,O){return i=Rp(c,h,!0,i,g,x,T,j,O),i.context=tx(null),c=i.current,h=dn(),g=es(c),x=oi(h,g),x.callback=o??null,Yi(c,x,g),i.current.lanes=g,Oi(i,g,h),_n(i,h),i}function yd(i,o,c,h){var g=o.current,x=dn(),T=es(g);return c=tx(c),o.context===null?o.context=c:o.pendingContext=c,o=oi(x,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Yi(g,o,T),i!==null&&(dr(i,g,T,x),Ku(i,g,T)),T}function vd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function rx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function jp(i,o){rx(i,o),(i=i.alternate)&&rx(i,o)}function KS(){return null}var ix=typeof reportError=="function"?reportError:function(i){console.error(i)};function Vp(i){this._internalRoot=i}xd.prototype.render=Vp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));yd(i,o,null,null)},xd.prototype.unmount=Vp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Zs(function(){yd(null,i,null,null)}),o[ti]=null}};function xd(i){this._internalRoot=i}xd.prototype.unstable_scheduleHydration=function(i){if(i){var o=xu();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Er.length&&o!==0&&o<Er[c].priority;c++);Er.splice(c,0,i),c===0&&bu(i)}};function Dp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function wd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function sx(){}function QS(i,o,c,h,g){if(g){if(typeof h=="function"){var x=h;h=function(){var K=vd(T);x.call(K)}}var T=nx(o,h,i,0,null,!1,!1,"",sx);return i._reactRootContainer=T,i[ti]=T.current,Ol(i.nodeType===8?i.parentNode:i),Zs(),T}for(;g=i.lastChild;)i.removeChild(g);if(typeof h=="function"){var j=h;h=function(){var K=vd(O);j.call(K)}}var O=Rp(i,0,!1,null,null,!1,!1,"",sx);return i._reactRootContainer=O,i[ti]=O.current,Ol(i.nodeType===8?i.parentNode:i),Zs(function(){yd(o,O,c,h)}),O}function _d(i,o,c,h,g){var x=c._reactRootContainer;if(x){var T=x;if(typeof g=="function"){var j=g;g=function(){var O=vd(T);j.call(O)}}yd(o,T,i,g)}else T=QS(c,o,i,g,h);return vd(T)}yu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=Li(o.pendingLanes);c!==0&&(Fi(o,c|1),_n(o,tt()),(Ke&6)===0&&(ba=tt()+500,Ki()))}break;case 13:Zs(function(){var h=si(i,1);if(h!==null){var g=dn();dr(h,i,1,g)}}),jp(i,1)}},Go=function(i){if(i.tag===13){var o=si(i,134217728);if(o!==null){var c=dn();dr(o,i,134217728,c)}jp(i,134217728)}},vu=function(i){if(i.tag===13){var o=es(i),c=si(i,o);if(c!==null){var h=dn();dr(c,i,o,h)}jp(i,o)}},xu=function(){return ze},wu=function(i,o){var c=ze;try{return ze=i,o()}finally{ze=c}},Oo=function(i,o,c){switch(o){case"input":if(cl(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var g=Ou(h);if(!g)throw Error(n(90));Ln(h),cl(h,g)}}}break;case"textarea":Lo(i,c);break;case"select":o=c.value,o!=null&&Gr(i,!!c.multiple,o,!1)}},js=Sp,xl=Zs;var YS={usingClientEntryPoint:!1,Events:[Bl,ca,Ou,br,vl,Sp]},tc={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XS={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=bl(i),i===null?null:i.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||KS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{Os=bd.inject(XS),Sn=bd}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YS,bn.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(o))throw Error(n(200));return GS(i,o,null,c)},bn.createRoot=function(i,o){if(!Dp(i))throw Error(n(299));var c=!1,h="",g=ix;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Rp(i,1,!1,null,null,c,!1,h,g),i[ti]=o.current,Ol(i.nodeType===8?i.parentNode:i),new Vp(o)},bn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=bl(o),i=i===null?null:i.stateNode,i},bn.flushSync=function(i){return Zs(i)},bn.hydrate=function(i,o,c){if(!wd(o))throw Error(n(200));return _d(null,i,o,!0,c)},bn.hydrateRoot=function(i,o,c){if(!Dp(i))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,g=!1,x="",T=ix;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),o=nx(o,null,i,1,c??null,g,!1,x,T),i[ti]=o.current,Ol(i),h)for(i=0;i<h.length;i++)c=h[i],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new xd(o)},bn.render=function(i,o,c){if(!wd(o))throw Error(n(200));return _d(null,i,o,!1,c)},bn.unmountComponentAtNode=function(i){if(!wd(i))throw Error(n(40));return i._reactRootContainer?(Zs(function(){_d(null,null,i,!1,function(){i._reactRootContainer=null,i[ti]=null})}),!0):!1},bn.unstable_batchedUpdates=Sp,bn.unstable_renderSubtreeIntoContainer=function(i,o,c,h){if(!wd(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return _d(i,o,c,!1,h)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var fx;function wb(){if(fx)return Op.exports;fx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Op.exports=ak(),Op.exports}var px;function lk(){if(px)return Td;px=1;var t=wb();return Td.createRoot=t.createRoot,Td.hydrateRoot=t.hydrateRoot,Td}var ck=lk();wb();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}var fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fs||(fs={}));const mx="popstate";function uk(t){t===void 0&&(t={});function e(s,a){let{pathname:l="/",search:d="",hash:f=""}=Io(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),km("",{pathname:l,search:d,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=s.location.href,m=f.indexOf("#");d=m===-1?f:f.slice(0,m)}return d+"#"+(typeof a=="string"?a:Qd(a))}function r(s,a){_g(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return hk(e,n,r,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _g(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dk(){return Math.random().toString(36).substr(2,8)}function gx(t,e){return{usr:t.state,key:t.key,idx:e}}function km(t,e,n,r){return n===void 0&&(n=null),Cc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Io(e):e,{state:n,key:e&&e.key||r||dk()})}function Qd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d=fs.Pop,f=null,m=y();m==null&&(m=0,l.replaceState(Cc({},l.state,{idx:m}),""));function y(){return(l.state||{idx:null}).idx}function w(){d=fs.Pop;let N=y(),B=N==null?null:N-m;m=N,f&&f({action:d,location:P.location,delta:B})}function b(N,B){d=fs.Push;let $=km(P.location,N,B);n&&n($,N),m=y()+1;let z=gx($,m),G=P.createHref($);try{l.pushState(z,"",G)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;s.location.assign(G)}a&&f&&f({action:d,location:P.location,delta:1})}function E(N,B){d=fs.Replace;let $=km(P.location,N,B);n&&n($,N),m=y();let z=gx($,m),G=P.createHref($);l.replaceState(z,"",G),a&&f&&f({action:d,location:P.location,delta:0})}function k(N){let B=s.location.origin!=="null"?s.location.origin:s.location.href,$=typeof N=="string"?N:Qd(N);return $=$.replace(/ $/,"%20"),ht(B,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,B)}let P={get action(){return d},get location(){return t(s,l)},listen(N){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(mx,w),f=N,()=>{s.removeEventListener(mx,w),f=null}},createHref(N){return e(s,N)},createURL:k,encodeLocation(N){let B=k(N);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:b,replace:E,go(N){return l.go(N)}};return P}var yx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yx||(yx={}));function fk(t,e,n){return n===void 0&&(n="/"),pk(t,e,n)}function pk(t,e,n,r){let s=typeof e=="string"?Io(e):e,a=Ua(s.pathname||"/",n);if(a==null)return null;let l=_b(t);mk(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let m=Sk(a);d=Ek(l[f],m)}return d}function _b(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,l,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(ht(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=ms([r,f.relativePath]),y=n.concat(f);a.children&&a.children.length>0&&(ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),_b(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:bk(m,a.index),routesMeta:y})};return t.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,l);else for(let f of bb(a.path))s(a,l,f)}),e}function bb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=bb(r.join("/")),d=[];return d.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function mk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gk=/^:[\w-]+$/,yk=3,vk=2,xk=1,wk=10,_k=-2,vx=t=>t==="*";function bk(t,e){let n=t.split("/"),r=n.length;return n.some(vx)&&(r+=_k),e&&(r+=vk),n.filter(s=>!vx(s)).reduce((s,a)=>s+(gk.test(a)?yk:a===""?xk:wk),r)}function Tk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Ek(t,e,n){let{routesMeta:r}=t,s={},a="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=Cm({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),b=f.route;if(!w)return null;Object.assign(s,w.params),l.push({params:s,pathname:ms([a,w.pathname]),pathnameBase:Pk(ms([a,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(a=ms([a,w.pathnameBase]))}return l}function Cm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ik(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,y,w)=>{let{paramName:b,isOptional:E}=y;if(b==="*"){let P=d[w]||"";l=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const k=d[w];return E&&!k?m[b]=void 0:m[b]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function Ik(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_g(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Sk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _g(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ua(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Io(t):t;return{pathname:n?n.startsWith("/")?n:Ck(n,e):e,search:Nk(r),hash:Rk(s)}}function Ck(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ak(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bg(t,e){let n=Ak(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Io(t):(s=Cc({},t),ht(!s.pathname||!s.pathname.includes("?"),Bp("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Bp("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Bp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=n;else{let w=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),w-=1;s.pathname=b.join("/")}d=w>=0?e[w]:"/"}let f=kk(s,d),m=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}const ms=t=>t.join("/").replace(/\/\/+/g,"/"),Pk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Tb=["post","put","patch","delete"];new Set(Tb);const Vk=["get",...Tb];new Set(Vk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(this,arguments)}const Eh=D.createContext(null),Eb=D.createContext(null),Ci=D.createContext(null),Ih=D.createContext(null),Ai=D.createContext({outlet:null,matches:[],isDataRoute:!1}),Ib=D.createContext(null);function Dk(t,e){let{relative:n}=e===void 0?{}:e;Za()||ht(!1);let{basename:r,navigator:s}=D.useContext(Ci),{hash:a,pathname:l,search:d}=kh(t,{relative:n}),f=l;return r!=="/"&&(f=l==="/"?r:ms([r,l])),s.createHref({pathname:f,search:d,hash:a})}function Za(){return D.useContext(Ih)!=null}function Ss(){return Za()||ht(!1),D.useContext(Ih).location}function Sb(t){D.useContext(Ci).static||D.useLayoutEffect(t)}function an(){let{isDataRoute:t}=D.useContext(Ai);return t?Kk():Lk()}function Lk(){Za()||ht(!1);let t=D.useContext(Eh),{basename:e,future:n,navigator:r}=D.useContext(Ci),{matches:s}=D.useContext(Ai),{pathname:a}=Ss(),l=JSON.stringify(bg(s,n.v7_relativeSplatPath)),d=D.useRef(!1);return Sb(()=>{d.current=!0}),D.useCallback(function(m,y){if(y===void 0&&(y={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let w=Tg(m,JSON.parse(l),a,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ms([e,w.pathname])),(y.replace?r.replace:r.push)(w,y.state,y)},[e,r,l,a,t])}function Sh(){let{matches:t}=D.useContext(Ai),e=t[t.length-1];return e?e.params:{}}function kh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(Ci),{matches:s}=D.useContext(Ai),{pathname:a}=Ss(),l=JSON.stringify(bg(s,r.v7_relativeSplatPath));return D.useMemo(()=>Tg(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function Mk(t,e){return Ok(t,e)}function Ok(t,e,n,r){Za()||ht(!1);let{navigator:s}=D.useContext(Ci),{matches:a}=D.useContext(Ai),l=a[a.length-1],d=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let m=Ss(),y;if(e){var w;let N=typeof e=="string"?Io(e):e;f==="/"||(w=N.pathname)!=null&&w.startsWith(f)||ht(!1),y=N}else y=m;let b=y.pathname||"/",E=b;if(f!=="/"){let N=f.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let k=fk(t,{pathname:E}),P=$k(k&&k.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:ms([f,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:ms([f,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r);return e&&P?D.createElement(Ih.Provider,{value:{location:Ac({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:fs.Pop}},P):P}function Fk(){let t=Gk(),e=jk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:s},n):null,null)}const Uk=D.createElement(Fk,null);class Bk extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Ai.Provider,{value:this.props.routeContext},D.createElement(Ib.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zk(t){let{routeContext:e,match:n,children:r}=t,s=D.useContext(Eh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Ai.Provider,{value:e},r)}function $k(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,d=(s=n)==null?void 0:s.errors;if(d!=null){let y=l.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);y>=0||ht(!1),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=y),w.route.id){let{loaderData:b,errors:E}=n,k=w.route.loader&&b[w.route.id]===void 0&&(!E||E[w.route.id]===void 0);if(w.route.lazy||k){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((y,w,b)=>{let E,k=!1,P=null,N=null;n&&(E=d&&w.route.id?d[w.route.id]:void 0,P=w.route.errorElement||Uk,f&&(m<0&&b===0?(Qk("route-fallback"),k=!0,N=null):m===b&&(k=!0,N=w.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,b+1)),$=()=>{let z;return E?z=P:k?z=N:w.route.Component?z=D.createElement(w.route.Component,null):w.route.element?z=w.route.element:z=y,D.createElement(zk,{match:w,routeContext:{outlet:y,matches:B,isDataRoute:n!=null},children:z})};return n&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?D.createElement(Bk,{location:n.location,revalidation:n.revalidation,component:P,error:E,children:$(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):$()},null)}var kb=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(kb||{}),Cb=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Cb||{});function qk(t){let e=D.useContext(Eh);return e||ht(!1),e}function Wk(t){let e=D.useContext(Eb);return e||ht(!1),e}function Hk(t){let e=D.useContext(Ai);return e||ht(!1),e}function Ab(t){let e=Hk(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function Gk(){var t;let e=D.useContext(Ib),n=Wk(),r=Ab();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Kk(){let{router:t}=qk(kb.UseNavigateStable),e=Ab(Cb.UseNavigateStable),n=D.useRef(!1);return Sb(()=>{n.current=!0}),D.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ac({fromRouteId:e},a)))},[t,e])}const xx={};function Qk(t,e,n){xx[t]||(xx[t]=!0)}function Yk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xk(t){let{to:e,replace:n,state:r,relative:s}=t;Za()||ht(!1);let{future:a,static:l}=D.useContext(Ci),{matches:d}=D.useContext(Ai),{pathname:f}=Ss(),m=an(),y=Tg(e,bg(d,a.v7_relativeSplatPath),f,s==="path"),w=JSON.stringify(y);return D.useEffect(()=>m(JSON.parse(w),{replace:n,state:r,relative:s}),[m,w,s,n,r]),null}function wt(t){ht(!1)}function Jk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=fs.Pop,navigator:a,static:l=!1,future:d}=t;Za()&&ht(!1);let f=e.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:f,navigator:a,static:l,future:Ac({v7_relativeSplatPath:!1},d)}),[f,d,a,l]);typeof r=="string"&&(r=Io(r));let{pathname:y="/",search:w="",hash:b="",state:E=null,key:k="default"}=r,P=D.useMemo(()=>{let N=Ua(y,f);return N==null?null:{location:{pathname:N,search:w,hash:b,state:E,key:k},navigationType:s}},[f,y,w,b,E,k,s]);return P==null?null:D.createElement(Ci.Provider,{value:m},D.createElement(Ih.Provider,{children:n,value:P}))}function Zk(t){let{children:e,location:n}=t;return Mk(Am(e),n)}new Promise(()=>{});function Am(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,s)=>{if(!D.isValidElement(r))return;let a=[...e,s];if(r.type===D.Fragment){n.push.apply(n,Am(r.props.children,a));return}r.type!==wt&&ht(!1),!r.props.index||!r.props.children||ht(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Am(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function Pb(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function eC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tC(t,e){return t.button===0&&(!e||e==="_self")&&!eC(t)}const nC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],iC="6";try{window.__reactRouterVersion=iC}catch{}const sC=D.createContext({isTransitioning:!1}),oC="startTransition",wx=ik[oC];function aC(t){let{basename:e,children:n,future:r,window:s}=t,a=D.useRef();a.current==null&&(a.current=uk({window:s,v5Compat:!0}));let l=a.current,[d,f]=D.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},y=D.useCallback(w=>{m&&wx?wx(()=>f(w)):f(w)},[f,m]);return D.useLayoutEffect(()=>l.listen(y),[l,y]),D.useEffect(()=>Yk(r),[r]),D.createElement(Jk,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:l,future:r})}const lC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=D.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:d,target:f,to:m,preventScrollReset:y,viewTransition:w}=e,b=Pb(e,nC),{basename:E}=D.useContext(Ci),k,P=!1;if(typeof m=="string"&&cC.test(m)&&(k=m,lC))try{let z=new URL(window.location.href),G=m.startsWith("//")?new URL(z.protocol+m):new URL(m),ie=Ua(G.pathname,E);G.origin===z.origin&&ie!=null?m=ie+G.search+G.hash:P=!0}catch{}let N=Dk(m,{relative:s}),B=dC(m,{replace:l,state:d,target:f,preventScrollReset:y,relative:s,viewTransition:w});function $(z){r&&r(z),z.defaultPrevented||B(z)}return D.createElement("a",Yd({},b,{href:k||N,onClick:P||a?r:$,ref:n,target:f}))}),Ed=D.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:l=!1,style:d,to:f,viewTransition:m,children:y}=e,w=Pb(e,rC),b=kh(f,{relative:w.relative}),E=Ss(),k=D.useContext(Eb),{navigator:P,basename:N}=D.useContext(Ci),B=k!=null&&hC(b)&&m===!0,$=P.encodeLocation?P.encodeLocation(b).pathname:b.pathname,z=E.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(z=z.toLowerCase(),G=G?G.toLowerCase():null,$=$.toLowerCase()),G&&N&&(G=Ua(G,N)||G);const ie=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let Z=z===$||!l&&z.startsWith($)&&z.charAt(ie)==="/",V=G!=null&&(G===$||!l&&G.startsWith($)&&G.charAt($.length)==="/"),I={isActive:Z,isPending:V,isTransitioning:B},R=Z?r:void 0,A;typeof a=="function"?A=a(I):A=[a,Z?"active":null,V?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let L=typeof d=="function"?d(I):d;return D.createElement(sn,Yd({},w,{"aria-current":R,className:A,ref:n,style:L,to:f,viewTransition:m}),typeof y=="function"?y(I):y)});var Pm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pm||(Pm={}));var _x;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_x||(_x={}));function uC(t){let e=D.useContext(Eh);return e||ht(!1),e}function dC(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:d}=e===void 0?{}:e,f=an(),m=Ss(),y=kh(t,{relative:l});return D.useCallback(w=>{if(tC(w,n)){w.preventDefault();let b=r!==void 0?r:Qd(m)===Qd(y);f(t,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:d})}},[m,f,y,r,s,n,t,a,l,d])}function hC(t,e){e===void 0&&(e={});let n=D.useContext(sC);n==null&&ht(!1);let{basename:r}=uC(Pm.useViewTransitionState),s=kh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ua(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ua(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cm(s.pathname,l)!=null||Cm(s.pathname,a)!=null}var bx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],d=t[n++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,d=l?t[s+1]:0,f=s+2<t.length,m=f?t[s+2]:0,y=a>>2,w=(a&3)<<4|d>>4;let b=(d&15)<<2|m>>6,E=m&63;f||(E=64,l||(b=64)),r.push(n[y],n[w],n[b],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const w=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||d==null||m==null||w==null)throw new pC;const b=a<<2|d>>4;if(r.push(b),m!==64){const E=d<<4&240|m>>2;if(r.push(E),w!==64){const k=m<<6&192|w;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mC=function(t){const e=Nb(t);return Rb.encodeByteArray(e,!0)},Xd=function(t){return mC(t).replace(/\./g,"")},jb=function(t){try{return Rb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=()=>gC().__FIREBASE_DEFAULTS__,vC=()=>{if(typeof process>"u"||typeof bx>"u")return;const t=bx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jb(t[1]);return e&&JSON.parse(e)},Ch=()=>{try{return yC()||vC()||xC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vb=t=>{var e,n;return(n=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wC=t=>{const e=Vb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Db=()=>{var t;return(t=Ch())===null||t===void 0?void 0:t.config},Lb=t=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xd(JSON.stringify(n)),Xd(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function EC(){var t;const e=(t=Ch())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kC(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CC(){return!EC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ob(){try{return typeof indexedDB=="object"}catch{return!1}}function Fb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function AC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PC,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,So.prototype.create)}}class So{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?NC(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new xr(s,d,r)}}function NC(t,e){return t.replace(RC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const RC=/\{\$([^}]+)}/g;function jC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Tx(a)&&Tx(l)){if(!Pc(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Tx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VC(t,e){const n=new DC(t,e);return n.subscribe.bind(n)}class DC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=zp),s.error===void 0&&(s.error=zp),s.complete===void 0&&(s.complete=zp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,OC=2,FC=14400*1e3,UC=.5;function Ex(t,e=MC,n=OC){const r=e*Math.pow(n,t),s=Math.round(UC*r*(Math.random()-.5)*2);return Math.min(FC,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _C;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($C(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zC(t){return t===so?void 0:t}function $C(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const WC={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},HC=$e.INFO,GC={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},KC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=GC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ah{constructor(e){this.name=e,this._logLevel=HC,this._logHandler=KC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const QC=(t,e)=>e.some(n=>t instanceof n);let Ix,Sx;function YC(){return Ix||(Ix=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XC(){return Sx||(Sx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ub=new WeakMap,Nm=new WeakMap,Bb=new WeakMap,$p=new WeakMap,Eg=new WeakMap;function JC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(gs(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Ub.set(n,t)}).catch(()=>{}),Eg.set(e,t),e}function ZC(t){if(Nm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Nm.set(t,e)}let Rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eA(t){Rm=t(Rm)}function tA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qp(this),e,...n);return Bb.set(r,e.sort?e.sort():[e]),gs(r)}:XC().includes(t)?function(...e){return t.apply(qp(this),e),gs(Ub.get(this))}:function(...e){return gs(t.apply(qp(this),e))}}function nA(t){return typeof t=="function"?tA(t):(t instanceof IDBTransaction&&ZC(t),QC(t,YC())?new Proxy(t,Rm):t)}function gs(t){if(t instanceof IDBRequest)return JC(t);if($p.has(t))return $p.get(t);const e=nA(t);return e!==t&&($p.set(t,e),Eg.set(e,t)),e}const qp=t=>Eg.get(t);function zb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),d=gs(l);return r&&l.addEventListener("upgradeneeded",f=>{r(gs(l.result),f.oldVersion,f.newVersion,gs(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const rA=["get","getKey","getAll","getAllKeys","count"],iA=["put","add","delete","clear"],Wp=new Map;function kx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=iA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rA.includes(n)))return;const a=async function(l,...d){const f=this.transaction(l,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),s&&f.done]))[0]};return Wp.set(e,a),a}eA(t=>({...t,get:(e,n,r)=>kx(e,n)||t.get(e,n,r),has:(e,n)=>!!kx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jm="@firebase/app",Cx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Ah("@firebase/app"),aA="@firebase/app-compat",lA="@firebase/analytics-compat",cA="@firebase/analytics",uA="@firebase/app-check-compat",dA="@firebase/app-check",hA="@firebase/auth",fA="@firebase/auth-compat",pA="@firebase/database",mA="@firebase/data-connect",gA="@firebase/database-compat",yA="@firebase/functions",vA="@firebase/functions-compat",xA="@firebase/installations",wA="@firebase/installations-compat",_A="@firebase/messaging",bA="@firebase/messaging-compat",TA="@firebase/performance",EA="@firebase/performance-compat",IA="@firebase/remote-config",SA="@firebase/remote-config-compat",kA="@firebase/storage",CA="@firebase/storage-compat",AA="@firebase/firestore",PA="@firebase/vertexai-preview",NA="@firebase/firestore-compat",RA="firebase",jA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",VA={[jm]:"fire-core",[aA]:"fire-core-compat",[cA]:"fire-analytics",[lA]:"fire-analytics-compat",[dA]:"fire-app-check",[uA]:"fire-app-check-compat",[hA]:"fire-auth",[fA]:"fire-auth-compat",[pA]:"fire-rtdb",[mA]:"fire-data-connect",[gA]:"fire-rtdb-compat",[yA]:"fire-fn",[vA]:"fire-fn-compat",[xA]:"fire-iid",[wA]:"fire-iid-compat",[_A]:"fire-fcm",[bA]:"fire-fcm-compat",[TA]:"fire-perf",[EA]:"fire-perf-compat",[IA]:"fire-rc",[SA]:"fire-rc-compat",[kA]:"fire-gcs",[CA]:"fire-gcs-compat",[AA]:"fire-fst",[NA]:"fire-fst-compat",[PA]:"fire-vertex","fire-js":"fire-js",[RA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,DA=new Map,Dm=new Map;function Ax(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $r(t){const e=t.name;if(Dm.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,t);for(const n of Jd.values())Ax(n,t);for(const n of DA.values())Ax(n,t);return!0}function ko(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new So("app","Firebase",LA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=jA;function $b(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ys.create("bad-app-name",{appName:String(s)});if(n||(n=Db()),!n)throw ys.create("no-options");const a=Jd.get(s);if(a){if(Pc(n,a.options)&&Pc(r,a.config))return a;throw ys.create("duplicate-app",{appName:s})}const l=new qC(s);for(const f of Dm.values())l.addComponent(f);const d=new MA(n,r,l);return Jd.set(s,d),d}function Ig(t=Vm){const e=Jd.get(t);if(!e&&t===Vm&&Db())return $b();if(!e)throw ys.create("no-app",{appName:t});return e}function Qn(t,e,n){var r;let s=(r=VA[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(d.join(" "));return}$r(new yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebase-heartbeat-database",FA=1,Nc="firebase-heartbeat-store";let Hp=null;function qb(){return Hp||(Hp=zb(OA,FA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),Hp}async function UA(t){try{const n=(await qb()).transaction(Nc),r=await n.objectStore(Nc).get(Wb(t));return await n.done,r}catch(e){if(e instanceof xr)bi.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function Px(t,e){try{const r=(await qb()).transaction(Nc,"readwrite");await r.objectStore(Nc).put(e,Wb(t)),await r.done}catch(n){if(n instanceof xr)bi.warn(n.message);else{const r=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function Wb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1024,zA=720*60*60*1e3;class $A{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Nx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const d=new Date(l.date).valueOf();return Date.now()-d<=zA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nx(),{heartbeatsToSend:r,unsentEntries:s}=qA(this._heartbeatsCache.heartbeats),a=Xd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return bi.warn(n),""}}}function Nx(){return new Date().toISOString().substring(0,10)}function qA(t,e=BA){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Rx(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Rx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ob()?Fb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Px(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Px(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rx(t){return Xd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){$r(new yr("platform-logger",e=>new sA(e),"PRIVATE")),$r(new yr("heartbeat",e=>new $A(e),"PRIVATE")),Qn(jm,Cx,t),Qn(jm,Cx,"esm2017"),Qn("fire-js","")}HA("");function Sg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GA=Hb,Gb=new So("auth","Firebase",Hb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Ah("@firebase/auth");function KA(t,...e){Zd.logLevel<=$e.WARN&&Zd.warn(`Auth (${el}): ${t}`,...e)}function Md(t,...e){Zd.logLevel<=$e.ERROR&&Zd.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw Cg(t,...e)}function mr(t,...e){return Cg(t,...e)}function kg(t,e,n){const r=Object.assign(Object.assign({},GA()),{[e]:n});return new So("auth","Firebase",r).create(e,{appName:t.name})}function gi(t){return kg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yn(t,"argument-error"),kg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gb.create(t,...e)}function Pe(t,e,...n){if(!t)throw Cg(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Md(e),new Error(e)}function Ti(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YA(){return jx()==="http:"||jx()==="https:"}function jx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YA()||Mb()||"connection"in navigator)?navigator.onLine:!0}function JA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=TC()||SC()}get(){return XA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Wc(3e4,6e4);function Pi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wr(t,e,n,r,s={}){return Qb(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=qc(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},a);return IC()||(m.referrerPolicy="no-referrer"),Kb.fetch()(Yb(t,t.config.apiHost,n,d),m)})}async function Qb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZA),e);try{const s=new nP(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Id(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Id(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Id(t,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw kg(t,y,m);Yn(t,y)}}catch(s){if(s instanceof xr)throw s;Yn(t,"network-request-failed",{message:String(s)})}}async function Hc(t,e,n,r,s={}){const a=await Wr(t,e,n,r,s);return"mfaPendingCredential"in a&&Yn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Yb(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ag(t.config,s):`${t.config.apiScheme}://${s}`}function tP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),eP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mr(t,e,r);return s.customData._tokenResponse=n,s}function Vx(t){return t!==void 0&&t.enterprise!==void 0}class rP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function iP(t,e){return Wr(t,"GET","/v2/recaptchaConfig",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(t,e){return Wr(t,"POST","/v1/accounts:delete",e)}async function Xb(t,e){return Wr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oP(t,e=!1){const n=ft(t),r=await n.getIdToken(e),s=Pg(r);Pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:vc(Gp(s.auth_time)),issuedAtTime:vc(Gp(s.iat)),expirationTime:vc(Gp(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Gp(t){return Number(t)*1e3}function Pg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Md("JWT malformed, contained fewer than 3 sections"),null;try{const s=jb(n);return s?JSON.parse(s):(Md("Failed to decode base64 JWT payload"),null)}catch(s){return Md("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Dx(t){const e=Pg(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&aP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ba(t,Xb(n,{idToken:r}));Pe(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Jb(a.providerUserInfo):[],d=uP(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),y=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Mm(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function cP(t){const e=ft(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Jb(t){return t.map(e=>{var{providerId:n}=e,r=Sg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(t,e){const n=await Qb(t,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=Yb(t,s,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Kb.fetch()(l,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hP(t,e){return Wr(t,"POST","/v2/accounts:revokeToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=Dx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await dP(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new La;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Pe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Pe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Mm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ba(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oP(this,e)}reload(){return cP(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await Ba(this,sP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,d,f,m,y;const w=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,E=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,k=(l=n.photoURL)!==null&&l!==void 0?l:void 0,P=(d=n.tenantId)!==null&&d!==void 0?d:void 0,N=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,B=(m=n.createdAt)!==null&&m!==void 0?m:void 0,$=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:z,emailVerified:G,isAnonymous:ie,providerData:Z,stsTokenManager:V}=n;Pe(z&&V,e,"internal-error");const I=La.fromJSON(this.name,V);Pe(typeof z=="string",e,"internal-error"),is(w,e.name),is(b,e.name),Pe(typeof G=="boolean",e,"internal-error"),Pe(typeof ie=="boolean",e,"internal-error"),is(E,e.name),is(k,e.name),is(P,e.name),is(N,e.name),is(B,e.name),is($,e.name);const R=new hi({uid:z,auth:e,email:b,emailVerified:G,displayName:w,isAnonymous:ie,photoURL:k,phoneNumber:E,tenantId:P,stsTokenManager:I,createdAt:B,lastLoginAt:$});return Z&&Array.isArray(Z)&&(R.providerData=Z.map(A=>Object.assign({},A))),N&&(R._redirectEventId=N),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new La;s.updateFromServerResponse(n);const a=new hi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await eh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Jb(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new La;d.updateFromIdToken(r);const f=new hi({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Mm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Map;function fi(t){Ti(t instanceof Function,"Expected a class definition");let e=Lx.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zb.type="NONE";const Mx=Zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e,n){return`firebase:${t}:${e}:${n}`}class Ma{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Od(this.userKey,s.apiKey,a),this.fullPersistenceKey=Od("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ma(fi(Mx),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||fi(Mx);const l=Od(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(l);if(y){const w=hi._fromJSON(e,y);m!==a&&(d=w),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ma(a,e,r):(a=f[0],d&&await a._set(l,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Ma(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sT(e))return"Blackberry";if(oT(e))return"Webos";if(tT(e))return"Safari";if((e.includes("chrome/")||nT(e))&&!e.includes("edge/"))return"Chrome";if(iT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eT(t=on()){return/firefox\//i.test(t)}function tT(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nT(t=on()){return/crios\//i.test(t)}function rT(t=on()){return/iemobile/i.test(t)}function iT(t=on()){return/android/i.test(t)}function sT(t=on()){return/blackberry/i.test(t)}function oT(t=on()){return/webos/i.test(t)}function Ng(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fP(t=on()){var e;return Ng(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pP(){return kC()&&document.documentMode===10}function aT(t=on()){return Ng(t)||iT(t)||oT(t)||sT(t)||/windows phone/i.test(t)||rT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e=[]){let n;switch(t){case"Browser":n=Ox(on());break;case"Worker":n=`${Ox(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,d)=>{try{const f=e(a);l(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e={}){return Wr(t,"GET","/v2/passwordPolicy",Pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=6;class vP{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:yP,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fx(this),this.idTokenSubscription=new Fx(this),this.beforeStateQueue=new mP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ma.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xb(this,{idToken:e}),r=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(gi(this));const n=e?ft(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gP(this),n=new vP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new So("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ni(t){return ft(t)}class Fx{constructor(e){this.auth=e,this.observer=null,this.addObserver=VC(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wP(t){Ph=t}function cT(t){return Ph.loadJS(t)}function _P(){return Ph.recaptchaEnterpriseScript}function bP(){return Ph.gapiScript}function TP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const EP="recaptcha-enterprise",IP="NO_RECAPTCHA";class SP{constructor(e){this.type=EP,this.auth=Ni(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{iP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new rP(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(f=>{d(f)})})}function s(a,l,d){const f=window.grecaptcha;Vx(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(IP)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{r(this.auth).then(d=>{if(!n&&Vx(window.grecaptcha))s(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=_P();f.length!==0&&(f+=d),cT(f).then(()=>{s(d,a,l)}).catch(m=>{l(m)})}}).catch(d=>{l(d)})})}}async function Ux(t,e,n,r=!1){const s=new SP(t);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function th(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ux(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ux(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t,e){const n=ko(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Pc(a,e??{}))return s;Yn(s,"already-initialized")}return n.initialize({options:e})}function CP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AP(t,e,n){const r=Ni(t);Pe(r._canInitEmulator,r,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=uT(e),{host:l,port:d}=PP(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),NP()}function uT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PP(t){const e=uT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Bx(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Bx(l)}}}function Bx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function RP(t,e){return Wr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e){return Hc(t,"POST","/v1/accounts:signInWithPassword",Pi(t,e))}async function VP(t,e){return Wr(t,"POST","/v1/accounts:sendOobCode",Pi(t,e))}async function DP(t,e){return VP(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e){return Hc(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}async function MP(t,e){return Hc(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Rg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Rc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,n,"signInWithPassword",jP);case"emailLink":return LP(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,r,"signUpPassword",RP);case"emailLink":return MP(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e){return Hc(t,"POST","/v1/accounts:signInWithIdp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="http://localhost";class go extends Rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Sg(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new go(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oa(e,n)}buildRequest(){const e={requestUri:OP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UP(t){const e=dc(hc(t)).link,n=e?dc(hc(e)).deep_link_id:null,r=dc(hc(t)).deep_link_id;return(r?dc(hc(r)).link:null)||r||n||e||t}class jg{constructor(e){var n,r,s,a,l,d;const f=dc(hc(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,w=FP((s=f.mode)!==null&&s!==void 0?s:null);Pe(m&&y&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=y,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=UP(e);try{return new jg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(e,n){return Rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jg.parseLink(n);return Pe(r,"argument-error"),Rc._fromEmailAndCode(e,r.code,r.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Gc{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Gc{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Gc{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hs.credential(n,r)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e){return Hc(t,"POST","/v1/accounts:signUp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await hi._fromIdTokenResponse(e,r,s),l=zx(r);return new yo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=zx(r);return new yo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function zx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends xr{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new nh(e,n,r,s)}}function dT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(t,a,e,r):a})}async function zP(t,e,n=!1){const r=await Ba(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(t,e,n=!1){const{auth:r}=t;if(pr(r.app))return Promise.reject(gi(r));const s="reauthenticate";try{const a=await Ba(t,dT(r,s,e,t),n);Pe(a.idToken,r,"internal-error");const l=Pg(a.idToken);Pe(l,r,"internal-error");const{sub:d}=l;return Pe(t.uid===d,r,"user-mismatch"),yo._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(t,e,n=!1){if(pr(t.app))return Promise.reject(gi(t));const r="signIn",s=await dT(t,r,e),a=await yo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function qP(t,e){return hT(Ni(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(t){const e=Ni(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WP(t,e,n){const r=Ni(t);await th(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",DP)}async function HP(t,e,n){if(pr(t.app))return Promise.reject(gi(t));const r=Ni(t),l=await th(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BP).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&fT(t),f}),d=await yo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function GP(t,e,n){return pr(t.app)?Promise.reject(gi(t)):qP(ft(t),tl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e){return Wr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ft(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Ba(r,KP(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t,e){return ft(t).setPersistence(e)}function XP(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function JP(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function ZP(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function pT(t){return ft(t).signOut()}const rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=1e3,tN=10;class gT extends mT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);pP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,tN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gT.type="LOCAL";const nN=gT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends mT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yT.type="SESSION";const Dg=yT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async m=>m(n.origin,a)),f=await rN(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,f)=>{const m=Lg("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(w){const b=w;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(b.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function sN(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function oN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lN(){return vT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebaseLocalStorageDb",cN=1,ih="firebaseLocalStorage",wT="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(t,e){return t.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function uN(){const t=indexedDB.deleteDatabase(xT);return new Kc(t).toPromise()}function Om(){const t=indexedDB.open(xT,cN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ih,{keyPath:wT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ih)?e(r):(r.close(),await uN(),e(await Om()))})})}async function $x(t,e,n){const r=Rh(t,!0).put({[wT]:e,value:n});return new Kc(r).toPromise()}async function dN(t,e){const n=Rh(t,!1).get(e),r=await new Kc(n).toPromise();return r===void 0?null:r.value}function qx(t,e){const n=Rh(t,!0).delete(e);return new Kc(n).toPromise()}const hN=800,fN=3;class _T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(lN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oN(),!this.activeServiceWorker)return;this.sender=new iN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await $x(e,rh,"1"),await qx(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$x(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Rh(s,!1).getAll();return new Kc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_T.type="LOCAL";const pN=_T;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e){return e?fi(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends Rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mN(t){return hT(t.auth,new Mg(t),t.bypassAuthState)}function gN(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),$P(n,new Mg(t),t.bypassAuthState)}async function yN(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),zP(n,new Mg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mN;case"linkViaPopup":case"linkViaRedirect":return yN;case"reauthViaPopup":case"reauthViaRedirect":return gN;default:Yn(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Wc(2e3,1e4);async function ET(t,e,n){if(pr(t.app))return Promise.reject(mr(t,"operation-not-supported-in-this-environment"));const r=Ni(t);QA(t,e,Vg);const s=bT(r,n);return new co(r,"signInViaPopup",e,s).executeNotNull()}class co extends TT{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vN.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="pendingRedirect",Fd=new Map;class wN extends TT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fd.get(this.auth._key());if(!e){try{const r=await _N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fd.set(this.auth._key(),e)}return this.bypassAuthState||Fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(t,e){const n=EN(e),r=TN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function bN(t,e){Fd.set(t._key(),e)}function TN(t){return fi(t._redirectPersistence)}function EN(t){return Od(xN,t.config.apiKey,t.name)}async function IN(t,e,n=!1){if(pr(t.app))return Promise.reject(gi(t));const r=Ni(t),s=bT(r,e),l=await new wN(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=600*1e3;class kN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wx(e))}saveEventToCache(e){this.cachedEventUids.add(Wx(e)),this.lastProcessedEventTime=Date.now()}}function Wx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e={}){return Wr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NN=/^https?/;async function RN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AN(t);for(const n of e)try{if(jN(n))return}catch{}Yn(t,"unauthorized-domain")}function jN(t){const e=Lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!NN.test(n))return!1;if(PN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Wc(3e4,6e4);function Hx(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DN(t){return new Promise((e,n)=>{var r,s,a;function l(){Hx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hx(),n(mr(t,"network-request-failed"))},timeout:VN.get()})}if(!((s=(r=Mr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Mr().gapi)===null||a===void 0)&&a.load)l();else{const d=TP("iframefcb");return Mr()[d]=()=>{gapi.load?l():n(mr(t,"network-request-failed"))},cT(`${bP()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Ud=null,e})}let Ud=null;function LN(t){return Ud=Ud||DN(t),Ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Wc(5e3,15e3),ON="__/auth/iframe",FN="emulator/auth/iframe",UN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zN(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ag(e,FN):`https://${t.config.authDomain}/${ON}`,r={apiKey:e.apiKey,appName:t.name,v:el},s=BN.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${qc(r).slice(1)}`}async function $N(t){const e=await LN(t),n=Mr().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:zN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UN,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=mr(t,"network-request-failed"),d=Mr().setTimeout(()=>{a(l)},MN.get());function f(){Mr().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WN=500,HN=600,GN="_blank",KN="http://localhost";class Gx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QN(t,e,n,r=WN,s=HN){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},qN),{width:r.toString(),height:s.toString(),top:a,left:l}),m=on().toLowerCase();n&&(d=nT(m)?GN:n),eT(m)&&(e=e||KN,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[E,k])=>`${b}${E}=${k},`,"");if(fP(m)&&d!=="_self")return YN(e||"",d),new Gx(null);const w=window.open(e||"",d,y);Pe(w,t,"popup-blocked");try{w.focus()}catch{}return new Gx(w)}function YN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__/auth/handler",JN="emulator/auth/handler",ZN=encodeURIComponent("fac");async function Kx(t,e,n,r,s,a){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:el,eventId:s};if(e instanceof Vg){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",jC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))l[y]=w}if(e instanceof Gc){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await t._getAppCheckToken(),m=f?`#${ZN}=${encodeURIComponent(f)}`:"";return`${eR(t)}?${qc(d).slice(1)}${m}`}function eR({config:t}){return t.emulator?Ag(t,JN):`https://${t.authDomain}/${XN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class tR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dg,this._completeRedirectFn=IN,this._overrideRedirectResult=bN}async _openPopup(e,n,r,s){var a;Ti((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Kx(e,n,r,Lm(),s);return QN(e,l,Lg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await Kx(e,n,r,Lm(),s);return sN(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Ti(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $N(e),r=new kN(e);return n.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kp,{type:Kp},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Kp];l!==void 0&&n(!!l),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aT()||tT()||Ng()}}const nR=tR;var Qx="@firebase/auth",Yx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sR(t){$r(new yr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lT(t)},m=new xP(r,s,a,f);return CP(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$r(new yr("auth-internal",e=>{const n=Ni(e.getProvider("auth").getImmediate());return(r=>new rR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(Qx,Yx,iR(t)),Qn(Qx,Yx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=300,aR=Lb("authIdTokenMaxAge")||oR;let Xx=null;const lR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aR)return;const s=n==null?void 0:n.token;Xx!==s&&(Xx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cR(t=Ig()){const e=ko(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kP(t,{popupRedirectResolver:nR,persistence:[pN,nN,Dg]}),r=Lb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=lR(a.toString());JP(n,l,()=>l(n.currentUser)),XP(n,d=>l(d))}}const s=Vb("auth");return s&&AP(n,`http://${s}`),n}function uR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=mr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",uR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sR("Browser");var dR="firebase",hR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(dR,hR,"app");const ST="@firebase/installations",Og="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=1e4,CT=`w:${Og}`,AT="FIS_v2",fR="https://firebaseinstallations.googleapis.com/v1",pR=3600*1e3,mR="installations",gR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new So(mR,gR,yR);function PT(t){return t instanceof xr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT({projectId:t}){return`${fR}/projects/${t}/installations`}function RT(t){return{token:t.token,requestStatus:2,expiresIn:xR(t.expiresIn),creationTime:Date.now()}}async function jT(t,e){const r=(await e.json()).error;return vo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function VT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vR(t,{refreshToken:e}){const n=VT(t);return n.append("Authorization",wR(e)),n}async function DT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function xR(t){return Number(t.replace("s","000"))}function wR(t){return`${AT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=NT(t),s=VT(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const l={fid:n,authVersion:AT,appId:t.appId,sdkVersion:CT},d={method:"POST",headers:s,body:JSON.stringify(l)},f=await DT(()=>fetch(r,d));if(f.ok){const m=await f.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:RT(m.authToken)}}else throw await jT("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=/^[cdef][\w-]{21}$/,Fm="";function ER(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=IR(t);return TR.test(n)?n:Fm}catch{return Fm}}function IR(t){return bR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;function OT(t,e){const n=jh(t);FT(n,e),SR(n,e)}function FT(t,e){const n=MT.get(t);if(n)for(const r of n)r(e)}function SR(t,e){const n=kR();n&&n.postMessage({key:t,fid:e}),CR()}let uo=null;function kR(){return!uo&&"BroadcastChannel"in self&&(uo=new BroadcastChannel("[Firebase] FID Change"),uo.onmessage=t=>{FT(t.data.key,t.data.fid)}),uo}function CR(){MT.size===0&&uo&&(uo.close(),uo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebase-installations-database",PR=1,xo="firebase-installations-store";let Qp=null;function Fg(){return Qp||(Qp=zb(AR,PR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xo)}}})),Qp}async function sh(t,e){const n=jh(t),s=(await Fg()).transaction(xo,"readwrite"),a=s.objectStore(xo),l=await a.get(n);return await a.put(e,n),await s.done,(!l||l.fid!==e.fid)&&OT(t,e.fid),e}async function UT(t){const e=jh(t),r=(await Fg()).transaction(xo,"readwrite");await r.objectStore(xo).delete(e),await r.done}async function Vh(t,e){const n=jh(t),s=(await Fg()).transaction(xo,"readwrite"),a=s.objectStore(xo),l=await a.get(n),d=e(l);return d===void 0?await a.delete(n):await a.put(d,n),await s.done,d&&(!l||l.fid!==d.fid)&&OT(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t){let e;const n=await Vh(t.appConfig,r=>{const s=NR(r),a=RR(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===Fm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function NR(t){const e=t||{fid:ER(),registrationStatus:0};return BT(e)}function RR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(vo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=jR(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VR(t)}:{installationEntry:e}}async function jR(t,e){try{const n=await _R(t,e);return sh(t.appConfig,n)}catch(n){throw PT(n)&&n.customData.serverCode===409?await UT(t.appConfig):await sh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function VR(t){let e=await Jx(t.appConfig);for(;e.registrationStatus===1;)await LT(100),e=await Jx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ug(t);return r||n}return e}function Jx(t){return Vh(t,e=>{if(!e)throw vo.create("installation-not-found");return BT(e)})}function BT(t){return DR(t)?{fid:t.fid,registrationStatus:0}:t}function DR(t){return t.registrationStatus===1&&t.registrationTime+kT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR({appConfig:t,heartbeatServiceProvider:e},n){const r=MR(t,n),s=vR(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const l={installation:{sdkVersion:CT,appId:t.appId}},d={method:"POST",headers:s,body:JSON.stringify(l)},f=await DT(()=>fetch(r,d));if(f.ok){const m=await f.json();return RT(m)}else throw await jT("Generate Auth Token",f)}function MR(t,{fid:e}){return`${NT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t,e=!1){let n;const r=await Vh(t.appConfig,a=>{if(!zT(a))throw vo.create("not-registered");const l=a.authToken;if(!e&&UR(l))return a;if(l.requestStatus===1)return n=OR(t,e),a;{if(!navigator.onLine)throw vo.create("app-offline");const d=zR(a);return n=FR(t,d),d}});return n?await n:r.authToken}async function OR(t,e){let n=await Zx(t.appConfig);for(;n.authToken.requestStatus===1;)await LT(100),n=await Zx(t.appConfig);const r=n.authToken;return r.requestStatus===0?Bg(t,e):r}function Zx(t){return Vh(t,e=>{if(!zT(e))throw vo.create("not-registered");const n=e.authToken;return $R(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function FR(t,e){try{const n=await LR(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await sh(t.appConfig,r),n}catch(n){if(PT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await UT(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await sh(t.appConfig,r)}throw n}}function zT(t){return t!==void 0&&t.registrationStatus===2}function UR(t){return t.requestStatus===2&&!BR(t)}function BR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pR}function zR(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function $R(t){return t.requestStatus===1&&t.requestTime+kT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ug(e);return r?r.catch(console.error):Bg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t,e=!1){const n=t;return await HR(n),(await Bg(n,e)).token}async function HR(t){const{registrationPromise:e}=await Ug(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){if(!t||!t.options)throw Yp("App Configuration");if(!t.name)throw Yp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yp(t){return vo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="installations",KR="installations-internal",QR=t=>{const e=t.getProvider("app").getImmediate(),n=GR(e),r=ko(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},YR=t=>{const e=t.getProvider("app").getImmediate(),n=ko(e,$T).getImmediate();return{getId:()=>qR(n),getToken:s=>WR(n,s)}};function XR(){$r(new yr($T,QR,"PUBLIC")),$r(new yr(KR,YR,"PRIVATE"))}XR();Qn(ST,Og);Qn(ST,Og,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="analytics",JR="firebase_id",ZR="origin",e2=60*1e3,t2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new Ah("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new So("analytics","Analytics",n2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){if(!t.startsWith(zg)){const e=Vn.create("invalid-gtag-resource",{gtagURL:t});return En.warn(e.message),""}return t}function qT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function i2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function s2(t,e){const n=i2("firebase-js-sdk-policy",{createScriptURL:r2}),r=document.createElement("script"),s=`${zg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function o2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function a2(t,e,n,r,s,a){const l=r[s];try{if(l)await e[l];else{const f=(await qT(n)).find(m=>m.measurementId===s);f&&await e[f.appId]}}catch(d){En.error(d)}t("config",s,a)}async function l2(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const d=await qT(n);for(const f of l){const m=d.find(w=>w.measurementId===f),y=m&&e[m.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){En.error(a)}}function c2(t,e,n,r){async function s(a,...l){try{if(a==="event"){const[d,f]=l;await l2(t,e,n,d,f)}else if(a==="config"){const[d,f]=l;await a2(t,e,n,r,d,f)}else if(a==="consent"){const[d,f]=l;t("consent",d,f)}else if(a==="get"){const[d,f,m]=l;t("get",d,f,m)}else if(a==="set"){const[d]=l;t("set",d)}else t(a,...l)}catch(d){En.error(d)}}return s}function u2(t,e,n,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=c2(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function d2(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(zg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=30,f2=1e3;class p2{constructor(e={},n=f2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const WT=new p2;function m2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function g2(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:m2(r)},a=t2.replace("{app-id}",n),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let d="";try{const f=await l.json();!((e=f.error)===null||e===void 0)&&e.message&&(d=f.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function y2(t,e=WT,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw Vn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw Vn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new w2;return setTimeout(async()=>{d.abort()},e2),HT({appId:r,apiKey:s,measurementId:a},l,d,e)}async function HT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=WT){var a;const{appId:l,measurementId:d}=t;try{await v2(r,e)}catch(f){if(d)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:d};throw f}try{const f=await g2(t);return s.deleteThrottleMetadata(l),f}catch(f){const m=f;if(!x2(m)){if(s.deleteThrottleMetadata(l),d)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:d};throw f}const y=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?Ex(n,s.intervalMillis,h2):Ex(n,s.intervalMillis),w={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return s.setThrottleMetadata(l,w),En.debug(`Calling attemptFetch again in ${y} millis`),HT(t,w,r,s)}}function v2(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function x2(t){if(!(t instanceof xr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class w2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _2(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(){if(Ob())try{await Fb()}catch(t){return En.warn(Vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return En.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function T2(t,e,n,r,s,a,l){var d;const f=y2(t);f.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>En.error(E)),e.push(f);const m=b2().then(E=>{if(E)return r.getId()}),[y,w]=await Promise.all([f,m]);d2(a)||s2(a,y.measurementId),s("js",new Date);const b=(d=l==null?void 0:l.config)!==null&&d!==void 0?d:{};return b[ZR]="firebase",b.update=!0,w!=null&&(b[JR]=w),s("config",y.measurementId,b),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.app=e}_delete(){return delete xc[this.app.options.appId],Promise.resolve()}}let xc={},ew=[];const tw={};let Xp="dataLayer",I2="gtag",nw,GT,rw=!1;function S2(){const t=[];if(Mb()&&t.push("This is a browser extension environment."),AC()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Vn.create("invalid-analytics-context",{errorInfo:e});En.warn(n.message)}}function k2(t,e,n){S2();const r=t.options.appId;if(!r)throw Vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(xc[r]!=null)throw Vn.create("already-exists",{id:r});if(!rw){o2(Xp);const{wrappedGtag:a,gtagCore:l}=u2(xc,ew,tw,Xp,I2);GT=a,nw=l,rw=!0}return xc[r]=T2(t,ew,tw,e,nw,Xp,n),new E2(t)}function C2(t=Ig()){t=ft(t);const e=ko(t,oh);return e.isInitialized()?e.getImmediate():A2(t)}function A2(t,e={}){const n=ko(t,oh);if(n.isInitialized()){const s=n.getImmediate();if(Pc(e,n.getOptions()))return s;throw Vn.create("already-initialized")}return n.initialize({options:e})}function P2(t,e,n,r){t=ft(t),_2(GT,xc[t.app.options.appId],e,n,r).catch(s=>En.error(s))}const iw="@firebase/analytics",sw="0.10.8";function N2(){$r(new yr(oh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return k2(r,s,n)},"PUBLIC")),$r(new yr("analytics-internal",t,"PRIVATE")),Qn(iw,sw),Qn(iw,sw,"esm2017");function t(e){try{const n=e.getProvider(oh).getImmediate();return{logEvent:(r,s,a)=>P2(n,r,s,a)}}catch(n){throw Vn.create("interop-component-reg-failed",{reason:n})}}}N2();var ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,KT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function R(){}R.prototype=I.prototype,V.D=I.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(A,L,M){for(var C=Array(arguments.length-2),se=2;se<arguments.length;se++)C[se-2]=arguments[se];return I.prototype[L].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,I,R){R||(R=0);var A=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)A[L]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(L=0;16>L;++L)A[L]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=V.g[0],R=V.g[1],L=V.g[2];var M=V.g[3],C=I+(M^R&(L^M))+A[0]+3614090360&4294967295;I=R+(C<<7&4294967295|C>>>25),C=M+(L^I&(R^L))+A[1]+3905402710&4294967295,M=I+(C<<12&4294967295|C>>>20),C=L+(R^M&(I^R))+A[2]+606105819&4294967295,L=M+(C<<17&4294967295|C>>>15),C=R+(I^L&(M^I))+A[3]+3250441966&4294967295,R=L+(C<<22&4294967295|C>>>10),C=I+(M^R&(L^M))+A[4]+4118548399&4294967295,I=R+(C<<7&4294967295|C>>>25),C=M+(L^I&(R^L))+A[5]+1200080426&4294967295,M=I+(C<<12&4294967295|C>>>20),C=L+(R^M&(I^R))+A[6]+2821735955&4294967295,L=M+(C<<17&4294967295|C>>>15),C=R+(I^L&(M^I))+A[7]+4249261313&4294967295,R=L+(C<<22&4294967295|C>>>10),C=I+(M^R&(L^M))+A[8]+1770035416&4294967295,I=R+(C<<7&4294967295|C>>>25),C=M+(L^I&(R^L))+A[9]+2336552879&4294967295,M=I+(C<<12&4294967295|C>>>20),C=L+(R^M&(I^R))+A[10]+4294925233&4294967295,L=M+(C<<17&4294967295|C>>>15),C=R+(I^L&(M^I))+A[11]+2304563134&4294967295,R=L+(C<<22&4294967295|C>>>10),C=I+(M^R&(L^M))+A[12]+1804603682&4294967295,I=R+(C<<7&4294967295|C>>>25),C=M+(L^I&(R^L))+A[13]+4254626195&4294967295,M=I+(C<<12&4294967295|C>>>20),C=L+(R^M&(I^R))+A[14]+2792965006&4294967295,L=M+(C<<17&4294967295|C>>>15),C=R+(I^L&(M^I))+A[15]+1236535329&4294967295,R=L+(C<<22&4294967295|C>>>10),C=I+(L^M&(R^L))+A[1]+4129170786&4294967295,I=R+(C<<5&4294967295|C>>>27),C=M+(R^L&(I^R))+A[6]+3225465664&4294967295,M=I+(C<<9&4294967295|C>>>23),C=L+(I^R&(M^I))+A[11]+643717713&4294967295,L=M+(C<<14&4294967295|C>>>18),C=R+(M^I&(L^M))+A[0]+3921069994&4294967295,R=L+(C<<20&4294967295|C>>>12),C=I+(L^M&(R^L))+A[5]+3593408605&4294967295,I=R+(C<<5&4294967295|C>>>27),C=M+(R^L&(I^R))+A[10]+38016083&4294967295,M=I+(C<<9&4294967295|C>>>23),C=L+(I^R&(M^I))+A[15]+3634488961&4294967295,L=M+(C<<14&4294967295|C>>>18),C=R+(M^I&(L^M))+A[4]+3889429448&4294967295,R=L+(C<<20&4294967295|C>>>12),C=I+(L^M&(R^L))+A[9]+568446438&4294967295,I=R+(C<<5&4294967295|C>>>27),C=M+(R^L&(I^R))+A[14]+3275163606&4294967295,M=I+(C<<9&4294967295|C>>>23),C=L+(I^R&(M^I))+A[3]+4107603335&4294967295,L=M+(C<<14&4294967295|C>>>18),C=R+(M^I&(L^M))+A[8]+1163531501&4294967295,R=L+(C<<20&4294967295|C>>>12),C=I+(L^M&(R^L))+A[13]+2850285829&4294967295,I=R+(C<<5&4294967295|C>>>27),C=M+(R^L&(I^R))+A[2]+4243563512&4294967295,M=I+(C<<9&4294967295|C>>>23),C=L+(I^R&(M^I))+A[7]+1735328473&4294967295,L=M+(C<<14&4294967295|C>>>18),C=R+(M^I&(L^M))+A[12]+2368359562&4294967295,R=L+(C<<20&4294967295|C>>>12),C=I+(R^L^M)+A[5]+4294588738&4294967295,I=R+(C<<4&4294967295|C>>>28),C=M+(I^R^L)+A[8]+2272392833&4294967295,M=I+(C<<11&4294967295|C>>>21),C=L+(M^I^R)+A[11]+1839030562&4294967295,L=M+(C<<16&4294967295|C>>>16),C=R+(L^M^I)+A[14]+4259657740&4294967295,R=L+(C<<23&4294967295|C>>>9),C=I+(R^L^M)+A[1]+2763975236&4294967295,I=R+(C<<4&4294967295|C>>>28),C=M+(I^R^L)+A[4]+1272893353&4294967295,M=I+(C<<11&4294967295|C>>>21),C=L+(M^I^R)+A[7]+4139469664&4294967295,L=M+(C<<16&4294967295|C>>>16),C=R+(L^M^I)+A[10]+3200236656&4294967295,R=L+(C<<23&4294967295|C>>>9),C=I+(R^L^M)+A[13]+681279174&4294967295,I=R+(C<<4&4294967295|C>>>28),C=M+(I^R^L)+A[0]+3936430074&4294967295,M=I+(C<<11&4294967295|C>>>21),C=L+(M^I^R)+A[3]+3572445317&4294967295,L=M+(C<<16&4294967295|C>>>16),C=R+(L^M^I)+A[6]+76029189&4294967295,R=L+(C<<23&4294967295|C>>>9),C=I+(R^L^M)+A[9]+3654602809&4294967295,I=R+(C<<4&4294967295|C>>>28),C=M+(I^R^L)+A[12]+3873151461&4294967295,M=I+(C<<11&4294967295|C>>>21),C=L+(M^I^R)+A[15]+530742520&4294967295,L=M+(C<<16&4294967295|C>>>16),C=R+(L^M^I)+A[2]+3299628645&4294967295,R=L+(C<<23&4294967295|C>>>9),C=I+(L^(R|~M))+A[0]+4096336452&4294967295,I=R+(C<<6&4294967295|C>>>26),C=M+(R^(I|~L))+A[7]+1126891415&4294967295,M=I+(C<<10&4294967295|C>>>22),C=L+(I^(M|~R))+A[14]+2878612391&4294967295,L=M+(C<<15&4294967295|C>>>17),C=R+(M^(L|~I))+A[5]+4237533241&4294967295,R=L+(C<<21&4294967295|C>>>11),C=I+(L^(R|~M))+A[12]+1700485571&4294967295,I=R+(C<<6&4294967295|C>>>26),C=M+(R^(I|~L))+A[3]+2399980690&4294967295,M=I+(C<<10&4294967295|C>>>22),C=L+(I^(M|~R))+A[10]+4293915773&4294967295,L=M+(C<<15&4294967295|C>>>17),C=R+(M^(L|~I))+A[1]+2240044497&4294967295,R=L+(C<<21&4294967295|C>>>11),C=I+(L^(R|~M))+A[8]+1873313359&4294967295,I=R+(C<<6&4294967295|C>>>26),C=M+(R^(I|~L))+A[15]+4264355552&4294967295,M=I+(C<<10&4294967295|C>>>22),C=L+(I^(M|~R))+A[6]+2734768916&4294967295,L=M+(C<<15&4294967295|C>>>17),C=R+(M^(L|~I))+A[13]+1309151649&4294967295,R=L+(C<<21&4294967295|C>>>11),C=I+(L^(R|~M))+A[4]+4149444226&4294967295,I=R+(C<<6&4294967295|C>>>26),C=M+(R^(I|~L))+A[11]+3174756917&4294967295,M=I+(C<<10&4294967295|C>>>22),C=L+(I^(M|~R))+A[2]+718787259&4294967295,L=M+(C<<15&4294967295|C>>>17),C=R+(M^(L|~I))+A[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+M&4294967295}r.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var R=I-this.blockSize,A=this.B,L=this.h,M=0;M<I;){if(L==0)for(;M<=R;)s(this,V,M),M+=this.blockSize;if(typeof V=="string"){for(;M<I;)if(A[L++]=V.charCodeAt(M++),L==this.blockSize){s(this,A),L=0;break}}else for(;M<I;)if(A[L++]=V[M++],L==this.blockSize){s(this,A),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var R=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=R&255,R/=256;for(this.u(V),V=Array(16),I=R=0;4>I;++I)for(var A=0;32>A;A+=8)V[R++]=this.g[I]>>>A&255;return V};function a(V,I){var R=d;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=I(V)}function l(V,I){this.h=I;for(var R=[],A=!0,L=V.length-1;0<=L;L--){var M=V[L]|0;A&&M==I||(R[L]=M,A=!1)}this.g=R}var d={};function f(V){return-128<=V&&128>V?a(V,function(I){return new l([I|0],0>I?-1:0)}):new l([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return N(m(-V));for(var I=[],R=1,A=0;V>=R;A++)I[A]=V/R|0,R*=4294967296;return new l(I,0)}function y(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return N(y(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(I,8)),A=w,L=0;L<V.length;L+=8){var M=Math.min(8,V.length-L),C=parseInt(V.substring(L,L+M),I);8>M?(M=m(Math.pow(I,M)),A=A.j(M).add(m(C))):(A=A.j(R),A=A.add(m(C)))}return A}var w=f(0),b=f(1),E=f(16777216);t=l.prototype,t.m=function(){if(P(this))return-N(this).m();for(var V=0,I=1,R=0;R<this.g.length;R++){var A=this.i(R);V+=(0<=A?A:4294967296+A)*I,I*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(k(this))return"0";if(P(this))return"-"+N(this).toString(V);for(var I=m(Math.pow(V,6)),R=this,A="";;){var L=G(R,I).g;R=B(R,L.j(I));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=L,k(R))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function k(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function P(V){return V.h==-1}t.l=function(V){return V=B(this,V),P(V)?-1:k(V)?0:1};function N(V){for(var I=V.g.length,R=[],A=0;A<I;A++)R[A]=~V.g[A];return new l(R,~V.h).add(b)}t.abs=function(){return P(this)?N(this):this},t.add=function(V){for(var I=Math.max(this.g.length,V.g.length),R=[],A=0,L=0;L<=I;L++){var M=A+(this.i(L)&65535)+(V.i(L)&65535),C=(M>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);A=C>>>16,M&=65535,C&=65535,R[L]=C<<16|M}return new l(R,R[R.length-1]&-2147483648?-1:0)};function B(V,I){return V.add(N(I))}t.j=function(V){if(k(this)||k(V))return w;if(P(this))return P(V)?N(this).j(N(V)):N(N(this).j(V));if(P(V))return N(this.j(N(V)));if(0>this.l(E)&&0>V.l(E))return m(this.m()*V.m());for(var I=this.g.length+V.g.length,R=[],A=0;A<2*I;A++)R[A]=0;for(A=0;A<this.g.length;A++)for(var L=0;L<V.g.length;L++){var M=this.i(A)>>>16,C=this.i(A)&65535,se=V.i(L)>>>16,ge=V.i(L)&65535;R[2*A+2*L]+=C*ge,$(R,2*A+2*L),R[2*A+2*L+1]+=M*ge,$(R,2*A+2*L+1),R[2*A+2*L+1]+=C*se,$(R,2*A+2*L+1),R[2*A+2*L+2]+=M*se,$(R,2*A+2*L+2)}for(A=0;A<I;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=I;A<2*I;A++)R[A]=0;return new l(R,0)};function $(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function z(V,I){this.g=V,this.h=I}function G(V,I){if(k(I))throw Error("division by zero");if(k(V))return new z(w,w);if(P(V))return I=G(N(V),I),new z(N(I.g),N(I.h));if(P(I))return I=G(V,N(I)),new z(N(I.g),I.h);if(30<V.g.length){if(P(V)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var R=b,A=I;0>=A.l(V);)R=ie(R),A=ie(A);var L=Z(R,1),M=Z(A,1);for(A=Z(A,2),R=Z(R,2);!k(A);){var C=M.add(A);0>=C.l(V)&&(L=L.add(R),M=C),A=Z(A,1),R=Z(R,1)}return I=B(V,L.j(I)),new z(L,I)}for(L=w;0<=V.l(I);){for(R=Math.max(1,Math.floor(V.m()/I.m())),A=Math.ceil(Math.log(R)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=m(R),C=M.j(I);P(C)||0<C.l(V);)R-=A,M=m(R),C=M.j(I);k(M)&&(M=b),L=L.add(M),V=B(V,C)}return new z(L,V)}t.A=function(V){return G(this,V).h},t.and=function(V){for(var I=Math.max(this.g.length,V.g.length),R=[],A=0;A<I;A++)R[A]=this.i(A)&V.i(A);return new l(R,this.h&V.h)},t.or=function(V){for(var I=Math.max(this.g.length,V.g.length),R=[],A=0;A<I;A++)R[A]=this.i(A)|V.i(A);return new l(R,this.h|V.h)},t.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),R=[],A=0;A<I;A++)R[A]=this.i(A)^V.i(A);return new l(R,this.h^V.h)};function ie(V){for(var I=V.g.length+1,R=[],A=0;A<I;A++)R[A]=V.i(A)<<1|V.i(A-1)>>>31;return new l(R,V.h)}function Z(V,I){var R=I>>5;I%=32;for(var A=V.g.length-R,L=[],M=0;M<A;M++)L[M]=0<I?V.i(M+R)>>>I|V.i(M+R+1)<<32-I:V.i(M+R);return new l(L,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,po=l}).apply(typeof ow<"u"?ow:typeof self<"u"?self:typeof window<"u"?window:{});var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QT,fc,YT,Bd,Um,XT,JT,ZT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,_){return u==Array.prototype||u==Object.prototype||(u[v]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sd=="object"&&Sd];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(u,v){if(v)e:{var _=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var q=u[S];if(!(q in _))break e;_=_[q]}u=u[u.length-1],S=_[u],v=v(S),v!=S&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}function a(u,v){u instanceof String&&(u+="");var _=0,S=!1,q={next:function(){if(!S&&_<u.length){var Q=_++;return{value:v(Q,u[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(u){return u||function(){return a(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function f(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function m(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function y(u,v,_){return u.call.apply(u.bind,arguments)}function w(u,v,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),u.apply(v,q)}}return function(){return u.apply(v,arguments)}}function b(u,v,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,b.apply(null,arguments)}function E(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function k(u,v){function _(){}_.prototype=v.prototype,u.aa=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,q,Q){for(var le=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)le[Xe-2]=arguments[Xe];return v.prototype[q].apply(S,le)}}function P(u){const v=u.length;if(0<v){const _=Array(v);for(let S=0;S<v;S++)_[S]=u[S];return _}return[]}function N(u,v){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const q=u.length||0,Q=S.length||0;u.length=q+Q;for(let le=0;le<Q;le++)u[q+le]=S[le]}else u.push(S)}}class B{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function G(u){return G[" "](u),u}G[" "]=function(){};var ie=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Z(u,v,_){for(const S in u)v.call(_,u[S],S,u)}function V(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function I(u){const v={};for(const _ in u)v[_]=u[_];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,v){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)u[_]=S[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function L(u){var v=1;u=u.split(":");const _=[];for(;0<v&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function M(u){d.setTimeout(()=>{throw u},0)}function C(){var u=fe;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class se{constructor(){this.h=this.g=null}add(v,_){const S=ge.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ge=new B(()=>new ce,u=>u.reset());class ce{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Y=!1,fe=new se,de=()=>{const u=d.Promise.resolve(void 0);Ce=()=>{u.then(F)}};var F=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){M(_)}var v=ge;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}Y=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return u})();function Re(u,v){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(ie){e:{try{G(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else _=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}k(Re,ue);var Le={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(u,v,_,S,q){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=q,this.key=++Fe,this.da=this.fa=!1}function Ze(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yt(u){this.src=u,this.g={},this.h=0}yt.prototype.add=function(u,v,_,S,q){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var le=ji(u,v,S,q);return-1<le?(v=u[le],_||(v.fa=!1)):(v=new Be(v,this.src,Q,!!S,q),v.fa=_,u.push(v)),v};function Ln(u,v){var _=v.type;if(_ in u.g){var S=u.g[_],q=Array.prototype.indexOf.call(S,v,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(S,q,1),Q&&(Ze(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ji(u,v,_,S){for(var q=0;q<u.length;++q){var Q=u[q];if(!Q.da&&Q.listener==v&&Q.capture==!!_&&Q.ha==S)return q}return-1}var As="closure_lm_"+(1e6*Math.random()|0),jo={};function ll(u,v,_,S,q){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)ll(u,v[Q],_,S,q);return null}return _=dl(_),u&&u[Ie]?u.K(v,_,m(S)?!!S.capture:!1,q):cl(u,v,_,!1,S,q)}function cl(u,v,_,S,q,Q){if(!v)throw Error("Invalid event type");var le=m(q)?!!q.capture:!!q,Xe=Do(u);if(Xe||(u[As]=Xe=new yt(u)),_=Xe.add(v,_,S,le,Q),_.proxy)return _;if(S=lu(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)Te||(q=le),q===void 0&&(q=!1),u.addEventListener(v.toString(),S,q);else if(u.attachEvent)u.attachEvent(Gr(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function lu(){function u(_){return v.call(u.src,u.listener,_)}const v=ul;return u}function Vo(u,v,_,S,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Vo(u,v[Q],_,S,q);else S=m(S)?!!S.capture:!!S,_=dl(_),u&&u[Ie]?(u=u.i,v=String(v).toString(),v in u.g&&(Q=u.g[v],_=ji(Q,_,S,q),-1<_&&(Ze(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[v],u.h--)))):u&&(u=Do(u))&&(v=u.g[v.toString()],u=-1,v&&(u=ji(v,_,S,q)),(_=-1<u?v[u]:null)&&Hr(_))}function Hr(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ie])Ln(v.i,u);else{var _=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(_,S,u.capture):v.detachEvent?v.detachEvent(Gr(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=Do(v))?(Ln(_,u),_.h==0&&(_.src=null,v[As]=null)):Ze(u)}}}function Gr(u){return u in jo?jo[u]:jo[u]="on"+u}function ul(u,v){if(u.da)u=!0;else{v=new Re(v,this);var _=u.listener,S=u.ha||u.src;u.fa&&Hr(u),u=_.call(S,v)}return u}function Do(u){return u=u[As],u instanceof yt?u:null}var Lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function dl(u){return typeof u=="function"?u:(u[Lo]||(u[Lo]=function(v){return u.handleEvent(v)}),u[Lo])}function Pt(){J.call(this),this.i=new yt(this),this.M=this,this.F=null}k(Pt,J),Pt.prototype[Ie]=!0,Pt.prototype.removeEventListener=function(u,v,_,S){Vo(this,u,v,_,S)};function Nt(u,v){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new ue(v,u);else if(v instanceof ue)v.target=v.target||u;else{var q=v;v=new ue(S,u),A(v,q)}if(q=!0,_)for(var Q=_.length-1;0<=Q;Q--){var le=v.g=_[Q];q=Kr(le,S,!0,v)&&q}if(le=v.g=u,q=Kr(le,S,!0,v)&&q,q=Kr(le,S,!1,v)&&q,_)for(Q=0;Q<_.length;Q++)le=v.g=_[Q],q=Kr(le,S,!1,v)&&q}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var _=u.g[v],S=0;S<_.length;S++)Ze(_[S]);delete u.g[v],u.h--}}this.F=null},Pt.prototype.K=function(u,v,_,S){return this.i.add(String(u),v,!1,_,S)},Pt.prototype.L=function(u,v,_,S){return this.i.add(String(u),v,!0,_,S)};function Kr(u,v,_,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Q=0;Q<v.length;++Q){var le=v[Q];if(le&&!le.da&&le.capture==_){var Xe=le.listener,Rt=le.ha||le.src;le.fa&&Ln(u.i,le),q=Xe.call(Rt,S)!==!1&&q}}return q&&!S.defaultPrevented}function hl(u,v,_){if(typeof u=="function")_&&(u=b(u,_));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(u,v||0)}function Vi(u){u.g=hl(()=>{u.g=null,u.i&&(u.i=!1,Vi(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Ps extends J{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Vi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(u){J.call(this),this.h=u,this.g={}}k(Ns,J);var fl=[];function pl(u){Z(u.g,function(v,_){this.g.hasOwnProperty(_)&&Hr(v)},u),u.g={}}Ns.prototype.N=function(){Ns.aa.N.call(this),pl(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ml=d.JSON.stringify,gl=d.JSON.parse,yl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Rs(){}Rs.prototype.h=null;function Mo(u){return u.h||(u.h=u.i())}function Oo(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){ue.call(this,"d")}k(_r,ue);function Fo(){ue.call(this,"c")}k(Fo,ue);var br={},vl=null;function js(){return vl=vl||new Pt}br.La="serverreachability";function xl(u){ue.call(this,br.La,u)}k(xl,ue);function Qr(u){const v=js();Nt(v,new xl(v))}br.STAT_EVENT="statevent";function wl(u,v){ue.call(this,br.STAT_EVENT,u),this.stat=v}k(wl,ue);function vt(u){const v=js();Nt(v,new wl(v,u))}br.Ma="timingevent";function Uo(u,v){ue.call(this,br.Ma,u),this.size=v}k(Uo,ue);function Xn(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},v)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function Ds(u,v,_,S,q,Q){u.info(function(){if(u.g)if(Q)for(var le="",Xe=Q.split("&"),Rt=0;Rt<Xe.length;Rt++){var We=Xe[Rt].split("=");if(1<We.length){var Mt=We[0];We=We[1];var It=Mt.split("_");le=2<=It.length&&It[1]=="type"?le+(Mt+"="+We+"&"):le+(Mt+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+_+`
`+le})}function Bo(u,v,_,S,q,Q,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+_+`
`+Q+" "+le})}function Jn(u,v,_,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+uf(u,_)+(S?" "+S:"")})}function _l(u,v){u.info(function(){return"TIMEOUT: "+v})}Vs.prototype.info=function(){};function uf(u,v){if(!u.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<q.length;le++)q[le]=""}}}}return ml(_)}catch{return v}}var zo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Ls(){}k(Ls,Rs),Ls.prototype.g=function(){return new XMLHttpRequest},Ls.prototype.i=function(){return{}},Zn=new Ls;function er(u,v,_,S){this.j=u,this.i=v,this.l=_,this.R=S||1,this.U=new Ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}var bl={},$o={};function qo(u,v,_){u.L=1,u.v=Fi(kn(v)),u.m=_,u.P=!0,Tl(u,null)}function Tl(u,v){u.F=Date.now(),tt(u),u.A=kn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Bi(_.i,"t",S),u.C=0,_=u.j.J,u.h=new uu,u.g=Cu(u.j,_?v:null,!u.m),0<u.O&&(u.M=new Ps(b(u.Y,u,u.g),u.O)),v=u.U,_=u.g,S=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(fl[0]=q.toString()),q=fl);for(var Q=0;Q<q.length;Q++){var le=ll(_,q[Q],S||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),Qr(),Ds(u.i,u.u,u.A,u.l,u.R,u.m)}er.prototype.ca=function(u){u=u.target;const v=this.M;v&&gn(u)==3?v.j():this.Y(u)},er.prototype.Y=function(u){try{if(u==this.g)e:{const It=gn(this.g);var v=this.g.Ba();const Un=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Al(this.g)))){this.J||It!=4||v==7||(v==8||0>=Un?Qr(3):Qr(2)),Ms(this);var _=this.g.Z();this.X=_;t:if(du(this)){var S=Al(this.g);u="";var q=S.length,Q=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),Di(this);var le="";break t}this.h.i=new d.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,u+=this.h.i.decode(S[v],{stream:!(Q&&v==q-1)});S.length=0,this.h.g+=u,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,Bo(this.i,this.u,this.A,this.l,this.R,It,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Rt=this.g;if((Xe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Xe)){var We=Xe;break t}}We=null}if(_=We)Jn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,El(this,_);else{this.o=!1,this.s=3,vt(12),On(this),Di(this);break e}}if(this.P){_=!0;let An;for(;!this.J&&this.C<le.length;)if(An=df(this,le),An==$o){It==4&&(this.s=4,vt(14),_=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(An==bl){this.s=4,vt(15),Jn(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Jn(this.i,this.l,An,null),El(this,An);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||le.length!=0||this.h.h||(this.s=1,vt(16),_=!1),this.o=this.o&&_,!_)Jn(this.i,this.l,le,"[Invalid Chunked Response]"),On(this),Di(this);else if(0<le.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Nl(Mt),Mt.M=!0,vt(11))}}else Jn(this.i,this.l,le,null),El(this,le);It==4&&On(this),this.o&&!this.J&&(It==4?ta(this.j,this):(this.o=!1,tt(this)))}else Yo(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),On(this),Di(this)}}}catch{}finally{}};function du(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function df(u,v){var _=u.C,S=v.indexOf(`
`,_);return S==-1?$o:(_=Number(v.substring(_,S)),isNaN(_)?bl:(S+=1,S+_>v.length?$o:(v=v.slice(S,S+_),u.C=S+_,v)))}er.prototype.cancel=function(){this.J=!0,On(this)};function tt(u){u.S=Date.now()+u.I,hu(u,u.I)}function hu(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Xn(b(u.ba,u),v)}function Ms(u){u.B&&(d.clearTimeout(u.B),u.B=null)}er.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_l(this.i,this.A),this.L!=2&&(Qr(),vt(17)),On(this),this.s=2,Di(this)):hu(this,this.S-u)};function Di(u){u.j.G==0||u.J||ta(u.j,u)}function On(u){Ms(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,pl(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function El(u,v){try{var _=u.j;if(_.G!=0&&(_.g==u||ln(_.h,u))){if(!u.K&&ln(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ea(_),sr(_);else break e;Zo(_),vt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Xn(b(_.Za,_),6e3));if(1>=pu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ei(_,11)}else if((u.K||_.g==u)&&ea(_),!$(v))for(q=_.Da.g.parse(v),v=0;v<q.length;v++){let We=q[v];if(_.T=We[0],We=We[1],_.G==2)if(We[0]=="c"){_.K=We[1],_.ia=We[2];const Mt=We[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const It=We[4];It!=null&&(_.Aa=It,_.j.info("SVER="+_.Aa));const Un=We[5];Un!=null&&typeof Un=="number"&&0<Un&&(S=1.5*Un,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const An=u.g;if(An){const qs=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var Q=S.h;Q.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Il(Q,Q.h),Q.h=null))}if(S.D){const ra=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(S.ya=ra,et(S.I,S.D,ra))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var le=u;if(S.qa=ku(S,S.J?S.ia:null,S.W),le.K){mu(S.h,le);var Xe=le,Rt=S.L;Rt&&(Xe.I=Rt),Xe.B&&(Ms(Xe),tt(Xe)),S.g=le}else $s(S);0<_.i.length&&Sr(_)}else We[0]!="stop"&&We[0]!="close"||ei(_,7);else _.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ei(_,7):$t(_):We[0]!="noop"&&_.l&&_.l.ta(We),_.v=0)}}Qr(4)}catch{}}var fu=class{constructor(u,v){this.g=u,this.map=v}};function Os(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pu(u){return u.h?1:u.g?u.g.size:0}function ln(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Il(u,v){u.g?u.g.add(v):u.h=v}function mu(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Os.prototype.cancel=function(){if(this.i=gu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function gu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.D);return v}return P(u.i)}function Wo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var v=[],_=u.length,S=0;S<_;S++)v.push(u[S]);return v}v=[],_=0;for(S in u)v[_++]=u[S];return v}function Ho(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var v=[];u=u.length;for(var _=0;_<u;_++)v.push(_);return v}v=[],_=0;for(const S in u)v[_++]=S;return v}}}function Li(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var _=Ho(u),S=Wo(u),q=S.length,Q=0;Q<q;Q++)v.call(void 0,S[Q],_&&_[Q],u)}var Fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(u,v){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),q=null;if(0<=S){var Q=u[_].substring(0,S);q=u[_].substring(S+1)}else Q=u[_];v(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Yr){this.h=u.h,Us(this,u.j),this.o=u.o,this.g=u.g,Mi(this,u.s),this.l=u.l;var v=u.i,_=new Tr;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Oi(this,_),this.m=u.m}else u&&(v=String(u).match(Fs))?(this.h=!1,Us(this,v[1]||"",!0),this.o=ze(v[2]||""),this.g=ze(v[3]||"",!0),Mi(this,v[4]),this.l=ze(v[5]||"",!0),Oi(this,v[6]||"",!0),this.m=ze(v[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}Yr.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Ui(v,Go,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Ui(v,Go,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ui(_,_.charAt(0)=="/"?xu:vu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ui(_,Sl)),u.join("")};function kn(u){return new Yr(u)}function Us(u,v,_){u.j=_?ze(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Mi(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function Oi(u,v,_){v instanceof Tr?(u.i=v,Er(u.i,u.h)):(_||(v=Ui(v,wu)),u.i=new Tr(v,u.h))}function et(u,v,_){u.i.set(v,_)}function Fi(u){return et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ze(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ui(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,yu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Go=/[#\/\?@]/g,vu=/[#\?:]/g,xu=/[#\?]/g,wu=/[#\?@]/g,Sl=/#/g;function Tr(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function zt(u){u.g||(u.g=new Map,u.h=0,u.i&&hf(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}t=Tr.prototype,t.add=function(u,v){zt(this),this.i=null,u=Fn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function tr(u,v){zt(u),v=Fn(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function nr(u,v){return zt(u),v=Fn(u,v),u.g.has(v)}t.forEach=function(u,v){zt(this),this.g.forEach(function(_,S){_.forEach(function(q){u.call(v,q,S,this)},this)},this)},t.na=function(){zt(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let S=0;S<v.length;S++){const q=u[S];for(let Q=0;Q<q.length;Q++)_.push(v[S])}return _},t.V=function(u){zt(this);let v=[];if(typeof u=="string")nr(this,u)&&(v=v.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)v=v.concat(u[_])}return v},t.set=function(u,v){return zt(this),this.i=null,u=Fn(this,u),nr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function Bi(u,v,_){tr(u,v),0<_.length&&(u.i=null,u.g.set(Fn(u,v),P(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var S=v[_];const Q=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var q=Q;le[S]!==""&&(q+="="+encodeURIComponent(String(le[S]))),u.push(q)}}return this.i=u.join("&")};function Fn(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Er(u,v){v&&!u.j&&(zt(u),u.i=null,u.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&(tr(this,S),Bi(this,q,_))},u)),u.j=v}function ff(u,v){const _=new Vs;if(d.Image){const S=new Image;S.onload=E(mn,_,"TestLoadImage: loaded",!0,v,S),S.onerror=E(mn,_,"TestLoadImage: error",!1,v,S),S.onabort=E(mn,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=E(mn,_,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function _u(u,v){const _=new Vs,S=new AbortController,q=setTimeout(()=>{S.abort(),mn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?mn(_,"TestPingServer: ok",!0,v):mn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),mn(_,"TestPingServer: error",!1,v)})}function mn(u,v,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function pf(){this.g=new yl}function bu(u,v,_){const S=_||"";try{Li(u,function(q,Q){let le=q;m(q)&&(le=ml(q)),v.push(S+Q+"="+encodeURIComponent(le))})}catch(q){throw v.push(S+"type="+encodeURIComponent("_badmap")),q}}function Xr(u){this.l=u.Ub||null,this.j=u.eb||!1}k(Xr,Rs),Xr.prototype.g=function(){return new Bs(this.l,this.j)},Xr.prototype.i=(function(u){return function(){return u}})({});function Bs(u,v){Pt.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Bs,Pt),t=Bs.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,ir(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?rr(this):ir(this),this.readyState==3&&Tu(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,rr(this))},t.Qa=function(u){this.g&&(this.response=u,rr(this))},t.ga=function(){this.g&&rr(this)};function rr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ir(u)}t.setRequestHeader=function(u,v){this.u.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function ir(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jr(u){let v="";return Z(u,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function zi(u,v,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Jr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):et(u,v,_))}function at(u){Pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(at,Pt);var mf=/^https?$/i,kl=["POST","PUT"];t=at.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Mo(this.o):Mo(Zn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Q){zs(this,Q);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(kl,v,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of _)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qo(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){zs(this,Q)}};function zs(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,Ko(u),Cn(u)}function Ko(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Nt(this,"complete"),Nt(this,"abort"),Cn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cn(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cl(this):this.bb())},t.bb=function(){Cl(this)};function Cl(u){if(u.h&&typeof l<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)hl(u.Ea,0,u);else if(Nt(u,"readystatechange"),gn(u)==4){u.h=!1;try{const le=u.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var S;if(S=le===0){var q=String(u.D).match(Fs)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),S=!mf.test(q?q.toLowerCase():"")}_=S}if(_)Nt(u,"complete"),Nt(u,"success");else{u.m=6;try{var Q=2<gn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Ko(u)}}finally{Cn(u)}}}}function Cn(u,v){if(u.g){Qo(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||Nt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Qo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),gl(v)}};function Al(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yo(u){const v={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if($(u[S]))continue;var _=L(u[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=v[q]||[];v[q]=Q,Q.push(_)}V(v,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function Pl(u){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,u),this.cb=Ir("retryDelaySeedMs",1e4,u),this.Wa=Ir("forwardChannelMaxRetries",2,u),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Os(u&&u.concurrentRequestLimit),this.Da=new pf,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pl.prototype,t.la=8,t.G=1,t.connect=function(u,v,_,S){vt(0),this.W=u,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ku(this,null,this.W),Sr(this)};function $t(u){if(Xo(u),u.G==3){var v=u.U++,_=kn(u.I);if(et(_,"SID",u.K),et(_,"RID",v),et(_,"TYPE","terminate"),Zr(u,_),v=new er(u,u.j,v),v.L=2,v.v=Fi(kn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=Cu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),tt(v)}Su(u)}function sr(u){u.g&&(Nl(u),u.g.cancel(),u.g=null)}function Xo(u){sr(u),u.u&&(d.clearTimeout(u.u),u.u=null),ea(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Sr(u){if(!Sn(u.h)&&!u.s){u.s=!0;var v=u.Ga;Ce||de(),Y||(Ce(),Y=!0),fe.add(v,u),u.B=0}}function gf(u,v){return pu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Xn(b(u.Ga,u,v),Iu(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new er(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=I(Q),A(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=$i(this,q,v),_=kn(this.I),et(_,"RID",u),et(_,"CVER",22),this.D&&et(_,"X-HTTP-Session-Id",this.D),Zr(this,_),Q&&(this.O?v="headers="+encodeURIComponent(String(Jr(Q)))+"&"+v:this.m&&zi(_,this.m,Q)),Il(this.h,q),this.Ua&&et(_,"TYPE","init"),this.P?(et(_,"$req",v),et(_,"SID","null"),q.T=!0,qo(q,_,null)):qo(q,_,v),this.G=2}}else this.G==3&&(u?Jo(this,u):this.i.length==0||Sn(this.h)||Jo(this))};function Jo(u,v){var _;v?_=v.l:_=u.U++;const S=kn(u.I);et(S,"SID",u.K),et(S,"RID",_),et(S,"AID",u.T),Zr(u,S),u.m&&u.o&&zi(S,u.m,u.o),_=new er(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),v&&(u.i=v.D.concat(u.i)),v=$i(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Il(u.h,_),qo(_,S,v)}function Zr(u,v){u.H&&Z(u.H,function(_,S){et(v,S,_)}),u.l&&Li({},function(_,S){et(v,S,_)})}function $i(u,v,_){_=Math.min(u.i.length,_);var S=u.l?b(u.l.Na,u.l,u):null;e:{var q=u.i;let Q=-1;for(;;){const le=["count="+_];Q==-1?0<_?(Q=q[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let Xe=!0;for(let Rt=0;Rt<_;Rt++){let We=q[Rt].g;const Mt=q[Rt].map;if(We-=Q,0>We)Q=Math.max(0,q[Rt].g-100),Xe=!1;else try{bu(Mt,le,"req"+We+"_")}catch{S&&S(Mt)}}if(Xe){S=le.join("&");break e}}}return u=u.i.splice(0,_),v.D=u,S}function $s(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;Ce||de(),Y||(Ce(),Y=!0),fe.add(v,u),u.v=0}}function Zo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Xn(b(u.Fa,u),Iu(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Xn(b(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),sr(this),Eu(this))};function Nl(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Eu(u){u.g=new er(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=kn(u.qa);et(v,"RID","rpc"),et(v,"SID",u.K),et(v,"AID",u.T),et(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&et(v,"TO",u.ja),et(v,"TYPE","xmlhttp"),Zr(u,v),u.m&&u.o&&zi(v,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Fi(kn(v)),_.m=null,_.P=!0,Tl(_,u)}t.Za=function(){this.C!=null&&(this.C=null,sr(this),Zo(this),vt(19))};function ea(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ta(u,v){var _=null;if(u.g==v){ea(u),Nl(u),u.g=null;var S=2}else if(ln(u.h,v))_=v.D,mu(u.h,v),S=1;else return;if(u.G!=0){if(v.o)if(S==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var q=u.B;S=js(),Nt(S,new Uo(S,_)),Sr(u)}else $s(u);else if(q=v.s,q==3||q==0&&0<v.X||!(S==1&&gf(u,v)||S==2&&Zo(u)))switch(_&&0<_.length&&(v=u.h,v.i=v.i.concat(_)),q){case 1:ei(u,5);break;case 4:ei(u,10);break;case 3:ei(u,6);break;default:ei(u,2)}}}function Iu(u,v){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*v}function ei(u,v){if(u.j.info("Error code "+v),v==2){var _=b(u.fb,u),S=u.Xa;const q=!S;S=new Yr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Us(S,"https"),Fi(S),q?ff(S.toString(),_):_u(S.toString(),_)}else vt(2);u.G=0,u.l&&u.l.sa(v),Su(u),Xo(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Su(u){if(u.G=0,u.ka=[],u.l){const v=gu(u.h);(v.length!=0||u.i.length!=0)&&(N(u.ka,v),N(u.ka,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.ra()}}function ku(u,v,_){var S=_ instanceof Yr?kn(_):new Yr(_);if(S.g!="")v&&(S.g=v+"."+S.g),Mi(S,S.s);else{var q=d.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Q=new Yr(null);S&&Us(Q,S),v&&(Q.g=v),q&&Mi(Q,q),_&&(Q.l=_),S=Q}return _=u.D,v=u.ya,_&&v&&et(S,_,v),et(S,"VER",u.la),Zr(u,S),S}function Cu(u,v,_){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new at(new Xr({eb:_})):new at(u.pa),v.Ha(u.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rl(){}t=Rl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function na(){}na.prototype.g=function(u,v){return new cn(u,v)};function cn(u,v){Pt.call(this),this.g=new Pl(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!$(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new kr(this)}k(cn,Pt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){$t(this.g)},cn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ml(u),u=_);v.i.push(new fu(v.Ya++,u)),v.G==3&&Sr(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,cn.aa.N.call(this)};function Au(u){_r.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}k(Au,_r);function Pu(){Fo.call(this),this.status=1}k(Pu,Fo);function kr(u){this.g=u}k(kr,Rl),kr.prototype.ua=function(){Nt(this.g,"a")},kr.prototype.ta=function(u){Nt(this.g,new Au(u))},kr.prototype.sa=function(u){Nt(this.g,new Pu)},kr.prototype.ra=function(){Nt(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,ZT=function(){return new na},JT=function(){return js()},XT=br,Um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zo.NO_ERROR=0,zo.TIMEOUT=8,zo.HTTP_ERROR=6,Bd=zo,cu.COMPLETE="complete",YT=cu,Oo.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,fc=Oo,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,QT=at}).apply(typeof Sd<"u"?Sd:typeof self<"u"?self:typeof window<"u"?window:{});const aw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Ah("@firebase/firestore");function rc(){return wo.logLevel}function _e(t,...e){if(wo.logLevel<=$e.DEBUG){const n=e.map($g);wo.debug(`Firestore (${nl}): ${t}`,...n)}}function Ei(t,...e){if(wo.logLevel<=$e.ERROR){const n=e.map($g);wo.error(`Firestore (${nl}): ${t}`,...n)}}function za(t,...e){if(wo.logLevel<=$e.WARN){const n=e.map($g);wo.warn(`Firestore (${nl}): ${t}`,...n)}}function $g(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t="Unexpected state"){const e=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+t;throw Ei(e),new Error(e)}function Je(t,e){t||je()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class j2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class V2{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new yi,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new yi)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new eE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new nn(e)}}class D2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class L2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new D2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Je(this.o===void 0);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string"),this.R=n.token,new M2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=F2(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function $a(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Lt(0,0))}static max(){return new Ve(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(),r===void 0?r=e.length-n:r>e.length-n&&je(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),l=n.get(s);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends jc{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const U2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends jc{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return U2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new pe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new pe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(st.fromString(e))}static fromName(e){return new Ee(st.fromString(e).popFirst(5))}static empty(){return new Ee(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new st(e.slice()))}}function B2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new _s(s,Ee.empty(),e)}function z2(t){return new _s(t.readTime,t.key,-1)}class _s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _s(Ve.min(),Ee.empty(),-1)}static max(){return new _s(Ve.max(),Ee.empty(),-1)}}function $2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==q2)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let s=0,a=0,l=!1;e.forEach((d=>{++s,d.next((()=>{++a,l&&a===s&&n()}),(f=>r(f)))})),l=!0,a===s&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((s=>s?re.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;n(e[m]).next((y=>{l[m]=y,++d,d===a&&r(l)}),(y=>s(y)))}}))}static doWhile(e,n){return new re(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function H2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qg.oe=-1;function Dh(t){return t==null}function ah(t){return t===0&&1/t==-1/0}function G2(t){return typeof t=="number"&&Number.isInteger(t)&&!ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}}class kd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=s??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Ht(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,n,r,s,a){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Kt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new rE("Invalid base64 string: "+a):a}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const K2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(t){if(Je(!!t),typeof t=="string"){let e=0;const n=K2.exec(t);if(Je(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hg(t){const e=t.mapValue.fields.__previous_value__;return Wg(e)?Hg(e):e}function Vc(t){const e=bs(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,s,a,l,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}class Dc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd={mapValue:{}};function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wg(t)?4:X2(t)?9007199254740991:Y2(t)?10:11:je()}function qr(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vc(t).isEqual(Vc(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=bs(s.timestampValue),d=bs(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return _o(s.bytesValue).isEqual(_o(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return _t(s.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(s.geoPointValue.longitude)===_t(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return _t(s.integerValue)===_t(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=_t(s.doubleValue),d=_t(a.doubleValue);return l===d?ah(l)===ah(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return $a(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(lw(l)!==lw(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!qr(l[f],d[f])))return!1;return!0})(t,e);default:return je()}}function Lc(t,e){return(t.values||[]).find((n=>qr(n,e)))!==void 0}function qa(t,e){if(t===e)return 0;const n=bo(t),r=bo(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=_t(a.integerValue||a.doubleValue),f=_t(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return uw(t.timestampValue,e.timestampValue);case 4:return uw(Vc(t),Vc(e));case 5:return Ye(t.stringValue,e.stringValue);case 6:return(function(a,l){const d=_o(a),f=_o(l);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),f=l.split("/");for(let m=0;m<d.length&&m<f.length;m++){const y=Ye(d[m],f[m]);if(y!==0)return y}return Ye(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=Ye(_t(a.latitude),_t(l.latitude));return d!==0?d:Ye(_t(a.longitude),_t(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return dw(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var d,f,m,y;const w=a.fields||{},b=l.fields||{},E=(d=w.value)===null||d===void 0?void 0:d.arrayValue,k=(f=b.value)===null||f===void 0?void 0:f.arrayValue,P=Ye(((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0,((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:dw(E,k)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Cd.mapValue&&l===Cd.mapValue)return 0;if(a===Cd.mapValue)return 1;if(l===Cd.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=l.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const b=Ye(f[w],y[w]);if(b!==0)return b;const E=qa(d[f[w]],m[y[w]]);if(E!==0)return E}return Ye(f.length,y.length)})(t.mapValue,e.mapValue);default:throw je()}}function uw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=bs(t),r=bs(e),s=Ye(n.seconds,r.seconds);return s!==0?s:Ye(n.nanos,r.nanos)}function dw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=qa(n[s],r[s]);if(a)return a}return Ye(n.length,r.length)}function Wa(t){return Bm(t)}function Bm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=bs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _o(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Bm(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Bm(n.fields[l])}`;return s+"}"})(t.mapValue):je()}function hw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zm(t){return!!t&&"integerValue"in t}function Gg(t){return!!t&&"arrayValue"in t}function fw(t){return!!t&&"nullValue"in t}function pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function Y2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=wc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function X2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=Gt.emptyPath(),r={},s=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=d.popLast()}l?r[d.lastSegment()]=wc(l):s.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];zd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Co(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Tn(wc(this.value))}}function iE(t){const e=[];return Co(t.fields,((n,r)=>{const s=new Gt([n]);if(zd(r)){const a=iE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,s,a,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new rn(e,0,Ve.min(),Ve.min(),Ve.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,s){return new rn(e,1,n,Ve.min(),r,s,0)}static newNoDocument(e,n){return new rn(e,2,n,Ve.min(),Ve.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Ve.min(),Ve.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function mw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),n.key):r=qa(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function gw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function J2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sE=class{};class At extends sE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ej(e,n,r):n==="array-contains"?new rj(e,r):n==="in"?new ij(e,r):n==="not-in"?new sj(e,r):n==="array-contains-any"?new oj(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tj(e,r):new nj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qa(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends sE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new vr(e,n)}matches(e){return oE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oE(t){return t.op==="and"}function aE(t){return Z2(t)&&oE(t)}function Z2(t){for(const e of t.filters)if(e instanceof vr)return!1;return!0}function $m(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(aE(t))return t.filters.map((e=>$m(e))).join(",");{const e=t.filters.map((n=>$m(n))).join(",");return`${t.op}(${e})`}}function lE(t,e){return t instanceof At?(function(r,s){return s instanceof At&&r.op===s.op&&r.field.isEqual(s.field)&&qr(r.value,s.value)})(t,e):t instanceof vr?(function(r,s){return s instanceof vr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,d)=>a&&lE(l,s.filters[d])),!0):!1})(t,e):void je()}function cE(t){return t instanceof At?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`})(t):t instanceof vr?(function(n){return n.op.toString()+" {"+n.getFilters().map(cE).join(" ,")+"}"})(t):"Filter"}class ej extends At{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class tj extends At{constructor(e,n){super(e,"in",n),this.keys=uE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nj extends At{constructor(e,n){super(e,"not-in",n),this.keys=uE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Ee.fromName(r.referenceValue)))}class rj extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gg(n)&&Lc(n.arrayValue,this.value)}}class ij extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}}class sj extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Lc(this.value.arrayValue,n)}}class oj extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Lc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.ue=null}}function yw(t,e=null,n=[],r=[],s=null,a=null,l=null){return new aj(t,e,n,r,s,a,l)}function Kg(t){const e=De(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$m(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wa(r))).join(",")),e.ue=n}return e.ue}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gw(t.startAt,e.startAt)&&gw(t.endAt,e.endAt)}function qm(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n=null,r=[],s=[],a=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lj(t,e,n,r,s,a,l,d){return new rl(t,e,n,r,s,a,l,d)}function Lh(t){return new rl(t)}function vw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dE(t){return t.collectionGroup!==null}function _c(t){const e=De(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Kt(Gt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Mc(a,r))})),n.has(Gt.keyField().canonicalString())||e.ce.push(new Mc(Gt.keyField(),r))}return e.ce}function Or(t){const e=De(t);return e.le||(e.le=cj(e,_c(t))),e.le}function cj(t,e){if(t.limitType==="F")return yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Mc(s.field,a)}));const n=t.endAt?new lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lh(t.startAt.position,t.startAt.inclusive):null;return yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wm(t,e){const n=t.filters.concat([e]);return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ch(t,e,n){return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mh(t,e){return Qg(Or(t),Or(e))&&t.limitType===e.limitType}function hE(t){return`${Kg(Or(t))}|lt:${t.limitType}`}function Ca(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>cE(s))).join(", ")}]`),Dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Wa(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Wa(s))).join(",")),`Target(${r})`})(Or(t))}; limitType=${t.limitType})`}function Oh(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of _c(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,d,f){const m=mw(l,d,f);return l.inclusive?m<=0:m<0})(r.startAt,_c(r),s)||r.endAt&&!(function(l,d,f){const m=mw(l,d,f);return l.inclusive?m>=0:m>0})(r.endAt,_c(r),s))})(t,e)}function uj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fE(t){return(e,n)=>{let r=!1;for(const s of _c(t)){const a=dj(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function dj(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(a,l,d){const f=l.data.field(a),m=d.data.field(a);return f!==null&&m!==null?qa(f,m):je()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return nE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new pt(Ee.comparator);function Ii(){return hj}const pE=new pt(Ee.comparator);function pc(...t){let e=pE;for(const n of t)e=e.insert(n.key,n);return e}function mE(t){let e=pE;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ho(){return bc()}function gE(){return bc()}function bc(){return new il((t=>t.toString()),((t,e)=>t.isEqual(e)))}const fj=new pt(Ee.comparator),pj=new Kt(Ee.comparator);function Ue(...t){let e=pj;for(const n of t)e=e.add(n);return e}const mj=new Kt(Ye);function gj(){return mj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function yE(t){return{integerValue:""+t}}function yj(t,e){return G2(e)?yE(e):Yg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function vj(t,e,n){return t instanceof Oc?(function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Wg(a)&&(a=Hg(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}})(n,e):t instanceof Fc?xE(t,e):t instanceof Uc?wE(t,e):(function(s,a){const l=vE(s,a),d=xw(l)+xw(s.Pe);return zm(l)&&zm(s.Pe)?yE(d):Yg(s.serializer,d)})(t,e)}function xj(t,e,n){return t instanceof Fc?xE(t,e):t instanceof Uc?wE(t,e):n}function vE(t,e){return t instanceof uh?(function(r){return zm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Oc extends Fh{}class Fc extends Fh{constructor(e){super(),this.elements=e}}function xE(t,e){const n=_E(e);for(const r of t.elements)n.some((s=>qr(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Uc extends Fh{constructor(e){super(),this.elements=e}}function wE(t,e){let n=_E(e);for(const r of t.elements)n=n.filter((s=>!qr(s,r)));return{arrayValue:{values:n}}}class uh extends Fh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xw(t){return _t(t.integerValue||t.doubleValue)}function _E(t){return Gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.field=e,this.transform=n}}function _j(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Fc&&s instanceof Fc||r instanceof Uc&&s instanceof Uc?$a(r.elements,s.elements,qr):r instanceof uh&&s instanceof uh?qr(r.Pe,s.Pe):r instanceof Oc&&s instanceof Oc})(t.transform,e.transform)}class bj{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uh{}function bE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new EE(t.key,Fr.none()):new Xc(t.key,t.data,Fr.none());{const n=t.data,r=Tn.empty();let s=new Kt(Gt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new ks(t.key,r,new jn(s.toArray()),Fr.none())}}function Tj(t,e,n){t instanceof Xc?(function(s,a,l){const d=s.value.clone(),f=_w(s.fieldTransforms,a,l.transformResults);d.setAll(f),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ks?(function(s,a,l){if(!$d(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=_w(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(TE(s)),f.setAll(d),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Tc(t,e,n,r){return t instanceof Xc?(function(a,l,d,f){if(!$d(a.precondition,l))return d;const m=a.value.clone(),y=bw(a.fieldTransforms,f,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof ks?(function(a,l,d,f){if(!$d(a.precondition,l))return d;const m=bw(a.fieldTransforms,f,l),y=l.data;return y.setAll(TE(a)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(t,e,n,r):(function(a,l,d){return $d(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function Ej(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=vE(r.transform,s||null);a!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,a))}return n||null}function ww(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$a(r,s,((a,l)=>_j(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xc extends Uh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ks extends Uh{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function TE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function _w(t,e,n){const r=new Map;Je(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,xj(l,d,n[s]))}return r}function bw(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,vj(a,l,e))}return r}class EE extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ij extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Tj(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gE();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=n.has(s.key)?null:d;const f=bE(l,d);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,((n,r)=>ww(n,r)))&&$a(this.baseMutations,e.baseMutations,((n,r)=>ww(n,r)))}}class Xg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Je(e.mutations.length===r.length);let s=(function(){return fj})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Xg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,He;function Aj(t){switch(t){default:return je();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function IE(t){if(t===void 0)return Ei("GRPC error has no .code"),ee.UNKNOWN;switch(t){case kt.OK:return ee.OK;case kt.CANCELLED:return ee.CANCELLED;case kt.UNKNOWN:return ee.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ee.INTERNAL;case kt.UNAVAILABLE:return ee.UNAVAILABLE;case kt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case kt.NOT_FOUND:return ee.NOT_FOUND;case kt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case kt.ABORTED:return ee.ABORTED;case kt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case kt.DATA_LOSS:return ee.DATA_LOSS;default:return je()}}(He=kt||(kt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new po([4294967295,4294967295],0);function Tw(t){const e=Pj().encode(t),n=new KT;return n.update(e),new Uint8Array(n.digest())}function Ew(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new po([n,r],0),new po([s,a],0)]}class Jg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=po.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(po.fromNumber(r)));return s.compare(Nj)===1&&(s=new po([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Tw(e),[r,s]=Ew(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,s,a);if(!this.de(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Jg(a,s,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.Ie===0)return;const n=Tw(e),[r,s]=Ew(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,s,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bh(Ve.min(),s,new pt(Ye),Ii(),Ue())}}class Jc{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jc(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class SE{constructor(e,n){this.targetId=e,this.me=n}}class kE{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Iw{constructor(){this.fe=0,this.ge=kw(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),n=Ue(),r=Ue();return this.ge.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:je()}})),new Jc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=kw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Rj{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ii(),this.qe=Sw(),this.Qe=new pt(Ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:je()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,s)=>{this.ze(s)&&n(s)}))}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const a=s.target;if(qm(a))if(r===0){const l=new Ee(a.path);this.Ue(n,l,rn.newNoDocument(l,Ve.min()))}else Je(r===1);else{const l=this.Ye(n);if(l!==r){const d=this.Ze(e),f=d?this.Xe(d,e,l):1;if(f!==0){this.je(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,d;try{l=_o(r).toUint8Array()}catch(f){if(f instanceof rE)return za("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Jg(l,s,a)}catch(f){return za(f instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Le.tt(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,a,null),s++)})),s}rt(e){const n=new Map;this.Be.forEach(((a,l)=>{const d=this.Je(l);if(d){if(a.current&&qm(d.target)){const f=new Ee(d.target.path);this.ke.get(f)!==null||this.it(l,f)||this.Ue(l,f,rn.newNoDocument(f,e))}a.be&&(n.set(l,a.ve()),a.Ce())}}));let r=Ue();this.qe.forEach(((a,l)=>{let d=!0;l.forEachWhile((f=>{const m=this.Je(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ke.forEach(((a,l)=>l.setReadTime(e)));const s=new Bh(e,n,this.Qe,this.ke,r);return this.ke=Ii(),this.qe=Sw(),this.Qe=new pt(Ye),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Iw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Kt(Ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Iw),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Sw(){return new pt(Ee.comparator)}function kw(){return new pt(Ee.comparator)}const jj={asc:"ASCENDING",desc:"DESCENDING"},Vj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dj={and:"AND",or:"OR"};class Lj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(t,e){return t.useProto3Json||Dh(e)?e:{value:e}}function dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mj(t,e){return dh(t,e.toTimestamp())}function Ur(t){return Je(!!t),Ve.fromTimestamp((function(n){const r=bs(n);return new Lt(r.seconds,r.nanos)})(t))}function Zg(t,e){return Gm(t,e).canonicalString()}function Gm(t,e){const n=(function(s){return new st(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function AE(t){const e=st.fromString(t);return Je(VE(e)),e}function Km(t,e){return Zg(t.databaseId,e.path)}function Jp(t,e){const n=AE(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(NE(n))}function PE(t,e){return Zg(t.databaseId,e)}function Oj(t){const e=AE(t);return e.length===4?st.emptyPath():NE(e)}function Qm(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NE(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Cw(t,e,n){return{name:Km(t,e),fields:n.value.mapValue.fields}}function Fj(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:je()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(Je(y===void 0||typeof y=="string"),Qt.fromBase64String(y||"")):(Je(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Qt.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(m){const y=m.code===void 0?ee.UNKNOWN:IE(m.code);return new pe(y,m.message||"")})(l);n=new kE(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jp(t,r.document.name),a=Ur(r.document.updateTime),l=r.document.createTime?Ur(r.document.createTime):Ve.min(),d=new Tn({mapValue:{fields:r.document.fields}}),f=rn.newFoundDocument(s,a,l,d),m=r.targetIds||[],y=r.removedTargetIds||[];n=new qd(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jp(t,r.document),a=r.readTime?Ur(r.readTime):Ve.min(),l=rn.newNoDocument(s,a),d=r.removedTargetIds||[];n=new qd([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jp(t,r.document),a=r.removedTargetIds||[];n=new qd([],a,s,null)}else{if(!("filter"in e))return je();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new Cj(s,a),d=r.targetId;n=new SE(d,l)}}return n}function Uj(t,e){let n;if(e instanceof Xc)n={update:Cw(t,e.key,e.value)};else if(e instanceof EE)n={delete:Km(t,e.key)};else if(e instanceof ks)n={update:Cw(t,e.key,e.data),updateMask:Qj(e.fieldMask)};else{if(!(e instanceof Ij))return je();n={verify:Km(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof Oc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Fc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Uc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uh)return{fieldPath:l.field.canonicalString(),increment:d.Pe};throw je()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:Mj(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:je()})(t,e.precondition)),n}function Bj(t,e){return t&&t.length>0?(Je(e!==void 0),t.map((n=>(function(s,a){let l=s.updateTime?Ur(s.updateTime):Ur(a);return l.isEqual(Ve.min())&&(l=Ur(a)),new bj(l,s.transformResults||[])})(n,e)))):[]}function zj(t,e){return{documents:[PE(t,e.path)]}}function $j(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PE(t,s);const a=(function(m){if(m.length!==0)return jE(vr.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((y=>(function(b){return{field:Aa(b.field),direction:Hj(b.dir)}})(y)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=Hm(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:s}}function qj(t){let e=Oj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Je(r===1);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(w){const b=RE(w);return b instanceof vr&&aE(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(w){return w.map((b=>(function(k){return new Mc(Pa(k.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(w){let b;return b=typeof w=="object"?w.value:w,Dh(b)?null:b})(n.limit));let f=null;n.startAt&&(f=(function(w){const b=!!w.before,E=w.values||[];return new lh(E,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(w){const b=!w.before,E=w.values||[];return new lh(E,b)})(n.endAt)),lj(e,s,l,a,d,"F",f,m)}function Wj(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RE(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pa(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pa(n.unaryFilter.field);return At.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pa(n.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Pa(n.unaryFilter.field);return At.create(l,"!=",{nullValue:"NULL_VALUE"});default:return je()}})(t):t.fieldFilter!==void 0?(function(n){return At.create(Pa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return vr.create(n.compositeFilter.filters.map((r=>RE(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je()}})(n.compositeFilter.op))})(t):je()}function Hj(t){return jj[t]}function Gj(t){return Vj[t]}function Kj(t){return Dj[t]}function Aa(t){return{fieldPath:t.canonicalString()}}function Pa(t){return Gt.fromServerFormat(t.fieldPath)}function jE(t){return t instanceof At?(function(n){if(n.op==="=="){if(pw(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NAN"}};if(fw(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pw(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NAN"}};if(fw(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(n.field),op:Gj(n.op),value:n.value}}})(t):t instanceof vr?(function(n){const r=n.getFilters().map((s=>jE(s)));return r.length===1?r[0]:{compositeFilter:{op:Kj(n.op),filters:r}}})(t):je()}function Qj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function VE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,s,a=Ve.min(),l=Ve.min(),d=Qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.ct=e}}function Xj(t){const e=qj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.un=new Zj}addToCollectionParentIndex(e,n){return this.un.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(_s.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class Zj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Kt(st.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Kt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ha(0)}static kn(){return new Ha(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.changes=new il((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Tc(r.mutation,s,jn.empty(),Lt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const s=ho();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=pc();return a.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ho();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,s){let a=Ii();const l=bc(),d=(function(){return bc()})();return n.forEach(((f,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof ks)?a=a.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),Tc(y.mutation,m,y.mutation.getFieldMask(),Lt.now())):l.set(m.key,jn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,y)=>l.set(m,y))),n.forEach(((m,y)=>{var w;return d.set(m,new tV(y,(w=l.get(m))!==null&&w!==void 0?w:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=bc();let s=new pt(((l,d)=>l-d)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let y=r.get(f)||jn.empty();y=d.applyToLocalView(m,y),r.set(f,y);const w=(s.get(d.batchId)||Ue()).add(f);s=s.insert(d.batchId,w)}))})).next((()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,y=f.value,w=gE();y.forEach((b=>{if(!a.has(b)){const E=bE(n.get(b),r.get(b));E!==null&&w.set(b,E),a=a.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,w))}return re.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):re.resolve(ho());let d=-1,f=a;return l.next((m=>re.forEach(m,((y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{f=f.insert(y,b)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,Ue()))).next((y=>({batchId:d,changes:mE(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((r=>{let s=pc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=pc();return this.indexManager.getCollectionParents(e,a).next((d=>re.forEach(d,(f=>{const m=(function(w,b){return new rl(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((y=>{y.forEach(((w,b)=>{l=l.insert(w,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((f,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,rn.newInvalidDocument(y)))}));let d=pc();return l.forEach(((f,m)=>{const y=a.get(f);y!==void 0&&Tc(y.mutation,m,jn.empty(),Lt.now()),Oh(n,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return re.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Ur(s.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(s){return{name:s.name,query:Xj(s.bundledQuery),readTime:Ur(s.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.overlays=new pt(Ee.comparator),this.Ir=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ho();return re.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.ht(e,n,a)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const s=ho(),a=n.length+1,l=new Ee(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return re.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new pt(((m,y)=>m-y));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=ho(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=ho(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>d.set(m,y))),!(d.size()>=s)););return re.resolve(d)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new kj(n,r));let a=this.Ir.get(n);a===void 0&&(a=Ue(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.Tr=new Kt(Bt.Er),this.dr=new Kt(Bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Bt(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Ee(new st([])),r=new Bt(n,e),s=new Bt(n,e+1),a=[];return this.dr.forEachInRange([r,s],(l=>{this.Vr(l),a.push(l.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ee(new st([])),r=new Bt(n,e),s=new Bt(n,e+1);let a=Ue();return this.dr.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Bt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ee.comparator(e.key,n.key)||Ye(e.wr,n.wr)}static Ar(e,n){return Ye(e.wr,n.wr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Kt(Bt.Er)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Sj(a,n,r,s);this.mutationQueue.push(l);for(const d of s)this.br=this.br.add(new Bt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,n){return re.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),a=s<0?0:s;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),s=new Bt(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,s],(l=>{const d=this.Dr(l.wr);a.push(d)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(Ye);return n.forEach((s=>{const a=new Bt(s,0),l=new Bt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],(d=>{r=r.add(d.wr)}))})),re.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const l=new Bt(new Ee(a),0);let d=new Kt(Ye);return this.br.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.wr)),!0)}),l),re.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const s=this.Dr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return re.forEach(n.mutations,(s=>{const a=new Bt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Bt(n,0),s=this.br.firstAfterOrEqual(r);return re.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.Mr=e,this.docs=(function(){return new pt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Ii();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():rn.newInvalidDocument(s))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Ii();const l=n.path,d=new Ee(l.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||$2(z2(y),r)<=0||(s.has(y.key)||Oh(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,n,r,s){je()}Or(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new lV(this)}getSize(e){return re.resolve(this.size)}}class lV extends eV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.persistence=e,this.Nr=new il((n=>Kg(n)),Qg),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ey,this.targetCount=0,this.kr=Ha.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,s)=>n(s))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),re.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Kn(n),re.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Nr.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),re.waitFor(a).next((()=>s))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qg(0),this.Kr=!1,this.Kr=!0,this.$r=new sV,this.referenceDelegate=e(this),this.Ur=new cV(this),this.indexManager=new Jj,this.remoteDocumentCache=(function(s){return new aV(s)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new Yj(n),this.Gr=new rV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new oV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new dV(this.Qr.next());return this.referenceDelegate.zr(),r(s).next((a=>this.referenceDelegate.jr(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Hr(e,n){return re.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class dV extends W2{constructor(e){super(),this.currentSequenceNumber=e}}class ty{constructor(e){this.persistence=e,this.Jr=new ey,this.Yr=null}static Zr(e){return new ty(e)}get Xr(){if(this.Yr)return this.Yr;throw je()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),re.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((s=>this.Xr.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Xr,(r=>{const s=Ee.fromPath(r);return this.ei(e,s).next((a=>{a||n.removeEntry(s,Ve.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return re.or([()=>re.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ue(),s=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ny(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return CC()?8:H2(on())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Yi(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.Zi(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new hV;return this.Xi(e,n,l).next((d=>{if(a.result=d,this.zi)return this.es(e,n,l,d.size)}))})).next((()=>a.result))}es(e,n,r,s){return r.documentReadCount<this.ji?(rc()<=$e.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),re.resolve()):(rc()<=$e.DEBUG&&_e("QueryEngine","Query:",Ca(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(rc()<=$e.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(n))):re.resolve())}Yi(e,n){if(vw(n))return re.resolve(null);let r=Or(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=ch(n,null,"F"),r=Or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ue(...a);return this.Ji.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.ts(n,d);return this.ns(n,m,l,f.readTime)?this.Yi(e,ch(n,null,"F")):this.rs(e,m,n,f)}))))})))))}Zi(e,n,r,s){return vw(n)||s.isEqual(Ve.min())?re.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const l=this.ts(n,a);return this.ns(n,l,r,s)?re.resolve(null):(rc()<=$e.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ca(n)),this.rs(e,l,n,B2(s,-1)).next((d=>d)))}))}ts(e,n){let r=new Kt(fE(e));return n.forEach(((s,a)=>{Oh(e,a)&&(r=r.add(a))})),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,n,r){return rc()<=$e.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.Ji.getDocumentsMatchingQuery(e,n,_s.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new pt(Ye),this._s=new il((a=>Kg(a)),Qg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function mV(t,e,n,r){return new pV(t,e,n,r)}async function DE(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let f=Ue();for(const m of s){l.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next((m=>({hs:m,removedBatchIds:l,addedBatchIds:d})))}))}))}function gV(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,y){const w=m.batch,b=w.keys();let E=re.resolve();return b.forEach((k=>{E=E.next((()=>y.getEntry(f,k))).next((P=>{const N=m.docVersions.get(k);Je(N!==null),P.version.compareTo(N)<0&&(w.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),y.addEntry(P)))}))})),E.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Ue();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function LE(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function yV(t,e){const n=De(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const d=[];e.targetChanges.forEach(((y,w)=>{const b=s.get(w);if(!b)return;d.push(n.Ur.removeMatchingKeys(a,y.removedDocuments,w).next((()=>n.Ur.addMatchingKeys(a,y.addedDocuments,w))));let E=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?E=E.withResumeToken(Qt.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,r)),s=s.insert(w,E),(function(P,N,B){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(b,E,y)&&d.push(n.Ur.updateTargetData(a,E))}));let f=Ii(),m=Ue();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),d.push(vV(a,l,e.documentUpdates).next((y=>{f=y.Ps,m=y.Is}))),!r.isEqual(Ve.min())){const y=n.Ur.getLastRemoteSnapshotVersion(a).next((w=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(y)}return re.waitFor(d).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(n.os=s,a)))}function vV(t,e,n){let r=Ue(),s=Ue();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Ii();return n.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):_e("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Ps:l,Is:s}}))}function xV(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function wV(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Ur.getTargetData(r,e).next((a=>a?(s=a,re.resolve(s)):n.Ur.allocateTargetId(r).next((l=>(s=new ps(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function Ym(t,e,n){const r=De(t),s=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Yc(l))throw l;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Aw(t,e,n){const r=De(t);let s=Ve.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,m,y){const w=De(f),b=w._s.get(y);return b!==void 0?re.resolve(w.os.get(b)):w.Ur.getTargetData(m,y)})(r,l,Or(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,d.targetId).next((f=>{a=f}))})).next((()=>r.ss.getDocumentsMatchingQuery(l,e,n?s:Ve.min(),n?a:Ue()))).next((d=>(_V(r,uj(e),d),{documents:d,Ts:a})))))}function _V(t,e,n){let r=t.us.get(e)||Ve.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.us.set(e,r)}class Pw{constructor(){this.activeTargetIds=gj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bV{constructor(){this.so=new Pw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Pw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function Zp(){return Ad===null?Ad=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class SV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(n,r,s,a,l){const d=Zp(),f=this.xo(n,r.toUriEncodedString());_e("RestConnection",`Sending RPC '${n}' ${d}:`,f,s);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,a,l),this.No(n,f,m,s).then((y=>(_e("RestConnection",`Received RPC '${n}' ${d}: `,y),y)),(y=>{throw za("RestConnection",`RPC '${n}' ${d} failed with error: `,y,"url: ",f,"request:",s),y}))}Lo(n,r,s,a,l,d){return this.Mo(n,r,s,a,l)}Oo(n,r,s){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,l)=>n[l]=a)),s&&s.headers.forEach(((a,l)=>n[l]=a))}xo(n,r){const s=EV[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const a=Zp();return new Promise(((l,d)=>{const f=new QT;f.setWithCredentials(!0),f.listenOnce(YT.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Bd.NO_ERROR:const y=f.getResponseJson();_e(en,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case Bd.TIMEOUT:_e(en,`RPC '${e}' ${a} timed out`),d(new pe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const w=f.getStatus();if(_e(en,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const k=(function(N){const B=N.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(B)>=0?B:ee.UNKNOWN})(E.status);d(new pe(k,E.message))}else d(new pe(ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new pe(ee.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{_e(en,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(s);_e(en,`RPC '${e}' ${a} sending request:`,s),f.send(n,"POST",m,r,15)}))}Bo(e,n,r){const s=Zp(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ZT(),d=JT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=a.join("");_e(en,`Creating RPC '${e}' stream ${s}: ${y}`,f);const w=l.createWebChannel(y,f);let b=!1,E=!1;const k=new IV({Io:N=>{E?_e(en,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(b||(_e(en,`Opening RPC '${e}' stream ${s} transport.`),w.open(),b=!0),_e(en,`RPC '${e}' stream ${s} sending:`,N),w.send(N))},To:()=>w.close()}),P=(N,B,$)=>{N.listen(B,(z=>{try{$(z)}catch(G){setTimeout((()=>{throw G}),0)}}))};return P(w,fc.EventType.OPEN,(()=>{E||(_e(en,`RPC '${e}' stream ${s} transport opened.`),k.yo())})),P(w,fc.EventType.CLOSE,(()=>{E||(E=!0,_e(en,`RPC '${e}' stream ${s} transport closed`),k.So())})),P(w,fc.EventType.ERROR,(N=>{E||(E=!0,za(en,`RPC '${e}' stream ${s} transport errored:`,N),k.So(new pe(ee.UNAVAILABLE,"The operation could not be completed")))})),P(w,fc.EventType.MESSAGE,(N=>{var B;if(!E){const $=N.data[0];Je(!!$);const z=$,G=z.error||((B=z[0])===null||B===void 0?void 0:B.error);if(G){_e(en,`RPC '${e}' stream ${s} received error:`,G);const ie=G.status;let Z=(function(R){const A=kt[R];if(A!==void 0)return IE(A)})(ie),V=G.message;Z===void 0&&(Z=ee.INTERNAL,V="Unknown error status: "+ie+" with message "+G.message),E=!0,k.So(new pe(Z,V)),w.close()}else _e(en,`RPC '${e}' stream ${s} received:`,$),k.bo($)}})),P(d,XT.STAT_EVENT,(N=>{N.stat===Um.PROXY?_e(en,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Um.NOPROXY&&_e(en,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.wo()}),0),k}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){return new Lj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,r=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,r,s,a,l,d,f){this.ui=e,this.Ho=r,this.Jo=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ME(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.Yo===n&&this.P_(r,s)}),(r=>{e((()=>{const s=new pe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((s=>{r((()=>this.I_(s)))})),this.stream.onMessage((s=>{r((()=>++this.e_==1?this.E_(s):this.onNext(s)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kV extends OE{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Fj(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ve.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ve.min():l.readTime?Ur(l.readTime):Ve.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(a,l){let d;const f=l.target;if(d=qm(f)?{documents:zj(a,f)}:{query:$j(a,f)._t},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=CE(a,l.resumeToken);const m=Hm(a,l.expectedCount);m!==null&&(d.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ve.min())>0){d.readTime=dh(a,l.snapshotVersion.toTimestamp());const m=Hm(a,l.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=Wj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.a_(n)}}class CV extends OE{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Bj(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Qm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Uj(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Mo(e,Gm(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ee.UNKNOWN,a.toString())}))}Lo(e,n,r,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Lo(e,Gm(n,r),s,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ee.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class PV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ei(n),this.D_=!1):_e("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((l=>{r.enqueueAndForget((async()=>{Ao(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const m=De(f);m.L_.add(4),await Zc(m),m.q_.set("Unknown"),m.L_.delete(4),await $h(m)})(this))}))})),this.q_=new PV(r,s)}}async function $h(t){if(Ao(t))for(const e of t.B_)await e(!0)}async function Zc(t){for(const e of t.B_)await e(!1)}function FE(t,e){const n=De(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),oy(n)?sy(n):sl(n).r_()&&iy(n,e))}function ry(t,e){const n=De(t),r=sl(n);n.N_.delete(e),r.r_()&&UE(n,e),n.N_.size===0&&(r.r_()?r.o_():Ao(n)&&n.q_.set("Unknown"))}function iy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sl(t).A_(e)}function UE(t,e){t.Q_.xe(e),sl(t).R_(e)}function sy(t){t.Q_=new Rj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),sl(t).start(),t.q_.v_()}function oy(t){return Ao(t)&&!sl(t).n_()&&t.N_.size>0}function Ao(t){return De(t).L_.size===0}function BE(t){t.Q_=void 0}async function RV(t){t.q_.set("Online")}async function jV(t){t.N_.forEach(((e,n)=>{iy(t,e)}))}async function VV(t,e){BE(t),oy(t)?(t.q_.M_(e),sy(t)):t.q_.set("Unknown")}async function DV(t,e,n){if(t.q_.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const d of a.targetIds)s.N_.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.N_.delete(d),s.Q_.removeTarget(d))})(t,e)}catch(r){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof qd?t.Q_.Ke(e):e instanceof SE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ve.min()))try{const r=await LE(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const d=a.Q_.rt(l);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.N_.get(m);y&&a.N_.set(m,y.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,m)=>{const y=a.N_.get(f);if(!y)return;a.N_.set(f,y.withResumeToken(Qt.EMPTY_BYTE_STRING,y.snapshotVersion)),UE(a,f);const w=new ps(y.target,f,m,y.sequenceNumber);iy(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){_e("RemoteStore","Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!Yc(e))throw e;t.L_.add(1),await Zc(t),t.q_.set("Offline"),n||(n=()=>LE(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await $h(t)}))}function zE(t,e){return e().catch((n=>hh(t,n,e)))}async function qh(t){const e=De(t),n=Ts(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;LV(e);)try{const s=await xV(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,MV(e,s)}catch(s){await hh(e,s)}$E(e)&&qE(e)}function LV(t){return Ao(t)&&t.O_.length<10}function MV(t,e){t.O_.push(e);const n=Ts(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $E(t){return Ao(t)&&!Ts(t).n_()&&t.O_.length>0}function qE(t){Ts(t).start()}async function OV(t){Ts(t).p_()}async function FV(t){const e=Ts(t);for(const n of t.O_)e.m_(n.mutations)}async function UV(t,e,n){const r=t.O_.shift(),s=Xg.from(r,e,n);await zE(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await qh(t)}async function BV(t,e){e&&Ts(t).V_&&await(async function(r,s){if((function(l){return Aj(l)&&l!==ee.ABORTED})(s.code)){const a=r.O_.shift();Ts(r).s_(),await zE(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await qh(r)}})(t,e),$E(t)&&qE(t)}async function Rw(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const r=Ao(n);n.L_.add(3),await Zc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await $h(n)}async function zV(t,e){const n=De(t);e?(n.L_.delete(2),await $h(n)):e||(n.L_.add(2),await Zc(n),n.q_.set("Unknown"))}function sl(t){return t.K_||(t.K_=(function(n,r,s){const a=De(n);return a.w_(),new kV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Eo:RV.bind(null,t),Ro:jV.bind(null,t),mo:VV.bind(null,t),d_:DV.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),oy(t)?sy(t):t.q_.set("Unknown")):(await t.K_.stop(),BE(t))}))),t.K_}function Ts(t){return t.U_||(t.U_=(function(n,r,s){const a=De(n);return a.w_(),new CV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:OV.bind(null,t),mo:BV.bind(null,t),f_:FV.bind(null,t),g_:UV.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await qh(t)):(await t.U_.stop(),t.O_.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,d=new ay(e,n,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),Yc(t))return new pe(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=pc(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new Fa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.W_=new pt(Ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):je():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ga{constructor(e,n,r,s,a,l,d,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new Ga(e,n,Fa.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class qV{constructor(){this.queries=Vw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=De(n),a=s.queries;s.queries=Vw(),a.forEach(((l,d)=>{for(const f of d.j_)f.onError(r)}))})(this,new pe(ee.ABORTED,"Firestore shutting down"))}}function Vw(){return new il((t=>hE(t)),Mh)}async function cy(t,e){const n=De(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.H_()&&e.J_()&&(r=2):(a=new $V,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(s,!0);break;case 1:a.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const d=ly(l,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&dy(n)}async function uy(t,e){const n=De(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WV(t,e){const n=De(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const d of l.j_)d.X_(s)&&(r=!0);l.z_=s}}r&&dy(n)}function HV(t,e,n){const r=De(t),s=r.queries.get(e);if(s)for(const a of s.j_)a.onError(n);r.queries.delete(e)}function dy(t){t.Y_.forEach((e=>{e.next()}))}var Xm,Dw;(Dw=Xm||(Xm={})).ea="default",Dw.Cache="cache";class hy{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.key=e}}class HE{constructor(e){this.key=e}}class GV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=fE(e),this.Ra=new Fa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new jw,s=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,w)=>{const b=s.get(y),E=Oh(this.query,w)?w:null,k=!!b&&this.mutatedKeys.has(b.key),P=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;b&&E?b.data.isEqual(E.data)?k!==P&&(r.track({type:3,doc:E}),N=!0):this.ga(b,E)||(r.track({type:2,doc:E}),N=!0,(f&&this.Aa(E,f)>0||m&&this.Aa(E,m)<0)&&(d=!0)):!b&&E?(r.track({type:0,doc:E}),N=!0):b&&!E&&(r.track({type:1,doc:b}),N=!0,(f||m)&&(d=!0)),N&&(E?(l=l.add(E),a=P?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Ra:l,fa:r,ns:d,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((y,w)=>(function(E,k){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return P(E)-P(k)})(y.type,w.type)||this.Aa(y.doc,w.doc))),this.pa(r),s=s!=null&&s;const d=n&&!s?this.ya():[],f=this.da.size===0&&this.current&&!s?1:0,m=f!==this.Ea;return this.Ea=f,l.length!==0||m?{snapshot:new Ga(this.query,e.Ra,a,l,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new jw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new HE(r))})),this.da.forEach((r=>{e.has(r)||n.push(new WE(r))})),n}ba(e){this.Ta=e.Ts,this.da=Ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ga.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class KV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QV{constructor(e){this.key=e,this.va=!1}}class YV{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new il((d=>hE(d)),Mh),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(Ee.comparator),this.Na=new Map,this.La=new ey,this.Ba={},this.ka=new Map,this.qa=Ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function XV(t,e,n=!0){const r=JE(t);let s;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await GE(r,e,n,!0),s}async function JV(t,e){const n=JE(t);await GE(n,e,!0,!1)}async function GE(t,e,n,r){const s=await wV(t.localStore,Or(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await ZV(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&FE(t.remoteStore,s),d}async function ZV(t,e,n,r,s){t.Ka=(w,b,E)=>(async function(P,N,B,$){let z=N.view.ma(B);z.ns&&(z=await Aw(P.localStore,N.query,!1).then((({documents:V})=>N.view.ma(V,z))));const G=$&&$.targetChanges.get(N.targetId),ie=$&&$.targetMismatches.get(N.targetId)!=null,Z=N.view.applyChanges(z,P.isPrimaryClient,G,ie);return Mw(P,N.targetId,Z.wa),Z.snapshot})(t,w,b,E);const a=await Aw(t.localStore,e,!0),l=new GV(e,a.Ts),d=l.ma(a.documents),f=Jc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=l.applyChanges(d,t.isPrimaryClient,f);Mw(t,n,m.wa);const y=new KV(e,n,l);return t.Fa.set(e,y),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function eD(t,e,n){const r=De(t),s=r.Fa.get(e),a=r.Ma.get(s.targetId);if(a.length>1)return r.Ma.set(s.targetId,a.filter((l=>!Mh(l,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ym(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ry(r.remoteStore,s.targetId),Jm(r,s.targetId)})).catch(Qc)):(Jm(r,s.targetId),await Ym(r.localStore,s.targetId,!0))}async function tD(t,e){const n=De(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ry(n.remoteStore,r.targetId))}async function nD(t,e,n){const r=cD(t);try{const s=await(function(l,d){const f=De(l),m=Lt.now(),y=d.reduce(((E,k)=>E.add(k.key)),Ue());let w,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let k=Ii(),P=Ue();return f.cs.getEntries(E,y).next((N=>{k=N,k.forEach(((B,$)=>{$.isValidDocument()||(P=P.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,k))).next((N=>{w=N;const B=[];for(const $ of d){const z=Ej($,w.get($.key).overlayedDocument);z!=null&&B.push(new ks($.key,z,iE(z.value.mapValue),Fr.exists(!0)))}return f.mutationQueue.addMutationBatch(E,m,B,d)})).next((N=>{b=N;const B=N.applyToLocalDocumentSet(w,P);return f.documentOverlayCache.saveOverlays(E,N.batchId,B)}))})).then((()=>({batchId:b.batchId,changes:mE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,d,f){let m=l.Ba[l.currentUser.toKey()];m||(m=new pt(Ye)),m=m.insert(d,f),l.Ba[l.currentUser.toKey()]=m})(r,s.batchId,n),await eu(r,s.changes),await qh(r.remoteStore)}catch(s){const a=ly(s,"Failed to persist write");n.reject(a)}}async function KE(t,e){const n=De(t);try{const r=await yV(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Na.get(a);l&&(Je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.va=!0:s.modifiedDocuments.size>0?Je(l.va):s.removedDocuments.size>0&&(Je(l.va),l.va=!1))})),await eu(n,r,e)}catch(r){await Qc(r)}}function Lw(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach(((a,l)=>{const d=l.view.Z_(e);d.snapshot&&s.push(d.snapshot)})),(function(l,d){const f=De(l);f.onlineState=d;let m=!1;f.queries.forEach(((y,w)=>{for(const b of w.j_)b.Z_(d)&&(m=!0)})),m&&dy(f)})(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rD(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),a=s&&s.key;if(a){let l=new pt(Ee.comparator);l=l.insert(a,rn.newNoDocument(a,Ve.min()));const d=Ue().add(a),f=new Bh(Ve.min(),new Map,new pt(Ye),l,d);await KE(r,f),r.Oa=r.Oa.remove(a),r.Na.delete(e),fy(r)}else await Ym(r.localStore,e,!1).then((()=>Jm(r,e,n))).catch(Qc)}async function iD(t,e){const n=De(t),r=e.batch.batchId;try{const s=await gV(n.localStore,e);YE(n,r,null),QE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,s)}catch(s){await Qc(s)}}async function sD(t,e,n){const r=De(t);try{const s=await(function(l,d){const f=De(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,d).next((w=>(Je(w!==null),y=w.keys(),f.mutationQueue.removeMutationBatch(m,w)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);YE(r,e,n),QE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eu(r,s)}catch(s){await Qc(s)}}function QE(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function YE(t,e,n){const r=De(t);let s=r.Ba[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Jm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||XE(t,r)}))}function XE(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ry(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),fy(t))}function Mw(t,e,n){for(const r of n)r instanceof WE?(t.La.addReference(r.key,e),oD(t,r)):r instanceof HE?(_e("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||XE(t,r.key)):je()}function oD(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(_e("SyncEngine","New document in limbo: "+n),t.xa.add(r),fy(t))}function fy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ee(st.fromString(e)),r=t.qa.next();t.Na.set(r,new QV(n)),t.Oa=t.Oa.insert(n,r),FE(t.remoteStore,new ps(Or(Lh(n.path)),r,"TargetPurposeLimboResolution",qg.oe))}}async function eu(t,e,n){const r=De(t),s=[],a=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,f)=>{l.push(r.Ka(f,e,n).then((m=>{var y;if((m||n)&&r.isPrimaryClient){const w=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){s.push(m);const w=ny.Wi(f.targetId,m);a.push(w)}})))})),await Promise.all(l),r.Ca.d_(s),await(async function(f,m){const y=De(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>re.forEach(m,(b=>re.forEach(b.$i,(E=>y.persistence.referenceDelegate.addReference(w,b.targetId,E))).next((()=>re.forEach(b.Ui,(E=>y.persistence.referenceDelegate.removeReference(w,b.targetId,E)))))))))}catch(w){if(!Yc(w))throw w;_e("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const b=w.targetId;if(!w.fromCache){const E=y.os.get(b),k=E.snapshotVersion,P=E.withLastLimboFreeSnapshotVersion(k);y.os=y.os.insert(b,P)}}})(r.localStore,a))}async function aD(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const r=await DE(n.localStore,e);n.currentUser=e,(function(a,l){a.ka.forEach((d=>{d.forEach((f=>{f.reject(new pe(ee.CANCELLED,l))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(n,r.hs)}}function lD(t,e){const n=De(t),r=n.Na.get(e);if(r&&r.va)return Ue().add(r.key);{let s=Ue();const a=n.Ma.get(e);if(!a)return s;for(const l of a){const d=n.Fa.get(l);s=s.unionWith(d.view.Va)}return s}}function JE(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rD.bind(null,e),e.Ca.d_=WV.bind(null,e.eventManager),e.Ca.$a=HV.bind(null,e.eventManager),e}function cD(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sD.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return mV(this.persistence,new fV,e.initialUser,this.serializer)}Ga(e){return new uV(ty.Zr,this.serializer)}Wa(e){return new bV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aD.bind(null,this.syncEngine),await zV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qV})()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),r=(function(a){return new SV(a)})(e.databaseInfo);return(function(a,l,d,f){return new AV(a,l,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,d){return new NV(r,s,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Lw(this.syncEngine,n,0)),(function(){return Nw.D()?new Nw:new TV})())}createSyncEngine(e,n){return(function(s,a,l,d,f,m,y){const w=new YV(s,a,l,d,f,m);return y&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const a=De(s);_e("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Zc(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zm.provider={build:()=>new Zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=nn.UNAUTHENTICATED,this.clientId=tE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{_e("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(_e("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ly(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function tm(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await DE(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Ow(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dD(t);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Rw(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Rw(e.remoteStore,s))),t._onlineComponents=e}async function dD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await tm(t,new fh)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await tm(t,new fh);return t._offlineComponents}async function ZE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await Ow(t,t._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await Ow(t,new Zm))),t._onlineComponents}function hD(t){return ZE(t).then((e=>e.syncEngine))}async function ph(t){const e=await ZE(t),n=e.eventManager;return n.onListen=XV.bind(null,e.syncEngine),n.onUnlisten=eD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tD.bind(null,e.syncEngine),n}function fD(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,m){const y=new py({next:b=>{y.Za(),l.enqueueAndForget((()=>uy(a,w)));const E=b.docs.has(d);!E&&b.fromCache?m.reject(new pe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&f&&f.source==="server"?m.reject(new pe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),w=new hy(Lh(d.path),y,{includeMetadataChanges:!0,_a:!0});return cy(a,w)})(await ph(t),t.asyncQueue,e,n,r))),r.promise}function pD(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,m){const y=new py({next:b=>{y.Za(),l.enqueueAndForget((()=>uy(a,w))),b.fromCache&&f.source==="server"?m.reject(new pe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),w=new hy(d,y,{includeMetadataChanges:!0,_a:!0});return cy(a,w)})(await ph(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e,n){if(!n)throw new pe(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mD(t,e,n,r){if(e===!0&&r===!0)throw new pe(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Uw(t){if(!Ee.isDocumentKey(t))throw new pe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bw(t){if(Ee.isDocumentKey(t))throw new pe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je()}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(t);throw new pe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gD(t,e){if(e<=0)throw new pe(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zw(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new R2;switch(r.type){case"firstParty":return new L2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Fw.get(n);r&&(_e("ComponentProvider","Removing Datastore"),Fw.delete(n),r.terminate())})(this),Promise.resolve()}}function yD(t,e,n,r={}){var s;const a=(t=gr(t,Hh))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=nn.MOCK_USER;else{d=bC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new pe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nn(m)}t._authCredentials=new j2(new eE(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ri(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class vs extends Ri{constructor(e,n,r){super(e,n,Lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Ee(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function Tt(t,e,...n){if(t=ft(t),t1("collection","path",e),t instanceof Hh){const r=st.fromString(e,...n);return Bw(r),new vs(t,null,r)}{if(!(t instanceof fn||t instanceof vs))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return Bw(r),new vs(t.firestore,null,r)}}function pn(t,e,...n){if(t=ft(t),arguments.length===1&&(e=tE.newId()),t1("doc","path",e),t instanceof Hh){const r=st.fromString(e,...n);return Uw(r),new fn(t,null,new Ee(r))}{if(!(t instanceof fn||t instanceof vs))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return Uw(r),new fn(t.firestore,t instanceof vs?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ME(this,"async_queue_retry"),this.Vu=()=>{const r=em();r&&_e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new yi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yc(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const s=(function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),d})(r);throw Ei("INTERNAL UNHANDLED ERROR: ",s),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=ay.createAndSchedule(this,e,n,r,(a=>this.yu(a)));return this.Tu.push(s),s}fu(){this.Eu&&je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function qw(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class To extends Hh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $w,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $w(e),this._firestoreClient=void 0,await e}}}function vD(t,e){const n=typeof t=="object"?t:Ig(),r=typeof t=="string"?t:"(default)",s=ko(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=wC("firestore");a&&yD(s,...a)}return s}function Gh(t){if(t._terminated)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xD(t),t._firestoreClient}function xD(t){var e,n,r;const s=t._freezeSettings(),a=(function(d,f,m,y){return new Q2(d,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,e1(y.experimentalLongPollingOptions),y.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new uD(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ka(Qt.fromBase64String(e))}catch(n){throw new pe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ka(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=/^__.*__$/;class _D{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xc(e,this.data,n,this.fieldTransforms)}}class n1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class yy{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(r1(this.Cu)&&wD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class bD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zh(e)}Qu(e,n,r,s=!1){return new yy({Cu:e,methodName:n,qu:r,path:Gt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vy(t){const e=t._freezeSettings(),n=zh(t._databaseId);return new bD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TD(t,e,n,r,s,a={}){const l=t.Qu(a.merge||a.mergeFields?2:0,e,n,s);wy("Data must be an object, but it was:",l,r);const d=i1(r,l);let f,m;if(a.merge)f=new jn(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const b=eg(e,w,n);if(!l.contains(b))throw new pe(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);o1(y,b)||y.push(b)}f=new jn(y),m=l.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,m=l.fieldTransforms;return new _D(new Tn(d),f,m)}class Yh extends Qh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class xy extends Qh{_toFieldTransform(e){return new wj(e.path,new Oc)}isEqual(e){return e instanceof xy}}function ED(t,e,n,r){const s=t.Qu(1,e,n);wy("Data must be an object, but it was:",s,r);const a=[],l=Tn.empty();Co(r,((f,m)=>{const y=_y(e,f,n);m=ft(m);const w=s.Nu(y);if(m instanceof Yh)a.push(y);else{const b=tu(m,w);b!=null&&(a.push(y),l.set(y,b))}}));const d=new jn(a);return new n1(l,d,s.fieldTransforms)}function ID(t,e,n,r,s,a){const l=t.Qu(1,e,n),d=[eg(e,r,n)],f=[s];if(a.length%2!=0)throw new pe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)d.push(eg(e,a[b])),f.push(a[b+1]);const m=[],y=Tn.empty();for(let b=d.length-1;b>=0;--b)if(!o1(m,d[b])){const E=d[b];let k=f[b];k=ft(k);const P=l.Nu(E);if(k instanceof Yh)m.push(E);else{const N=tu(k,P);N!=null&&(m.push(E),y.set(E,N))}}const w=new jn(m);return new n1(y,w,l.fieldTransforms)}function SD(t,e,n,r=!1){return tu(n,t.Qu(r?4:3,e))}function tu(t,e){if(s1(t=ft(t)))return wy("Unsupported field value:",e,t),i1(t,e);if(t instanceof Qh)return(function(r,s){if(!r1(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const d of r){let f=tu(d,s.Lu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Lt.fromDate(r);return{timestampValue:dh(s.serializer,a)}}if(r instanceof Lt){const a=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(s.serializer,a)}}if(r instanceof my)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ka)return{bytesValue:CE(s.serializer,r._byteString)};if(r instanceof fn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Zg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gy)return(function(l,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw d.Bu("VectorValues must only contain numeric values.");return Yg(d.serializer,f)}))}}}}}})(r,s);throw s.Bu(`Unsupported field value: ${Wh(r)}`)})(t,e)}function i1(t,e){const n={};return nE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,((r,s)=>{const a=tu(s,e.Mu(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function s1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof my||t instanceof Ka||t instanceof fn||t instanceof Qh||t instanceof gy)}function wy(t,e,n){if(!s1(n)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(n)){const r=Wh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function eg(t,e,n){if((e=ft(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return _y(t,e);throw mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const kD=new RegExp("[~\\*/\\[\\]]");function _y(t,e,n){if(e.search(kD)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kh(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new pe(ee.INVALID_ARGUMENT,d+t+f)}function o1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CD extends a1{data(){return super.data()}}function Xh(t,e){return typeof e=="string"?_y(t,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class Ty extends by{}function fr(t,e,...n){let r=[];e instanceof by&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof Ey)).length,d=a.filter((f=>f instanceof Jh)).length;if(l>1||l>0&&d>0)throw new pe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Jh extends Ty{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jh(e,n,r)}_apply(e){const n=this._parse(e);return c1(e._query,n),new Ri(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=vy(e.firestore);return(function(a,l,d,f,m,y,w){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Hw(w,y);const E=[];for(const k of w)E.push(Ww(f,a,k));b={arrayValue:{values:E}}}else b=Ww(f,a,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Hw(w,y),b=SD(d,l,w,y==="in"||y==="not-in");return At.create(m,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pi(t,e,n){const r=e,s=Xh("where",t);return Jh._create(s,r,n)}class Ey extends by{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ey(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:vr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const d=a.getFlattenedFilters();for(const f of d)c1(l,f),l=Wm(l,f)})(e._query,n),new Ri(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Iy extends Ty{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Iy(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new pe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new pe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mc(a,l)})(e._query,this._field,this._direction);return new Ri(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new rl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function lo(t,e="asc"){const n=e,r=Xh("orderBy",t);return Iy._create(r,n)}class Sy extends Ty{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Sy(e,n,r)}_apply(e){return new Ri(e.firestore,e.converter,ch(e._query,this._limit,this._limitType))}}function Na(t){return gD("limit",t),Sy._create("limit",t,"F")}function Ww(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new pe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dE(e)&&n.indexOf("/")!==-1)throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!Ee.isDocumentKey(r))throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hw(t,new Ee(r))}if(n instanceof fn)return hw(t,n._key);throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function Hw(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c1(t,e){const n=(function(s,a){for(const l of s)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AD{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Co(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((l=>_t(l.doubleValue)));return new gy(a)}convertGeoPoint(e){return new my(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const n=bs(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Je(VE(r));const s=new Dc(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return s.isEqual(n)||Ei(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class u1 extends a1{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wd extends u1{data(e={}){return super.data(e)}}class d1{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new gc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Wd(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((d=>{const f=new Wd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new gc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Wd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new gc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return d.type!==0&&(m=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),y=l.indexOf(d.doc.key)),{type:ND(d.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ND(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){t=gr(t,fn);const e=gr(t.firestore,To);return fD(Gh(e),t._key).then((n=>f1(e,t,n)))}class ky extends AD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ka(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function RD(t){t=gr(t,Ri);const e=gr(t.firestore,To),n=Gh(e),r=new ky(e);return l1(t._query),pD(n,t._query).then((s=>new d1(e,r,t,s)))}function Si(t,e,n,...r){t=gr(t,fn);const s=gr(t.firestore,To),a=vy(s);let l;return l=typeof(e=ft(e))=="string"||e instanceof Kh?ID(a,"updateDoc",t._key,e,n,r):ED(a,"updateDoc",t._key,e),h1(s,[l.toMutation(t._key,Fr.exists(!0))])}function Dr(t,e){const n=gr(t.firestore,To),r=pn(t),s=PD(t.converter,e);return h1(n,[TD(vy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Fr.exists(!1))]).then((()=>r))}function Lr(t,...e){var n,r,s;t=ft(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||qw(e[l])||(a=e[l],l++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(qw(e[l])){const w=e[l];e[l]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[l+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[l+2]=(s=w.complete)===null||s===void 0?void 0:s.bind(w)}let f,m,y;if(t instanceof fn)m=gr(t.firestore,To),y=Lh(t._key.path),f={next:w=>{e[l]&&e[l](f1(m,t,w))},error:e[l+1],complete:e[l+2]};else{const w=gr(t,Ri);m=gr(w.firestore,To),y=w._query;const b=new ky(m);f={next:E=>{e[l]&&e[l](new d1(m,b,w,E))},error:e[l+1],complete:e[l+2]},l1(t._query)}return(function(b,E,k,P){const N=new py(P),B=new hy(E,N,k);return b.asyncQueue.enqueueAndForget((async()=>cy(await ph(b),B))),()=>{N.Za(),b.asyncQueue.enqueueAndForget((async()=>uy(await ph(b),B)))}})(Gh(m),y,d,f)}function h1(t,e){return(function(r,s){const a=new yi;return r.asyncQueue.enqueueAndForget((async()=>nD(await hD(r),s,a))),a.promise})(Gh(t),e)}function f1(t,e,n){const r=n.docs.get(e._key),s=new ky(t);return new u1(t,s,e._key,r,new gc(n.hasPendingWrites,n.fromCache),e.converter)}function bt(){return new xy("serverTimestamp")}(function(e,n=!0){(function(s){nl=s})(el),$r(new yr("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new To(new V2(r.getProvider("auth-internal")),new O2(r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(m.options.projectId,y)})(l,s),l);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Qn(aw,"4.7.3",e),Qn(aw,"4.7.3","esm2017")})();const p1={apiKey:"AIzaSyDL7tCKLIJ8AUnVV4pvJzvV6lk38tQn9jg",authDomain:"empower360-d49ed.firebaseapp.com",projectId:"empower360-d49ed",storageBucket:"empower360-d49ed.firebasestorage.app",messagingSenderId:"560808327695",appId:"1:560808327695:web:270054c3c33afb9cbe817a",measurementId:"G-L04908TL1C"};let Zh;try{Zh=$b(p1),console.log("Firebase initialized successfully")}catch(t){console.error("Firebase initialization error:",t)}try{typeof window<"u"&&p1.measurementId&&C2(Zh)}catch{}const vi=cR(Zh),qe=vD(Zh),Cy=new ui;Cy.setCustomParameters({prompt:"select_account"});YP(vi,Dg).catch(()=>{});if(typeof window<"u"){const t="E360_SESSION_INIT";sessionStorage.getItem(t)||pT(vi).finally(()=>{try{sessionStorage.setItem(t,"1")}catch{}})}const m1=D.createContext({user:null,loading:!0,logout:async()=>{}}),jD=({children:t})=>{const[e,n]=D.useState(null),[r,s]=D.useState(!0);D.useEffect(()=>{const l=ZP(vi,d=>{n(d||null),s(!1)});return()=>l()},[]);const a=async()=>{await pT(vi)};return p.jsx(m1.Provider,{value:{user:e,loading:r,logout:a},children:t})},wr=()=>D.useContext(m1),hr=({children:t})=>{const{user:e,loading:n}=wr();return n?p.jsx("div",{className:"p-8 text-center",children:"Loading"}):e?t:p.jsx(Xk,{to:"/login",replace:!0})},Gw=[{to:"/",label:"Home"},{to:"/explore",label:"Explore"},{to:"/community",label:"Community"},{to:"/about",label:"About"},{to:"/contact",label:"Contact"}],VD=()=>{var k,P;const t=an(),{user:e,logout:n}=wr(),[r,s]=D.useState(!1),[a,l]=D.useState(typeof window<"u"?window.innerWidth>768:!0),[d,f]=D.useState(!1),m=D.useRef(null);D.useEffect(()=>{const N=$=>{m.current&&(m.current.contains($.target)||f(!1))},B=$=>{$.key==="Escape"&&f(!1)};return document.addEventListener("mousedown",N),document.addEventListener("keydown",B),()=>{document.removeEventListener("mousedown",N),document.removeEventListener("keydown",B)}},[]),D.useEffect(()=>{const N=()=>{const B=window.innerWidth>768;l(B),B&&s(!1)};return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const y=D.useMemo(()=>e?[...Gw,{to:"/dashboard",label:"Dashboard"}]:Gw,[e]),w=async()=>{try{await n(),f(!1),s(!1),t("/")}catch{}},b=(e==null?void 0:e.displayName)||(e!=null&&e.email?e.email.split("@")[0]:"User"),E=(((k=e==null?void 0:e.displayName)==null?void 0:k[0])||((P=e==null?void 0:e.email)==null?void 0:P[0])||"U").toUpperCase();return p.jsxs("header",{style:Ge.header,children:[p.jsxs("div",{style:Ge.logo,onClick:()=>t("/"),role:"button",children:[p.jsx("span",{style:Ge.logoText,children:"Empower"}),p.jsx("span",{style:Ge.logoTextGradient,children:"360"})]}),a?p.jsxs("div",{style:Ge.desktopRow,children:[p.jsx("nav",{style:Ge.nav,children:y.map(({to:N,label:B})=>p.jsx(Ed,{to:N,style:({isActive:$})=>({...Ge.navLink,color:$?"#0056b3":"#333"}),className:"nav-link",children:B},N))}),p.jsx("div",{style:Ge.rightControls,children:e?p.jsxs("div",{ref:m,style:{position:"relative"},children:[p.jsx("button",{type:"button",style:Ge.avatarButton,onClick:()=>f(N=>!N),"aria-haspopup":"menu","aria-expanded":d,children:e.photoURL?p.jsx("img",{src:e.photoURL,alt:"Profile",style:Ge.avatarImg,referrerPolicy:"no-referrer"}):p.jsx("div",{style:Ge.avatarFallback,children:E})}),d&&p.jsxs("div",{role:"menu",style:Ge.menu,children:[p.jsxs("div",{style:Ge.menuHeader,children:[e.photoURL?p.jsx("img",{src:e.photoURL,alt:"Profile",style:Ge.menuAvatar,referrerPolicy:"no-referrer"}):p.jsx("div",{style:Ge.menuAvatarFallback,children:E}),p.jsxs("div",{children:[p.jsx("div",{style:Ge.menuName,children:b}),p.jsx("div",{style:Ge.menuEmail,children:e==null?void 0:e.email})]})]}),p.jsx("div",{style:Ge.menuDivider}),p.jsx("button",{type:"button",style:Ge.menuItem,onClick:w,children:"Sign out"})]})]}):p.jsx(Ed,{to:"/login",style:Ge.loginCta,className:"nav-link",children:"Log in"})})]}):p.jsxs("div",{children:[p.jsxs("button",{"aria-label":"Toggle menu",onClick:()=>s(N=>!N),style:Ge.menuButton,children:[p.jsx("div",{style:{...Ge.bar,transform:r?"rotate(45deg) translate(5px, 5px)":"none"}}),p.jsx("div",{style:{...Ge.bar,opacity:r?0:1}}),p.jsx("div",{style:{...Ge.bar,transform:r?"rotate(-45deg) translate(5px, -5px)":"none"}})]}),r&&p.jsxs("nav",{style:Ge.mobileNav,children:[y.map(({to:N,label:B})=>p.jsx(Ed,{to:N,style:({isActive:$})=>({...Ge.mobileNavLink,color:$?"#0056b3":"#333"}),className:"mobile-nav-link",onClick:()=>s(!1),children:B},N)),p.jsx("div",{style:Ge.mobileDivider}),e?p.jsxs("div",{style:Ge.mobileAccount,children:[e.photoURL?p.jsx("img",{src:e.photoURL,alt:"Profile",style:Ge.menuAvatar,referrerPolicy:"no-referrer"}):p.jsx("div",{style:Ge.menuAvatarFallback,children:E}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("div",{style:Ge.menuName,children:b}),p.jsx("div",{style:Ge.menuEmail,children:e.email})]}),p.jsx("button",{onClick:w,style:Ge.signOutBtnFull,children:"Sign out"})]}):p.jsx(Ed,{to:"/login",style:Ge.loginCtaFull,onClick:()=>s(!1),children:"Log in"})]})]}),p.jsx("style",{children:`
        .nav-link:hover { color: #007bff !important; }
        .mobile-nav-link:hover { color: #007bff !important; }
      `})]})},Ge={header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",height:60,backgroundColor:"#fff",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",position:"sticky",top:0,zIndex:1e3},logo:{fontWeight:"bold",fontSize:24,cursor:"pointer",userSelect:"none",display:"flex",alignItems:"baseline"},logoText:{color:"#333"},logoTextGradient:{background:"linear-gradient(90deg, #6366f1, #a78bfa)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:900,marginLeft:4},desktopRow:{display:"flex",alignItems:"center",gap:20},nav:{display:"flex",gap:24},navLink:{textDecoration:"none",fontSize:16,transition:"color 0.3s ease"},rightControls:{display:"flex",alignItems:"center",gap:12,marginLeft:8},loginCta:{textDecoration:"none",backgroundColor:"#eef2ff",color:"#3730a3",padding:"8px 12px",borderRadius:8,fontWeight:600,border:"1px solid #e5e7eb"},avatarButton:{background:"transparent",border:"none",padding:0,cursor:"pointer",display:"grid",placeItems:"center"},avatarImg:{width:34,height:34,borderRadius:"50%",objectFit:"cover",border:"1px solid #e5e7eb"},avatarFallback:{width:34,height:34,borderRadius:"50%",backgroundColor:"#eef2ff",color:"#4338ca",display:"grid",placeItems:"center",fontSize:14,fontWeight:700,border:"1px solid #e5e7eb"},menu:{position:"absolute",right:0,top:"calc(100% + 10px)",width:280,backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:12,boxShadow:"0 8px 24px rgba(0,0,0,0.08)",padding:10,zIndex:2e3},menuHeader:{display:"flex",alignItems:"center",gap:12,padding:"6px 6px 10px"},menuAvatar:{width:40,height:40,borderRadius:"50%",objectFit:"cover",border:"1px solid #e5e7eb"},menuAvatarFallback:{width:40,height:40,borderRadius:"50%",backgroundColor:"#eef2ff",color:"#4338ca",display:"grid",placeItems:"center",fontSize:16,fontWeight:700,border:"1px solid #e5e7eb"},menuName:{fontSize:14,fontWeight:700,color:"#111827",lineHeight:1.2},menuEmail:{fontSize:12,color:"#6b7280",marginTop:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:180},menuDivider:{height:1,backgroundColor:"#f1f5f9",margin:"6px 0 8px"},menuItem:{width:"100%",textAlign:"left",background:"transparent",border:"none",padding:"10px 8px",borderRadius:8,cursor:"pointer",fontSize:14,color:"#111827"},menuButton:{background:"none",border:"none",cursor:"pointer",padding:8,display:"flex",flexDirection:"column",justifyContent:"space-around",height:24,width:30},bar:{width:30,height:3,backgroundColor:"#333",borderRadius:2,transition:"all 0.3s ease"},mobileNav:{position:"absolute",top:60,right:20,backgroundColor:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",borderRadius:8,display:"flex",flexDirection:"column",padding:10,gap:12,zIndex:9999,minWidth:200},mobileNavLink:{textDecoration:"none",fontSize:16,padding:"8px 12px",borderRadius:4,transition:"color 0.3s ease"},mobileDivider:{height:1,backgroundColor:"#f1f5f9",margin:"6px 0"},mobileAccount:{display:"flex",alignItems:"center",gap:10},signOutBtnFull:{backgroundColor:"#111827",color:"#fff",border:"none",padding:"10px 12px",borderRadius:8,cursor:"pointer",fontSize:14},loginCtaFull:{display:"block",width:"100%",textAlign:"center",textDecoration:"none",backgroundColor:"#eef2ff",color:"#3730a3",padding:"10px 12px",borderRadius:8,fontWeight:600,border:"1px solid #e5e7eb"}},g1=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ef=D.createContext({}),Ay=D.createContext(null),tf=typeof document<"u",DD=tf?D.useLayoutEffect:D.useEffect,y1=D.createContext({strict:!1}),Py=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),LD="framerAppearId",v1="data-"+Py(LD);function MD(t,e,n,r){const{visualElement:s}=D.useContext(ef),a=D.useContext(y1),l=D.useContext(Ay),d=D.useContext(g1).reducedMotion,f=D.useRef();r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const m=f.current;D.useInsertionEffect(()=>{m&&m.update(n,l)});const y=D.useRef(!!(n[v1]&&!window.HandoffComplete));return DD(()=>{m&&(m.render(),y.current&&m.animationState&&m.animationState.animateChanges())}),D.useEffect(()=>{m&&(m.updateFeatures(),!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(y.current=!1,window.HandoffComplete=!0))}),m}function Ra(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function OD(t,e,n){return D.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ra(n)&&(n.current=r))},[e])}function Bc(t){return typeof t=="string"||Array.isArray(t)}function nf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ny=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ry=["initial",...Ny];function rf(t){return nf(t.animate)||Ry.some(e=>Bc(t[e]))}function x1(t){return!!(rf(t)||t.variants)}function FD(t,e){if(rf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bc(n)?n:void 0,animate:Bc(r)?r:void 0}}return t.inherit!==!1?e:{}}function UD(t){const{initial:e,animate:n}=FD(t,D.useContext(ef));return D.useMemo(()=>({initial:e,animate:n}),[Kw(e),Kw(n)])}function Kw(t){return Array.isArray(t)?t.join(" "):t}const Qw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zc={};for(const t in Qw)zc[t]={isEnabled:e=>Qw[t].some(n=>!!e[n])};function BD(t){for(const e in t)zc[e]={...zc[e],...t[e]}}const w1=D.createContext({}),_1=D.createContext({}),zD=Symbol.for("motionComponentSymbol");function $D({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&BD(t);function a(d,f){let m;const y={...D.useContext(g1),...d,layoutId:qD(d)},{isStatic:w}=y,b=UD(d),E=r(d,w);if(!w&&tf){b.visualElement=MD(s,E,y,e);const k=D.useContext(_1),P=D.useContext(y1).strict;b.visualElement&&(m=b.visualElement.loadFeatures(y,P,t,k))}return D.createElement(ef.Provider,{value:b},m&&b.visualElement?D.createElement(m,{visualElement:b.visualElement,...y}):null,n(s,d,OD(E,b.visualElement,f),E,w,b.visualElement))}const l=D.forwardRef(a);return l[zD]=s,l}function qD({layoutId:t}){const e=D.useContext(w1).id;return e&&t!==void 0?e+"-"+t:t}function WD(t){function e(r,s={}){return $D(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const HD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jy(t){return typeof t!="string"||t.includes("-")?!1:!!(HD.indexOf(t)>-1||/[A-Z]/.test(t))}const gh={};function GD(t){Object.assign(gh,t)}const ru=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(ru);function b1(t,{layout:e,layoutId:n}){return Po.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gh[t]||t==="opacity")}const In=t=>!!(t&&t.getVelocity),KD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QD=ru.length;function YD(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let a="";for(let l=0;l<QD;l++){const d=ru[l];if(t[d]!==void 0){const f=KD[d]||d;a+=`${f}(${t[d]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(t,r?"":a):n&&r&&(a="none"),a}const T1=t=>e=>typeof e=="string"&&e.startsWith(t),E1=T1("--"),tg=T1("var(--"),XD=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,JD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Es=(t,e,n)=>Math.min(Math.max(n,t),e),No={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ec={...No,transform:t=>Es(0,1,t)},Pd={...No,default:1},Ic=t=>Math.round(t*1e5)/1e5,sf=/(-)?([\d]*\.?[\d])+/g,I1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ZD=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function iu(t){return typeof t=="string"}const su=t=>({test:e=>iu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ls=su("deg"),Br=su("%"),Ae=su("px"),eL=su("vh"),tL=su("vw"),Yw={...Br,parse:t=>Br.parse(t)/100,transform:t=>Br.transform(t*100)},Xw={...No,transform:Math.round},S1={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,size:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,rotate:ls,rotateX:ls,rotateY:ls,rotateZ:ls,scale:Pd,scaleX:Pd,scaleY:Pd,scaleZ:Pd,skew:ls,skewX:ls,skewY:ls,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:Ec,originX:Yw,originY:Yw,originZ:Ae,zIndex:Xw,fillOpacity:Ec,strokeOpacity:Ec,numOctaves:Xw};function Vy(t,e,n,r){const{style:s,vars:a,transform:l,transformOrigin:d}=t;let f=!1,m=!1,y=!0;for(const w in e){const b=e[w];if(E1(w)){a[w]=b;continue}const E=S1[w],k=JD(b,E);if(Po.has(w)){if(f=!0,l[w]=k,!y)continue;b!==(E.default||0)&&(y=!1)}else w.startsWith("origin")?(m=!0,d[w]=k):s[w]=k}if(e.transform||(f||r?s.transform=YD(t.transform,n,y,r):s.transform&&(s.transform="none")),m){const{originX:w="50%",originY:b="50%",originZ:E=0}=d;s.transformOrigin=`${w} ${b} ${E}`}}const Dy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function k1(t,e,n){for(const r in e)!In(e[r])&&!b1(r,n)&&(t[r]=e[r])}function nL({transformTemplate:t},e,n){return D.useMemo(()=>{const r=Dy();return Vy(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function rL(t,e,n){const r=t.style||{},s={};return k1(s,r,t),Object.assign(s,nL(t,e,n)),t.transformValues?t.transformValues(s):s}function iL(t,e,n){const r={},s=rL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const sL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sL.has(t)}let C1=t=>!yh(t);function oL(t){t&&(C1=e=>e.startsWith("on")?!yh(e):t(e))}try{oL(require("@emotion/is-prop-valid").default)}catch{}function aL(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(C1(s)||n===!0&&yh(s)||!e&&!yh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Jw(t,e,n){return typeof t=="string"?t:Ae.transform(e+n*t)}function lL(t,e,n){const r=Jw(e,t.x,t.width),s=Jw(n,t.y,t.height);return`${r} ${s}`}const cL={offset:"stroke-dashoffset",array:"stroke-dasharray"},uL={offset:"strokeDashoffset",array:"strokeDasharray"};function dL(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?cL:uL;t[a.offset]=Ae.transform(-r);const l=Ae.transform(e),d=Ae.transform(n);t[a.array]=`${l} ${d}`}function Ly(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:d=1,pathOffset:f=0,...m},y,w,b){if(Vy(t,m,y,b),w){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:k,dimensions:P}=t;E.transform&&(P&&(k.transform=E.transform),delete E.transform),P&&(s!==void 0||a!==void 0||k.transform)&&(k.transformOrigin=lL(P,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),l!==void 0&&dL(E,l,d,f,!1)}const A1=()=>({...Dy(),attrs:{}}),My=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hL(t,e,n,r){const s=D.useMemo(()=>{const a=A1();return Ly(a,e,{enableHardwareAcceleration:!1},My(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};k1(a,t.style,t),s.style={...a,...s.style}}return s}function fL(t=!1){return(n,r,s,{latestValues:a},l)=>{const f=(jy(n)?hL:iL)(r,a,l,n),y={...aL(r,typeof n=="string",t),...f,ref:s},{children:w}=r,b=D.useMemo(()=>In(w)?w.get():w,[w]);return D.createElement(n,{...y,children:b})}}function P1(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const N1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function R1(t,e,n,r){P1(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(N1.has(s)?s:Py(s),e.attrs[s])}function Oy(t,e){const{style:n}=t,r={};for(const s in n)(In(n[s])||e.style&&In(e.style[s])||b1(s,t))&&(r[s]=n[s]);return r}function j1(t,e){const n=Oy(t,e);for(const r in t)if(In(t[r])||In(e[r])){const s=ru.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Fy(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function pL(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const vh=t=>Array.isArray(t),mL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),gL=t=>vh(t)?t[t.length-1]||0:t;function Hd(t){const e=In(t)?t.get():t;return mL(e)?e.toValue():e}function yL({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,a){const l={latestValues:vL(r,s,a,t),renderState:e()};return n&&(l.mount=d=>n(r,d,l)),l}const V1=t=>(e,n)=>{const r=D.useContext(ef),s=D.useContext(Ay),a=()=>yL(t,e,r,s);return n?a():pL(a)};function vL(t,e,n,r){const s={},a=r(t,{});for(const b in a)s[b]=Hd(a[b]);let{initial:l,animate:d}=t;const f=rf(t),m=x1(t);e&&m&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||l===!1;const w=y?d:l;return w&&typeof w!="boolean"&&!nf(w)&&(Array.isArray(w)?w:[w]).forEach(E=>{const k=Fy(t,E);if(!k)return;const{transitionEnd:P,transition:N,...B}=k;for(const $ in B){let z=B[$];if(Array.isArray(z)){const G=y?z.length-1:0;z=z[G]}z!==null&&(s[$]=z)}for(const $ in P)s[$]=P[$]}),s}const Et=t=>t;class Zw{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function xL(t){let e=new Zw,n=new Zw,r=0,s=!1,a=!1;const l=new WeakSet,d={schedule:(f,m=!1,y=!1)=>{const w=y&&s,b=w?e:n;return m&&l.add(f),b.add(f)&&w&&s&&(r=e.order.length),f},cancel:f=>{n.remove(f),l.delete(f)},process:f=>{if(s){a=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let m=0;m<r;m++){const y=e.order[m];y(f),l.has(y)&&(d.schedule(y),t())}s=!1,a&&(a=!1,d.process(f))}};return d}const Nd=["prepare","read","update","preRender","render","postRender"],wL=40;function _L(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=Nd.reduce((w,b)=>(w[b]=xL(()=>n=!0),w),{}),l=w=>a[w].process(s),d=()=>{const w=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,wL),1),s.timestamp=w,s.isProcessing=!0,Nd.forEach(l),s.isProcessing=!1,n&&e&&(r=!1,t(d))},f=()=>{n=!0,r=!0,s.isProcessing||t(d)};return{schedule:Nd.reduce((w,b)=>{const E=a[b];return w[b]=(k,P=!1,N=!1)=>(n||f(),E.schedule(k,P,N)),w},{}),cancel:w=>Nd.forEach(b=>a[b].cancel(w)),state:s,steps:a}}const{schedule:ot,cancel:ki,state:tn,steps:nm}=_L(typeof requestAnimationFrame<"u"?requestAnimationFrame:Et,!0),bL={useVisualState:V1({scrapeMotionValuesFromProps:j1,createRenderState:A1,onMount:(t,e,{renderState:n,latestValues:r})=>{ot.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ot.render(()=>{Ly(n,r,{enableHardwareAcceleration:!1},My(e.tagName),t.transformTemplate),R1(e,n)})}})},TL={useVisualState:V1({scrapeMotionValuesFromProps:Oy,createRenderState:Dy})};function EL(t,{forwardMotionProps:e=!1},n,r){return{...jy(t)?bL:TL,preloadedFeatures:n,useRender:fL(e),createVisualElement:r,Component:t}}function mi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const D1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function of(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const IL=t=>e=>D1(e)&&t(e,of(e));function xi(t,e,n,r){return mi(t,e,IL(n),r)}const SL=(t,e)=>n=>e(t(n)),xs=(...t)=>t.reduce(SL);function L1(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const e_=L1("dragHorizontal"),t_=L1("dragVertical");function M1(t){let e=!1;if(t==="y")e=t_();else if(t==="x")e=e_();else{const n=e_(),r=t_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function O1(){const t=M1(!0);return t?(t(),!1):!0}class Cs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function n_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(a,l)=>{if(a.pointerType==="touch"||O1())return;const d=t.getProps();t.animationState&&d.whileHover&&t.animationState.setActive("whileHover",e),d[r]&&ot.update(()=>d[r](a,l))};return xi(t.current,n,s,{passive:!t.getProps()[r]})}class kL extends Cs{mount(){this.unmount=xs(n_(this.node,!0),n_(this.node,!1))}unmount(){}}class CL extends Cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xs(mi(this.node.current,"focus",()=>this.onFocus()),mi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const F1=(t,e)=>e?t===e?!0:F1(t,e.parentElement):!1;function rm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,of(n))}class AL extends Cs{constructor(){super(...arguments),this.removeStartListeners=Et,this.removeEndListeners=Et,this.removeAccessibleListeners=Et,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=xi(window,"pointerup",(d,f)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:y,globalTapTarget:w}=this.node.getProps();ot.update(()=>{!w&&!F1(this.node.current,d.target)?y&&y(d,f):m&&m(d,f)})},{passive:!(r.onTap||r.onPointerUp)}),l=xi(window,"pointercancel",(d,f)=>this.cancelPress(d,f),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=xs(a,l),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=d=>{d.key!=="Enter"||!this.checkPressEnd()||rm("up",(f,m)=>{const{onTap:y}=this.node.getProps();y&&ot.update(()=>y(f,m))})};this.removeEndListeners(),this.removeEndListeners=mi(this.node.current,"keyup",l),rm("down",(d,f)=>{this.startPress(d,f)})},n=mi(this.node.current,"keydown",e),r=()=>{this.isPressing&&rm("cancel",(a,l)=>this.cancelPress(a,l))},s=mi(this.node.current,"blur",r);this.removeAccessibleListeners=xs(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ot.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!O1()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ot.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=xi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=mi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ng=new WeakMap,im=new WeakMap,PL=t=>{const e=ng.get(t.target);e&&e(t)},NL=t=>{t.forEach(PL)};function RL({root:t,...e}){const n=t||document;im.has(n)||im.set(n,{});const r=im.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(NL,{root:t,...e})),r[s]}function jL(t,e,n){const r=RL(e);return ng.set(t,n),r.observe(t),()=>{ng.delete(t),r.unobserve(t)}}const VL={some:0,all:1};class DL extends Cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:VL[s]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),b=m?y:w;b&&b(f)};return jL(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(LL(e,n))&&this.startObserver()}unmount(){}}function LL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ML={inView:{Feature:DL},tap:{Feature:AL},focus:{Feature:CL},hover:{Feature:kL}};function U1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function OL(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function FL(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function af(t,e,n){const r=t.getProps();return Fy(r,e,n!==void 0?n:r.custom,OL(t),FL(t))}let Uy=Et;const mo=t=>t*1e3,wi=t=>t/1e3,UL={current:!1},B1=t=>Array.isArray(t)&&typeof t[0]=="number";function z1(t){return!!(!t||typeof t=="string"&&$1[t]||B1(t)||Array.isArray(t)&&t.every(z1))}const yc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yc([0,.65,.55,1]),circOut:yc([.55,0,1,.45]),backIn:yc([.31,.01,.66,-.59]),backOut:yc([.33,1.53,.69,.99])};function q1(t){if(t)return B1(t)?yc(t):Array.isArray(t)?t.map(q1):$1[t]}function BL(t,e,n,{delay:r=0,duration:s,repeat:a=0,repeatType:l="loop",ease:d,times:f}={}){const m={[e]:n};f&&(m.offset=f);const y=q1(d);return Array.isArray(y)&&(m.easing=y),t.animate(m,{delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function zL(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const W1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$L=1e-7,qL=12;function WL(t,e,n,r,s){let a,l,d=0;do l=e+(n-e)/2,a=W1(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>$L&&++d<qL);return l}function ou(t,e,n,r){if(t===e&&n===r)return Et;const s=a=>WL(a,0,1,t,n);return a=>a===0||a===1?a:W1(s(a),e,r)}const HL=ou(.42,0,1,1),GL=ou(0,0,.58,1),H1=ou(.42,0,.58,1),KL=t=>Array.isArray(t)&&typeof t[0]!="number",G1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,K1=t=>e=>1-t(1-e),By=t=>1-Math.sin(Math.acos(t)),Q1=K1(By),QL=G1(By),Y1=ou(.33,1.53,.69,.99),zy=K1(Y1),YL=G1(zy),XL=t=>(t*=2)<1?.5*zy(t):.5*(2-Math.pow(2,-10*(t-1))),JL={linear:Et,easeIn:HL,easeInOut:H1,easeOut:GL,circIn:By,circInOut:QL,circOut:Q1,backIn:zy,backInOut:YL,backOut:Y1,anticipate:XL},r_=t=>{if(Array.isArray(t)){Uy(t.length===4);const[e,n,r,s]=t;return ou(e,n,r,s)}else if(typeof t=="string")return JL[t];return t},$y=(t,e)=>n=>!!(iu(n)&&ZD.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),X1=(t,e,n)=>r=>{if(!iu(r))return r;const[s,a,l,d]=r.match(sf);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},ZL=t=>Es(0,255,t),sm={...No,transform:t=>Math.round(ZL(t))},fo={test:$y("rgb","red"),parse:X1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+sm.transform(t)+", "+sm.transform(e)+", "+sm.transform(n)+", "+Ic(Ec.transform(r))+")"};function eM(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const rg={test:$y("#"),parse:eM,transform:fo.transform},ja={test:$y("hsl","hue"),parse:X1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Br.transform(Ic(e))+", "+Br.transform(Ic(n))+", "+Ic(Ec.transform(r))+")"},hn={test:t=>fo.test(t)||rg.test(t)||ja.test(t),parse:t=>fo.test(t)?fo.parse(t):ja.test(t)?ja.parse(t):rg.parse(t),transform:t=>iu(t)?t:t.hasOwnProperty("red")?fo.transform(t):ja.transform(t)},dt=(t,e,n)=>-n*t+n*e+t;function om(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;s=om(f,d,t+1/3),a=om(f,d,t),l=om(f,d,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const am=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},nM=[rg,fo,ja],rM=t=>nM.find(e=>e.test(t));function i_(t){const e=rM(t);let n=e.parse(t);return e===ja&&(n=tM(n)),n}const J1=(t,e)=>{const n=i_(t),r=i_(e),s={...n};return a=>(s.red=am(n.red,r.red,a),s.green=am(n.green,r.green,a),s.blue=am(n.blue,r.blue,a),s.alpha=dt(n.alpha,r.alpha,a),fo.transform(s))};function iM(t){var e,n;return isNaN(t)&&iu(t)&&(((e=t.match(sf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(I1))===null||n===void 0?void 0:n.length)||0)>0}const Z1={regex:XD,countKey:"Vars",token:"${v}",parse:Et},eI={regex:I1,countKey:"Colors",token:"${c}",parse:hn.parse},tI={regex:sf,countKey:"Numbers",token:"${n}",parse:No.parse};function lm(t,{regex:e,countKey:n,token:r,parse:s}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(s)))}function xh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&lm(n,Z1),lm(n,eI),lm(n,tI),n}function nI(t){return xh(t).values}function rI(t){const{values:e,numColors:n,numVars:r,tokenised:s}=xh(t),a=e.length;return l=>{let d=s;for(let f=0;f<a;f++)f<r?d=d.replace(Z1.token,l[f]):f<r+n?d=d.replace(eI.token,hn.transform(l[f])):d=d.replace(tI.token,Ic(l[f]));return d}}const sM=t=>typeof t=="number"?0:t;function oM(t){const e=nI(t);return rI(t)(e.map(sM))}const Is={test:iM,parse:nI,createTransformer:rI,getAnimatableNone:oM},iI=(t,e)=>n=>`${n>0?e:t}`;function sI(t,e){return typeof t=="number"?n=>dt(t,e,n):hn.test(t)?J1(t,e):t.startsWith("var(")?iI(t,e):aI(t,e)}const oI=(t,e)=>{const n=[...t],r=n.length,s=t.map((a,l)=>sI(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}},aM=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=sI(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}},aI=(t,e)=>{const n=Is.createTransformer(e),r=xh(t),s=xh(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?xs(oI(r.values,s.values),n):iI(t,e)},$c=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},s_=(t,e)=>n=>dt(t,e,n);function lM(t){return typeof t=="number"?s_:typeof t=="string"?hn.test(t)?J1:aI:Array.isArray(t)?oI:typeof t=="object"?aM:s_}function cM(t,e,n){const r=[],s=n||lM(t[0]),a=t.length-1;for(let l=0;l<a;l++){let d=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Et:e;d=xs(f,d)}r.push(d)}return r}function lI(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Uy(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=cM(e,r,s),d=l.length,f=m=>{let y=0;if(d>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const w=$c(t[y],t[y+1],m);return l[y](w)};return n?m=>f(Es(t[0],t[a-1],m)):f}function uM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=$c(0,e,r);t.push(dt(n,1,s))}}function dM(t){const e=[0];return uM(e,t.length-1),e}function hM(t,e){return t.map(n=>n*e)}function fM(t,e){return t.map(()=>e||H1).splice(0,t.length-1)}function wh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=KL(r)?r.map(r_):r_(r),a={done:!1,value:e[0]},l=hM(n&&n.length===e.length?n:dM(e),t),d=lI(l,e,{ease:Array.isArray(s)?s:fM(e,s)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}function cI(t,e){return e?t*(1e3/e):0}const pM=5;function uI(t,e,n){const r=Math.max(e-pM,0);return cI(n-t(r),e-r)}const cm=.001,mM=.01,gM=10,yM=.05,vM=1;function xM({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,a,l=1-e;l=Es(yM,vM,l),t=Es(mM,gM,wi(t)),l<1?(s=m=>{const y=m*l,w=y*t,b=y-n,E=ig(m,l),k=Math.exp(-w);return cm-b/E*k},a=m=>{const w=m*l*t,b=w*n+n,E=Math.pow(l,2)*Math.pow(m,2)*t,k=Math.exp(-w),P=ig(Math.pow(m,2),l);return(-s(m)+cm>0?-1:1)*((b-E)*k)/P}):(s=m=>{const y=Math.exp(-m*t),w=(m-n)*t+1;return-cm+y*w},a=m=>{const y=Math.exp(-m*t),w=(n-m)*(t*t);return y*w});const d=5/t,f=_M(s,a,d);if(t=mo(t),isNaN(f))return{stiffness:100,damping:10,duration:t};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:t}}}const wM=12;function _M(t,e,n){let r=n;for(let s=1;s<wM;s++)r=r-t(r)/e(r);return r}function ig(t,e){return t*Math.sqrt(1-e*e)}const bM=["duration","bounce"],TM=["stiffness","damping","mass"];function o_(t,e){return e.some(n=>t[n]!==void 0)}function EM(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!o_(t,TM)&&o_(t,bM)){const n=xM(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function dI({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],a=t[t.length-1],l={done:!1,value:s},{stiffness:d,damping:f,mass:m,duration:y,velocity:w,isResolvedFromDuration:b}=EM({...r,velocity:-wi(r.velocity||0)}),E=w||0,k=f/(2*Math.sqrt(d*m)),P=a-s,N=wi(Math.sqrt(d/m)),B=Math.abs(P)<5;n||(n=B?.01:2),e||(e=B?.005:.5);let $;if(k<1){const z=ig(N,k);$=G=>{const ie=Math.exp(-k*N*G);return a-ie*((E+k*N*P)/z*Math.sin(z*G)+P*Math.cos(z*G))}}else if(k===1)$=z=>a-Math.exp(-N*z)*(P+(E+N*P)*z);else{const z=N*Math.sqrt(k*k-1);$=G=>{const ie=Math.exp(-k*N*G),Z=Math.min(z*G,300);return a-ie*((E+k*N*P)*Math.sinh(Z)+z*P*Math.cosh(Z))/z}}return{calculatedDuration:b&&y||null,next:z=>{const G=$(z);if(b)l.done=z>=y;else{let ie=E;z!==0&&(k<1?ie=uI($,z,G):ie=0);const Z=Math.abs(ie)<=n,V=Math.abs(a-G)<=e;l.done=Z&&V}return l.value=l.done?a:G,l}}}function a_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:f,restDelta:m=.5,restSpeed:y}){const w=t[0],b={done:!1,value:w},E=I=>d!==void 0&&I<d||f!==void 0&&I>f,k=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let P=n*e;const N=w+P,B=l===void 0?N:l(N);B!==N&&(P=B-w);const $=I=>-P*Math.exp(-I/r),z=I=>B+$(I),G=I=>{const R=$(I),A=z(I);b.done=Math.abs(R)<=m,b.value=b.done?B:A};let ie,Z;const V=I=>{E(b.value)&&(ie=I,Z=dI({keyframes:[b.value,k(b.value)],velocity:uI(z,I,b.value),damping:s,stiffness:a,restDelta:m,restSpeed:y}))};return V(0),{calculatedDuration:null,next:I=>{let R=!1;return!Z&&ie===void 0&&(R=!0,G(I),V(I)),ie!==void 0&&I>ie?Z.next(I-ie):(!R&&G(I),b)}}}const IM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ot.update(e,!0),stop:()=>ki(e),now:()=>tn.isProcessing?tn.timestamp:performance.now()}},l_=2e4;function c_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<l_;)e+=n,r=t.next(e);return e>=l_?1/0:e}const SM={decay:a_,inertia:a_,tween:wh,keyframes:wh,spring:dI};function _h({autoplay:t=!0,delay:e=0,driver:n=IM,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:d="loop",onPlay:f,onStop:m,onComplete:y,onUpdate:w,...b}){let E=1,k=!1,P,N;const B=()=>{N=new Promise(F=>{P=F})};B();let $;const z=SM[s]||wh;let G;z!==wh&&typeof r[0]!="number"&&(G=lI([0,100],r,{clamp:!1}),r=[0,100]);const ie=z({...b,keyframes:r});let Z;d==="mirror"&&(Z=z({...b,keyframes:[...r].reverse(),velocity:-(b.velocity||0)}));let V="idle",I=null,R=null,A=null;ie.calculatedDuration===null&&a&&(ie.calculatedDuration=c_(ie));const{calculatedDuration:L}=ie;let M=1/0,C=1/0;L!==null&&(M=L+l,C=M*(a+1)-l);let se=0;const ge=F=>{if(R===null)return;E>0&&(R=Math.min(R,F)),E<0&&(R=Math.min(F-C/E,R)),I!==null?se=I:se=Math.round(F-R)*E;const J=se-e*(E>=0?1:-1),ue=E>=0?J<0:J>C;se=Math.max(J,0),V==="finished"&&I===null&&(se=C);let Te=se,Re=ie;if(a){const Be=Math.min(se,C)/M;let Ze=Math.floor(Be),yt=Be%1;!yt&&Be>=1&&(yt=1),yt===1&&Ze--,Ze=Math.min(Ze,a+1),!!(Ze%2)&&(d==="reverse"?(yt=1-yt,l&&(yt-=l/M)):d==="mirror"&&(Re=Z)),Te=Es(0,1,yt)*M}const Le=ue?{done:!1,value:r[0]}:Re.next(Te);G&&(Le.value=G(Le.value));let{done:Ie}=Le;!ue&&L!==null&&(Ie=E>=0?se>=C:se<=0);const Fe=I===null&&(V==="finished"||V==="running"&&Ie);return w&&w(Le.value),Fe&&Y(),Le},ce=()=>{$&&$.stop(),$=void 0},Ce=()=>{V="idle",ce(),P(),B(),R=A=null},Y=()=>{V="finished",y&&y(),ce(),P()},fe=()=>{if(k)return;$||($=n(ge));const F=$.now();f&&f(),I!==null?R=F-I:(!R||V==="finished")&&(R=F),V==="finished"&&B(),A=R,I=null,V="running",$.start()};t&&fe();const de={then(F,J){return N.then(F,J)},get time(){return wi(se)},set time(F){F=mo(F),se=F,I!==null||!$||E===0?I=F:R=$.now()-F/E},get duration(){const F=ie.calculatedDuration===null?c_(ie):ie.calculatedDuration;return wi(F)},get speed(){return E},set speed(F){F===E||!$||(E=F,de.time=wi(se))},get state(){return V},play:fe,pause:()=>{V="paused",I=se},stop:()=>{k=!0,V!=="idle"&&(V="idle",m&&m(),Ce())},cancel:()=>{A!==null&&ge(A),Ce()},complete:()=>{V="finished"},sample:F=>(R=0,ge(F))};return de}function kM(t){let e;return()=>(e===void 0&&(e=t()),e)}const CM=kM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),AM=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Rd=10,PM=2e4,NM=(t,e)=>e.type==="spring"||t==="backgroundColor"||!z1(e.ease);function RM(t,e,{onUpdate:n,onComplete:r,...s}){if(!(CM()&&AM.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let l=!1,d,f,m=!1;const y=()=>{f=new Promise(z=>{d=z})};y();let{keyframes:w,duration:b=300,ease:E,times:k}=s;if(NM(e,s)){const z=_h({...s,repeat:0,delay:0});let G={done:!1,value:w[0]};const ie=[];let Z=0;for(;!G.done&&Z<PM;)G=z.sample(Z),ie.push(G.value),Z+=Rd;k=void 0,w=ie,b=Z-Rd,E="linear"}const P=BL(t.owner.current,e,w,{...s,duration:b,ease:E,times:k}),N=()=>{m=!1,P.cancel()},B=()=>{m=!0,ot.update(N),d(),y()};return P.onfinish=()=>{m||(t.set(zL(w,s)),r&&r(),B())},{then(z,G){return f.then(z,G)},attachTimeline(z){return P.timeline=z,P.onfinish=null,Et},get time(){return wi(P.currentTime||0)},set time(z){P.currentTime=mo(z)},get speed(){return P.playbackRate},set speed(z){P.playbackRate=z},get duration(){return wi(b)},play:()=>{l||(P.play(),ki(N))},pause:()=>P.pause(),stop:()=>{if(l=!0,P.playState==="idle")return;const{currentTime:z}=P;if(z){const G=_h({...s,autoplay:!1});t.setWithVelocity(G.sample(z-Rd).value,G.sample(z).value,Rd)}B()},complete:()=>{m||P.finish()},cancel:B}}function jM({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Et,pause:Et,stop:Et,then:a=>(a(),Promise.resolve()),cancel:Et,complete:Et});return e?_h({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const VM={type:"spring",stiffness:500,damping:25,restSpeed:10},DM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LM={type:"keyframes",duration:.8},MM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OM=(t,{keyframes:e})=>e.length>2?LM:Po.has(t)?t.startsWith("scale")?DM(e[1]):VM:MM,sg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Is.test(e)||e==="0")&&!e.startsWith("url(")),FM=new Set(["brightness","contrast","saturate","opacity"]);function UM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sf)||[];if(!r)return t;const s=n.replace(r,"");let a=FM.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const BM=/([a-z-]*)\(.*?\)/g,og={...Is,getAnimatableNone:t=>{const e=t.match(BM);return e?e.map(UM).join(" "):t}},zM={...S1,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:og,WebkitFilter:og},qy=t=>zM[t];function hI(t,e){let n=qy(t);return n!==og&&(n=Is),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fI=t=>/^0[^.\s]+$/.test(t);function $M(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||fI(t)}function qM(t,e,n,r){const s=sg(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const l=r.from!==void 0?r.from:t.get();let d;const f=[];for(let m=0;m<a.length;m++)a[m]===null&&(a[m]=m===0?l:a[m-1]),$M(a[m])&&f.push(m),typeof a[m]=="string"&&a[m]!=="none"&&a[m]!=="0"&&(d=a[m]);if(s&&f.length&&d)for(let m=0;m<f.length;m++){const y=f[m];a[y]=hI(e,d)}return a}function WM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:d,from:f,elapsed:m,...y}){return!!Object.keys(y).length}function Wy(t,e){return t[e]||t.default||t}const HM={skipAnimations:!1},Hy=(t,e,n,r={})=>s=>{const a=Wy(r,t)||{},l=a.delay||r.delay||0;let{elapsed:d=0}=r;d=d-mo(l);const f=qM(e,t,n,a),m=f[0],y=f[f.length-1],w=sg(t,m),b=sg(t,y);let E={keyframes:f,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-d,onUpdate:k=>{e.set(k),a.onUpdate&&a.onUpdate(k)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(WM(a)||(E={...E,...OM(t,E)}),E.duration&&(E.duration=mo(E.duration)),E.repeatDelay&&(E.repeatDelay=mo(E.repeatDelay)),!w||!b||UL.current||a.type===!1||HM.skipAnimations)return jM(E);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const k=RM(e,t,E);if(k)return k}return _h(E)};function bh(t){return!!(In(t)&&t.add)}const pI=t=>/^\-?\d*\.?\d+$/.test(t);function Gy(t,e){t.indexOf(e)===-1&&t.push(e)}function Ky(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Qy{constructor(){this.subscriptions=[]}add(e){return Gy(this.subscriptions,e),()=>Ky(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const GM=t=>!isNaN(parseFloat(t));class KM{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=tn;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=GM(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qy);const r=this.events[e].add(n);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?cI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qa(t,e){return new KM(t,e)}const mI=t=>e=>e.test(t),QM={test:t=>t==="auto",parse:t=>t},gI=[No,Ae,Br,ls,tL,eL,QM],ic=t=>gI.find(mI(t)),YM=[...gI,hn,Is],XM=t=>YM.find(mI(t));function JM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qa(n))}function ZM(t,e){const n=af(t,e);let{transitionEnd:r={},transition:s={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const l in a){const d=gL(a[l]);JM(t,l,d)}}function eO(t,e,n){var r,s;const a=Object.keys(e).filter(d=>!t.hasValue(d)),l=a.length;if(l)for(let d=0;d<l;d++){const f=a[d],m=e[f];let y=null;Array.isArray(m)&&(y=m[0]),y===null&&(y=(s=(r=n[f])!==null&&r!==void 0?r:t.readValue(f))!==null&&s!==void 0?s:e[f]),y!=null&&(typeof y=="string"&&(pI(y)||fI(y))?y=parseFloat(y):!XM(y)&&Is.test(m)&&(y=hI(f,m)),t.addValue(f,Qa(y,{owner:t})),n[f]===void 0&&(n[f]=y),y!==null&&t.setBaseTarget(f,y))}}function tO(t,e){return e?(e[t]||e.default||e).from:void 0}function nO(t,e,n){const r={};for(const s in t){const a=tO(s,e);if(a!==void 0)r[s]=a;else{const l=n.getValue(s);l&&(r[s]=l.get())}}return r}function rO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function iO(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function yI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...d}=t.makeTargetAnimatable(e);const f=t.getValue("willChange");r&&(a=r);const m=[],y=s&&t.animationState&&t.animationState.getState()[s];for(const w in d){const b=t.getValue(w),E=d[w];if(!b||E===void 0||y&&rO(y,w))continue;const k={delay:n,elapsed:0,...Wy(a||{},w)};if(window.HandoffAppearAnimations){const B=t.getProps()[v1];if(B){const $=window.HandoffAppearAnimations(B,w,b,ot);$!==null&&(k.elapsed=$,k.isHandoff=!0)}}let P=!k.isHandoff&&!iO(b,E);if(k.type==="spring"&&(b.getVelocity()||k.velocity)&&(P=!1),b.animation&&(P=!1),P)continue;b.start(Hy(w,b,E,t.shouldReduceMotion&&Po.has(w)?{type:!1}:k));const N=b.animation;bh(f)&&(f.add(w),N.then(()=>f.remove(w))),m.push(N)}return l&&Promise.all(m).then(()=>{l&&ZM(t,l)}),m}function ag(t,e,n={}){const r=af(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(yI(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:w}=s;return sO(t,e,m+f,y,w,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[f,m]=d==="beforeChildren"?[a,l]:[l,a];return f().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function sO(t,e,n=0,r=0,s=1,a){const l=[],d=(t.variantChildren.size-1)*r,f=s===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(t.variantChildren).sort(oO).forEach((m,y)=>{m.notify("AnimationStart",e),l.push(ag(m,e,{...a,delay:n+f(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function oO(t,e){return t.sortNodePosition(e)}function aO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>ag(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=ag(t,e,n);else{const s=typeof e=="function"?af(t,e,n.custom):e;r=Promise.all(yI(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const lO=[...Ny].reverse(),cO=Ny.length;function uO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>aO(t,n,r)))}function dO(t){let e=uO(t);const n=fO();let r=!0;const s=(f,m)=>{const y=af(t,m);if(y){const{transition:w,transitionEnd:b,...E}=y;f={...f,...E,...b}}return f};function a(f){e=f(t)}function l(f,m){const y=t.getProps(),w=t.getVariantContext(!0)||{},b=[],E=new Set;let k={},P=1/0;for(let B=0;B<cO;B++){const $=lO[B],z=n[$],G=y[$]!==void 0?y[$]:w[$],ie=Bc(G),Z=$===m?z.isActive:null;Z===!1&&(P=B);let V=G===w[$]&&G!==y[$]&&ie;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),z.protectedKeys={...k},!z.isActive&&Z===null||!G&&!z.prevProp||nf(G)||typeof G=="boolean")continue;let R=hO(z.prevProp,G)||$===m&&z.isActive&&!V&&ie||B>P&&ie,A=!1;const L=Array.isArray(G)?G:[G];let M=L.reduce(s,{});Z===!1&&(M={});const{prevResolvedValues:C={}}=z,se={...C,...M},ge=ce=>{R=!0,E.has(ce)&&(A=!0,E.delete(ce)),z.needsAnimating[ce]=!0};for(const ce in se){const Ce=M[ce],Y=C[ce];if(k.hasOwnProperty(ce))continue;let fe=!1;vh(Ce)&&vh(Y)?fe=!U1(Ce,Y):fe=Ce!==Y,fe?Ce!==void 0?ge(ce):E.add(ce):Ce!==void 0&&E.has(ce)?ge(ce):z.protectedKeys[ce]=!0}z.prevProp=G,z.prevResolvedValues=M,z.isActive&&(k={...k,...M}),r&&t.blockInitialAnimation&&(R=!1),R&&(!V||A)&&b.push(...L.map(ce=>({animation:ce,options:{type:$,...f}})))}if(E.size){const B={};E.forEach($=>{const z=t.getBaseTarget($);z!==void 0&&(B[$]=z)}),b.push({animation:B})}let N=!!b.length;return r&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(b):Promise.resolve()}function d(f,m,y){var w;if(n[f].isActive===m)return Promise.resolve();(w=t.variantChildren)===null||w===void 0||w.forEach(E=>{var k;return(k=E.animationState)===null||k===void 0?void 0:k.setActive(f,m)}),n[f].isActive=m;const b=l(y,f);for(const E in n)n[E].protectedKeys={};return b}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n}}function hO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!U1(e,t):!1}function ro(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fO(){return{animate:ro(!0),whileInView:ro(),whileHover:ro(),whileTap:ro(),whileDrag:ro(),whileFocus:ro(),exit:ro()}}class pO extends Cs{constructor(e){super(e),e.animationState||(e.animationState=dO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),nf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let mO=0;class gO extends Cs{constructor(){super(...arguments),this.id=mO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const yO={animation:{Feature:pO},exit:{Feature:gO}},u_=(t,e)=>Math.abs(t-e);function vO(t,e){const n=u_(t.x,e.x),r=u_(t.y,e.y);return Math.sqrt(n**2+r**2)}class vI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=dm(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,E=vO(w.offset,{x:0,y:0})>=3;if(!b&&!E)return;const{point:k}=w,{timestamp:P}=tn;this.history.push({...k,timestamp:P});const{onStart:N,onMove:B}=this.handlers;b||(N&&N(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,w)},this.handlePointerMove=(w,b)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=um(b,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(w,b)=>{this.end();const{onEnd:E,onSessionEnd:k,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=dm(w.type==="pointercancel"?this.lastMoveEventInfo:um(b,this.transformPagePoint),this.history);this.startEvent&&E&&E(w,N),k&&k(w,N)},!D1(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=of(e),d=um(l,this.transformPagePoint),{point:f}=d,{timestamp:m}=tn;this.history=[{...f,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,dm(d,this.history)),this.removeListeners=xs(xi(this.contextWindow,"pointermove",this.handlePointerMove),xi(this.contextWindow,"pointerup",this.handlePointerUp),xi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function um(t,e){return e?{point:e(t.point)}:t}function d_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dm({point:t},e){return{point:t,delta:d_(t,xI(e)),offset:d_(t,xO(e)),velocity:wO(e,.1)}}function xO(t){return t[0]}function xI(t){return t[t.length-1]}function wO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=xI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>mo(e)));)n--;if(!r)return{x:0,y:0};const a=wi(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Dn(t){return t.max-t.min}function lg(t,e=0,n=.01){return Math.abs(t-e)<=n}function h_(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),(lg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(lg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Sc(t,e,n,r){h_(t.x,e.x,n.x,r?r.originX:void 0),h_(t.y,e.y,n.y,r?r.originY:void 0)}function f_(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function _O(t,e,n){f_(t.x,e.x,n.x),f_(t.y,e.y,n.y)}function p_(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function kc(t,e,n){p_(t.x,e.x,n.x),p_(t.y,e.y,n.y)}function bO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function m_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TO(t,{top:e,left:n,bottom:r,right:s}){return{x:m_(t.x,n,s),y:m_(t.y,e,r)}}function g_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function EO(t,e){return{x:g_(t.x,e.x),y:g_(t.y,e.y)}}function IO(t,e){let n=.5;const r=Dn(t),s=Dn(e);return s>r?n=$c(e.min,e.max-r,t.min):r>s&&(n=$c(t.min,t.max-s,e.min)),Es(0,1,n)}function SO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cg=.35;function kO(t=cg){return t===!1?t=0:t===!0&&(t=cg),{x:y_(t,"left","right"),y:y_(t,"top","bottom")}}function y_(t,e,n){return{min:v_(t,e),max:v_(t,n)}}function v_(t,e){return typeof t=="number"?t:t[e]||0}const x_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Va=()=>({x:x_(),y:x_()}),w_=()=>({min:0,max:0}),Ct=()=>({x:w_(),y:w_()});function Kn(t){return[t("x"),t("y")]}function wI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function CO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hm(t){return t===void 0||t===1}function ug({scale:t,scaleX:e,scaleY:n}){return!hm(t)||!hm(e)||!hm(n)}function oo(t){return ug(t)||_I(t)||t.z||t.rotate||t.rotateX||t.rotateY}function _I(t){return __(t.x)||__(t.y)}function __(t){return t&&t!=="0%"}function Th(t,e,n){const r=t-n,s=e*r;return n+s}function b_(t,e,n,r,s){return s!==void 0&&(t=Th(t,s,r)),Th(t,n,r)+e}function dg(t,e=0,n=1,r,s){t.min=b_(t.min,e,n,r,s),t.max=b_(t.max,e,n,r,s)}function bI(t,{x:e,y:n}){dg(t.x,e.translate,e.scale,e.originPoint),dg(t.y,n.translate,n.scale,n.originPoint)}function PO(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let d=0;d<s;d++){a=n[d],l=a.projectionDelta;const f=a.instance;f&&f.style&&f.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Da(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,bI(t,l)),r&&oo(a.latestValues)&&Da(t,a.latestValues))}e.x=T_(e.x),e.y=T_(e.y)}function T_(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function cs(t,e){t.min=t.min+e,t.max=t.max+e}function E_(t,e,[n,r,s]){const a=e[s]!==void 0?e[s]:.5,l=dt(t.min,t.max,a);dg(t,e[n],e[r],l,e.scale)}const NO=["x","scaleX","originX"],RO=["y","scaleY","originY"];function Da(t,e){E_(t.x,e,NO),E_(t.y,e,RO)}function TI(t,e){return wI(AO(t.getBoundingClientRect(),e))}function jO(t,e,n){const r=TI(t,n),{scroll:s}=e;return s&&(cs(r.x,s.offset.x),cs(r.y,s.offset.y)),r}const EI=({current:t})=>t?t.ownerDocument.defaultView:null,VO=new WeakMap;class DO{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(of(y,"page").point)},a=(y,w)=>{const{drag:b,dragPropagation:E,onDragStart:k}=this.getProps();if(b&&!E&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=M1(b),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(N=>{let B=this.getAxisMotionValue(N).get()||0;if(Br.test(B)){const{projection:$}=this.visualElement;if($&&$.layout){const z=$.layout.layoutBox[N];z&&(B=Dn(z)*(parseFloat(B)/100))}}this.originPoint[N]=B}),k&&ot.update(()=>k(y,w),!1,!0);const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},l=(y,w)=>{const{dragPropagation:b,dragDirectionLock:E,onDirectionLock:k,onDrag:P}=this.getProps();if(!b&&!this.openGlobalLock)return;const{offset:N}=w;if(E&&this.currentDirection===null){this.currentDirection=LO(N),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,N),this.updateAxis("y",w.point,N),this.visualElement.render(),P&&P(y,w)},d=(y,w)=>this.stop(y,w),f=()=>Kn(y=>{var w;return this.getAnimationState(y)==="paused"&&((w=this.getAxisMotionValue(y).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new vI(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:EI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ot.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!jd(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=bO(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Ra(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=TO(s.layoutBox,n):this.constraints=!1,this.elastic=kO(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Kn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=SO(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ra(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=jO(r,s.root,this.visualElement.getTransformPagePoint());let l=EO(s.layout.layoutBox,a);if(n){const d=n(CO(l));this.hasMutatedConstraints=!!d,d&&(l=wI(d))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Kn(y=>{if(!jd(y,n,this.currentDirection))return;let w=f&&f[y]||{};l&&(w={min:0,max:0});const b=s?200:1e6,E=s?40:1e7,k={type:"inertia",velocity:r?e[y]:0,bounceStiffness:b,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(y,k)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Hy(e,r,0,n))}stopAnimation(){Kn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Kn(n=>{const{drag:r}=this.getProps();if(!jd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:d}=s.layout.layoutBox[n];a.set(e[n]-dt(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ra(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Kn(l=>{const d=this.getAxisMotionValue(l);if(d){const f=d.get();s[l]=IO({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(l=>{if(!jd(l,e,null))return;const d=this.getAxisMotionValue(l),{min:f,max:m}=this.constraints[l];d.set(dt(f,m,s[l]))})}addListeners(){if(!this.visualElement.current)return;VO.set(this.visualElement,this);const e=this.visualElement.current,n=xi(e,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ra(f)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const l=mi(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Kn(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=f[y].translate,w.set(w.get()+f[y].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=cg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function jd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class MO extends Cs{constructor(e){super(e),this.removeGroupControls=Et,this.removeListeners=Et,this.controls=new DO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Et}unmount(){this.removeGroupControls(),this.removeListeners()}}const I_=t=>(e,n)=>{t&&ot.update(()=>t(e,n))};class OO extends Cs{constructor(){super(...arguments),this.removePointerDownListener=Et}onPointerDown(e){this.session=new vI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:I_(e),onStart:I_(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&ot.update(()=>s(a,l))}}}mount(){this.removePointerDownListener=xi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function FO(){const t=D.useContext(Ay);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=D.useId();return D.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Gd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=S_(t,e.target.x),r=S_(t,e.target.y);return`${n}% ${r}%`}},UO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Is.parse(t);if(s.length>5)return r;const a=Is.createTransformer(t),l=typeof s[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=d,s[1+l]/=f;const m=dt(d,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=m),typeof s[3+l]=="number"&&(s[3+l]/=m),a(s)}};class BO extends wg.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;GD(zO),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Gd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ot.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function II(t){const[e,n]=FO(),r=D.useContext(w1);return wg.createElement(BO,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(_1),isPresent:e,safeToRemove:n})}const zO={borderRadius:{...sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomLeftRadius:sc,borderBottomRightRadius:sc,boxShadow:UO},SI=["TopLeft","TopRight","BottomLeft","BottomRight"],$O=SI.length,k_=t=>typeof t=="string"?parseFloat(t):t,C_=t=>typeof t=="number"||Ae.test(t);function qO(t,e,n,r,s,a){s?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,WO(r)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,HO(r))):a&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<$O;l++){const d=`border${SI[l]}Radius`;let f=A_(e,d),m=A_(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||C_(f)===C_(m)?(t[d]=Math.max(dt(k_(f),k_(m),r),0),(Br.test(m)||Br.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function A_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WO=kI(0,.5,Q1),HO=kI(.5,.95,Et);function kI(t,e,n){return r=>r<t?0:r>e?1:n($c(t,e,r))}function P_(t,e){t.min=e.min,t.max=e.max}function Gn(t,e){P_(t.x,e.x),P_(t.y,e.y)}function N_(t,e,n,r,s){return t-=e,t=Th(t,1/n,r),s!==void 0&&(t=Th(t,1/s,r)),t}function GO(t,e=0,n=1,r=.5,s,a=t,l=t){if(Br.test(e)&&(e=parseFloat(e),e=dt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=dt(a.min,a.max,r);t===a&&(d-=e),t.min=N_(t.min,e,n,d,s),t.max=N_(t.max,e,n,d,s)}function R_(t,e,[n,r,s],a,l){GO(t,e[n],e[r],e[s],e.scale,a,l)}const KO=["x","scaleX","originX"],QO=["y","scaleY","originY"];function j_(t,e,n,r){R_(t.x,e,KO,n?n.x:void 0,r?r.x:void 0),R_(t.y,e,QO,n?n.y:void 0,r?r.y:void 0)}function V_(t){return t.translate===0&&t.scale===1}function CI(t){return V_(t.x)&&V_(t.y)}function YO(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function AI(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function D_(t){return Dn(t.x)/Dn(t.y)}class XO{constructor(){this.members=[]}add(e){Gy(this.members,e),e.scheduleRender()}remove(e){if(Ky(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function L_(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:f,rotateX:m,rotateY:y}=n;f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `)}const l=t.x.scale*e.x,d=t.y.scale*e.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const JO=(t,e)=>t.depth-e.depth;class ZO{constructor(){this.children=[],this.isDirty=!1}add(e){Gy(this.children,e),this.isDirty=!0}remove(e){Ky(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JO),this.isDirty=!1,this.children.forEach(e)}}function e4(t,e){const n=performance.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(ki(r),t(a-e))};return ot.read(r,!0),()=>ki(r)}function t4(t){window.MotionDebug&&window.MotionDebug.record(t)}function n4(t){return t instanceof SVGElement&&t.tagName!=="svg"}function r4(t,e,n){const r=In(t)?t:Qa(t);return r.start(Hy("",r,e,n)),r.animation}const M_=["","X","Y","Z"],i4={visibility:"hidden"},O_=1e3;let s4=0;const ao={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function PI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},d=e==null?void 0:e()){this.id=s4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ao.totalNodes=ao.resolvedTargetDeltas=ao.recalculatedProjection=0,this.nodes.forEach(l4),this.nodes.forEach(f4),this.nodes.forEach(p4),this.nodes.forEach(c4),t4(ao)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZO)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Qy),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const f=this.eventHandlers.get(l);f&&f.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=n4(l),this.instance=l;const{layoutId:f,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),t){let w;const b=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=e4(b,250),Gd.hasAnimatedSinceResize&&(Gd.hasAnimatedSinceResize=!1,this.nodes.forEach(U_))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:b,hasRelativeTargetChanged:E,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||y.getDefaultTransition()||x4,{onLayoutAnimationStart:N,onLayoutAnimationComplete:B}=y.getProps(),$=!this.targetLayout||!AI(this.targetLayout,k)||E,z=!b&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||b&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,z);const G={...Wy(P,"layout"),onPlay:N,onComplete:B};(y.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else b||U_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m4),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F_);return}this.isUpdating||this.nodes.forEach(d4),this.isUpdating=!1,this.nodes.forEach(h4),this.nodes.forEach(o4),this.nodes.forEach(a4),this.clearAllSnapshots();const d=performance.now();tn.delta=Es(0,1e3/60,d-tn.timestamp),tn.timestamp=d,tn.isProcessing=!0,nm.update.process(tn),nm.preRender.process(tn),nm.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(u4),this.sharedNodes.forEach(g4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!CI(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;l&&(d||oo(this.latestValues)||y)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return l&&(f=this.removeTransform(f)),w4(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ct();const d=l.measureViewportBox(),{scroll:f}=this.root;return f&&(cs(d.x,f.offset.x),cs(d.y,f.offset.y)),d}removeElementScroll(l){const d=Ct();Gn(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:w}=m;if(m!==this.root&&y&&w.layoutScroll){if(y.isRoot){Gn(d,l);const{scroll:b}=this.root;b&&(cs(d.x,-b.offset.x),cs(d.y,-b.offset.y))}cs(d.x,y.offset.x),cs(d.y,y.offset.y)}}return d}applyTransform(l,d=!1){const f=Ct();Gn(f,l);for(let m=0;m<this.path.length;m++){const y=this.path[m];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Da(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),oo(y.latestValues)&&Da(f,y.latestValues)}return oo(this.latestValues)&&Da(f,this.latestValues),f}removeTransform(l){const d=Ct();Gn(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!oo(m.latestValues))continue;ug(m.latestValues)&&m.updateSnapshot();const y=Ct(),w=m.measurePageBox();Gn(y,w),j_(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return oo(this.latestValues)&&j_(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:w,layoutId:b}=this.options;if(!(!this.layout||!(w||b))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),kc(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_O(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),bI(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),kc(this.relativeTargetOrigin,this.target,E.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ao.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ug(this.parent.latestValues)||_I(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:y,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||w))return;Gn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,E=this.treeScale.y;PO(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:k}=d;if(!k){this.projectionTransform&&(this.projectionDelta=Va(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Va(),this.projectionDeltaWithTransform=Va());const P=this.projectionTransform;Sc(this.projectionDelta,this.layoutCorrected,k,this.latestValues),this.projectionTransform=L_(this.projectionDelta,this.treeScale),(this.projectionTransform!==P||this.treeScale.x!==b||this.treeScale.y!==E)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),ao.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,d=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},w=Va();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Ct(),E=f?f.source:void 0,k=this.layout?this.layout.source:void 0,P=E!==k,N=this.getStack(),B=!N||N.members.length<=1,$=!!(P&&!B&&this.options.crossfade===!0&&!this.path.some(v4));this.animationProgress=0;let z;this.mixTargetDelta=G=>{const ie=G/1e3;B_(w.x,l.x,ie),B_(w.y,l.y,ie),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),y4(this.relativeTarget,this.relativeTargetOrigin,b,ie),z&&YO(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Ct()),Gn(z,this.relativeTarget)),P&&(this.animationValues=y,qO(y,m,this.latestValues,ie,$,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Gd.hasAnimatedSinceResize=!0,this.currentAnimation=r4(0,O_,{...l,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:y}=l;if(!(!d||!f||!m)){if(this!==l&&this.layout&&m&&NI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Ct();const w=Dn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+w;const b=Dn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+b}Gn(d,f),Da(d,y),Sc(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new XO),this.sharedNodes.get(l).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:d}=this.options;return d?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:d}=this.options;return d?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:f}=l;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(d=!0),!d)return;const m={};for(let y=0;y<M_.length;y++){const w="rotate"+M_[y];f[w]&&(m[w]=f[w],l.setStaticValue(w,0))}l.render();for(const y in m)l.setStaticValue(y,m[y]);l.scheduleRender()}getProjectionStyles(l){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return i4;const m={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Hd(l==null?void 0:l.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Hd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(P.transform=y?y({},""):"none",this.hasProjected=!1),P}const b=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=L_(this.projectionDeltaWithTransform,this.treeScale,b),y&&(m.transform=y(b,m.transform));const{x:E,y:k}=this.projectionDelta;m.transformOrigin=`${E.origin*100}% ${k.origin*100}% 0`,w.animationValues?m.opacity=w===this?(f=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=w===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const P in gh){if(b[P]===void 0)continue;const{correct:N,applyTo:B}=gh[P],$=m.transform==="none"?b[P]:N(b[P],w);if(B){const z=B.length;for(let G=0;G<z;G++)m[B[G]]=$}else m[P]=$}return this.options.layoutId&&(m.pointerEvents=w===this?Hd(l==null?void 0:l.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(F_),this.root.sharedNodes.clear()}}}function o4(t){t.updateLayout()}function a4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Kn(w=>{const b=l?n.measuredBox[w]:n.layoutBox[w],E=Dn(b);b.min=r[w].min,b.max=b.min+E}):NI(a,n.layoutBox,r)&&Kn(w=>{const b=l?n.measuredBox[w]:n.layoutBox[w],E=Dn(r[w]);b.max=b.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[w].max=t.relativeTarget[w].min+E)});const d=Va();Sc(d,r,n.layoutBox);const f=Va();l?Sc(f,t.applyTransform(s,!0),n.measuredBox):Sc(f,r,n.layoutBox);const m=!CI(d);let y=!1;if(!t.resumeFrom){const w=t.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:b,layout:E}=w;if(b&&E){const k=Ct();kc(k,n.layoutBox,b.layoutBox);const P=Ct();kc(P,r,E.layoutBox),AI(k,P)||(y=!0),w.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=k,t.relativeParent=w)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function l4(t){ao.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u4(t){t.clearSnapshot()}function F_(t){t.clearMeasurements()}function d4(t){t.isLayoutDirty=!1}function h4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function U_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function f4(t){t.resolveTargetDelta()}function p4(t){t.calcProjection()}function m4(t){t.resetRotation()}function g4(t){t.removeLeadSnapshot()}function B_(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function z_(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function y4(t,e,n,r){z_(t.x,e.x,n.x,r),z_(t.y,e.y,n.y,r)}function v4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const x4={duration:.45,ease:[.4,0,.1,1]},$_=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),q_=$_("applewebkit/")&&!$_("chrome/")?Math.round:Et;function W_(t){t.min=q_(t.min),t.max=q_(t.max)}function w4(t){W_(t.x),W_(t.y)}function NI(t,e,n){return t==="position"||t==="preserve-aspect"&&!lg(D_(e),D_(n),.2)}const _4=PI({attachResizeListener:(t,e)=>mi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fm={current:void 0},RI=PI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fm.current){const t=new _4({});t.mount(window),t.setOptions({layoutScroll:!0}),fm.current=t}return fm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),b4={pan:{Feature:OO},drag:{Feature:MO,ProjectionNode:RI,MeasureLayout:II}},T4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function E4(t){const e=T4.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function hg(t,e,n=1){const[r,s]=E4(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return pI(l)?parseFloat(l):l}else return tg(s)?hg(s,e,n+1):s}function I4(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const a=s.get();if(!tg(a))return;const l=hg(a,r);l&&s.set(l)});for(const s in e){const a=e[s];if(!tg(a))continue;const l=hg(a,r);l&&(e[s]=l,n||(n={}),n[s]===void 0&&(n[s]=a))}return{target:e,transitionEnd:n}}const S4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),jI=t=>S4.has(t),k4=t=>Object.keys(t).some(jI),H_=t=>t===No||t===Ae,G_=(t,e)=>parseFloat(t.split(", ")[e]),K_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return G_(s[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?G_(a[1],t):0}},C4=new Set(["x","y","z"]),A4=ru.filter(t=>!C4.has(t));function P4(t){const e=[];return A4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:K_(4,13),y:K_(5,14)};Ya.translateX=Ya.x;Ya.translateY=Ya.y;const N4=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,a=getComputedStyle(s),{display:l}=a,d={};l==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(m=>{d[m]=Ya[m](r,a)}),e.render();const f=e.measureViewportBox();return n.forEach(m=>{const y=e.getValue(m);y&&y.jump(d[m]),t[m]=Ya[m](f,a)}),t},R4=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(jI);let a=[],l=!1;const d=[];if(s.forEach(f=>{const m=t.getValue(f);if(!t.hasValue(f))return;let y=n[f],w=ic(y);const b=e[f];let E;if(vh(b)){const k=b.length,P=b[0]===null?1:0;y=b[P],w=ic(y);for(let N=P;N<k&&b[N]!==null;N++)E?Uy(ic(b[N])===E):E=ic(b[N])}else E=ic(b);if(w!==E)if(H_(w)&&H_(E)){const k=m.get();typeof k=="string"&&m.set(parseFloat(k)),typeof b=="string"?e[f]=parseFloat(b):Array.isArray(b)&&E===Ae&&(e[f]=b.map(parseFloat))}else w!=null&&w.transform&&(E!=null&&E.transform)&&(y===0||b===0)?y===0?m.set(E.transform(y)):e[f]=w.transform(b):(l||(a=P4(t),l=!0),d.push(f),r[f]=r[f]!==void 0?r[f]:e[f],m.jump(b))}),d.length){const f=d.indexOf("height")>=0?window.pageYOffset:null,m=N4(e,t,d);return a.length&&a.forEach(([y,w])=>{t.getValue(y).set(w)}),t.render(),tf&&f!==null&&window.scrollTo({top:f}),{target:m,transitionEnd:r}}else return{target:e,transitionEnd:r}};function j4(t,e,n,r){return k4(e)?R4(t,e,n,r):{target:e,transitionEnd:r}}const V4=(t,e,n,r)=>{const s=I4(t,e,r);return e=s.target,r=s.transitionEnd,j4(t,e,n,r)},fg={current:null},VI={current:!1};function D4(){if(VI.current=!0,!!tf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fg.current=t.matches;t.addListener(e),e()}else fg.current=!1}function L4(t,e,n){const{willChange:r}=e;for(const s in e){const a=e[s],l=n[s];if(In(a))t.addValue(s,a),bh(r)&&r.add(s);else if(In(l))t.addValue(s,Qa(a,{owner:t})),bh(r)&&r.remove(s);else if(l!==a)if(t.hasValue(s)){const d=t.getValue(s);!d.hasAnimated&&d.set(a)}else{const d=t.getStaticValue(s);t.addValue(s,Qa(d!==void 0?d:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Q_=new WeakMap,DI=Object.keys(zc),M4=DI.length,Y_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],O4=Ry.length;class F4{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ot.render(this.render,!1,!0);const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.isControllingVariants=rf(n),this.isVariantNode=x1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{});for(const w in y){const b=y[w];d[w]!==void 0&&In(b)&&(b.set(d[w],!1),bh(m)&&m.add(w))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Q_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),VI.current||D4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Q_.delete(this.current),this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Po.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ot.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,a){let l,d;for(let f=0;f<M4;f++){const m=DI[f],{isEnabled:y,Feature:w,ProjectionNode:b,MeasureLayout:E}=zc[m];b&&(l=b),y(n)&&(!this.features[m]&&w&&(this.features[m]=new w(this)),E&&(d=E))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:m,drag:y,dragConstraints:w,layoutScroll:b,layoutRoot:E}=n;this.projection.setOptions({layoutId:f,layout:m,alwaysMeasureLayout:!!y||w&&Ra(w),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:a,layoutScroll:b,layoutRoot:E})}return d}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Y_.length;r++){const s=Y_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=e["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=L4(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<O4;r++){const s=Ry[r],a=this.props[s];(Bc(a)||a===!1)&&(n[s]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Qa(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Fy(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!In(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LI extends F4{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},a){let l=nO(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),l&&(l=s(l))),a){eO(this,r,l);const d=V4(this,r,l,n);n=d.transitionEnd,r=d.target}return{transition:e,transitionEnd:n,...r}}}function U4(t){return window.getComputedStyle(t)}class B4 extends LI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Po.has(n)){const r=qy(n);return r&&r.default||0}else{const r=U4(e),s=(E1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TI(e,n)}build(e,n,r,s){Vy(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Oy(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){P1(e,n,r,s)}}class z4 extends LI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Po.has(n)){const r=qy(n);return r&&r.default||0}return n=N1.has(n)?n:Py(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ct()}scrapeMotionValuesFromProps(e,n){return j1(e,n)}build(e,n,r,s){Ly(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){R1(e,n,r,s)}mount(e){this.isSVGTag=My(e.tagName),super.mount(e)}}const $4=(t,e)=>jy(t)?new z4(e,{enableHardwareAcceleration:!1}):new B4(e,{enableHardwareAcceleration:!0}),q4={layout:{ProjectionNode:RI,MeasureLayout:II}},W4={...yO,...ML,...b4,...q4},X=WD((t,e)=>EL(t,e,W4,$4));function X_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function H4(...t){return e=>{let n=!1;const r=t.map(s=>{const a=X_(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():X_(t[s],null)}}}}function G4(t){const e=Q4(t),n=D.forwardRef((r,s)=>{const{children:a,...l}=r,d=D.Children.toArray(a),f=d.find(X4);if(f){const m=f.props.children,y=d.map(w=>w===f?D.Children.count(m)>1?D.Children.only(null):D.isValidElement(m)?m.props.children:null:w);return p.jsx(e,{...l,ref:s,children:D.isValidElement(m)?D.cloneElement(m,void 0,y):null})}return p.jsx(e,{...l,ref:s,children:a})});return n.displayName=`${t}.Slot`,n}var K4=G4("Slot");function Q4(t){const e=D.forwardRef((n,r)=>{const{children:s,...a}=n;if(D.isValidElement(s)){const l=Z4(s),d=J4(a,s.props);return s.type!==D.Fragment&&(d.ref=r?H4(r,l):l),D.cloneElement(s,d)}return D.Children.count(s)>1?D.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Y4=Symbol("radix.slottable");function X4(t){return D.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Y4}function J4(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...d)=>{const f=a(...d);return s(...d),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function Z4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function MI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=MI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function OI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=MI(t))&&(r&&(r+=" "),r+=e);return r}const J_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Z_=OI,e5=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Z_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(m=>{const y=n==null?void 0:n[m],w=a==null?void 0:a[m];if(y===null)return null;const b=J_(y)||J_(w);return s[m][b]}),d=n&&Object.entries(n).reduce((m,y)=>{let[w,b]=y;return b===void 0||(m[w]=b),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:w,className:b,...E}=y;return Object.entries(E).every(k=>{let[P,N]=k;return Array.isArray(N)?N.includes({...a,...d}[P]):{...a,...d}[P]===N})?[...m,w,b]:m},[]);return Z_(t,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},Yy="-",t5=t=>{const e=r5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const d=l.split(Yy);return d[0]===""&&d.length!==1&&d.shift(),FI(d,e)||n5(l)},getConflictingClassGroupIds:(l,d)=>{const f=n[l]||[];return d&&r[l]?[...f,...r[l]]:f}}},FI=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?FI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(Yy);return(l=e.validators.find(({validator:d})=>d(a)))==null?void 0:l.classGroupId},eb=/^\[(.+)\]$/,n5=t=>{if(eb.test(t)){const e=eb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},r5=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)pg(n[s],r,s,e);return r},pg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:tb(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(i5(s)){pg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{pg(l,tb(e,a),n,r)})})},tb=(t,e)=>{let n=t;return e.split(Yy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},i5=t=>t.isThemeGetter,s5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}},mg="!",gg=":",o5=gg.length,a5=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const a=[];let l=0,d=0,f=0,m;for(let k=0;k<s.length;k++){let P=s[k];if(l===0&&d===0){if(P===gg){a.push(s.slice(f,k)),f=k+o5;continue}if(P==="/"){m=k;continue}}P==="["?l++:P==="]"?l--:P==="("?d++:P===")"&&d--}const y=a.length===0?s:s.substring(f),w=l5(y),b=w!==y,E=m&&m>f?m-f:void 0;return{modifiers:a,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:E}};if(e){const s=e+gg,a=r;r=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},l5=t=>t.endsWith(mg)?t.substring(0,t.length-1):t.startsWith(mg)?t.substring(1):t,c5=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},u5=t=>({cache:s5(t.cacheSize),parseClassName:a5(t),sortModifiers:c5(t),...t5(t)}),d5=/\s+/,h5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],d=t.trim().split(d5);let f="";for(let m=d.length-1;m>=0;m-=1){const y=d[m],{isExternal:w,modifiers:b,hasImportantModifier:E,baseClassName:k,maybePostfixModifierPosition:P}=n(y);if(w){f=y+(f.length>0?" "+f:f);continue}let N=!!P,B=r(N?k.substring(0,P):k);if(!B){if(!N){f=y+(f.length>0?" "+f:f);continue}if(B=r(k),!B){f=y+(f.length>0?" "+f:f);continue}N=!1}const $=a(b).join(":"),z=E?$+mg:$,G=z+B;if(l.includes(G))continue;l.push(G);const ie=s(B,N);for(let Z=0;Z<ie.length;++Z){const V=ie[Z];l.push(z+V)}f=y+(f.length>0?" "+f:f)}return f};function f5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=UI(e))&&(r&&(r+=" "),r+=n);return r}const UI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=UI(t[r]))&&(n&&(n+=" "),n+=e);return n};function p5(t,...e){let n,r,s,a=l;function l(f){const m=e.reduce((y,w)=>w(y),t());return n=u5(m),r=n.cache.get,s=n.cache.set,a=d,d(f)}function d(f){const m=r(f);if(m)return m;const y=h5(f,n);return s(f,y),y}return function(){return a(f5.apply(null,arguments))}}const Dt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},BI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,m5=/^\d+\/\d+$/,g5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,x5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,w5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ea=t=>m5.test(t),Me=t=>!!t&&!Number.isNaN(Number(t)),ss=t=>!!t&&Number.isInteger(Number(t)),pm=t=>t.endsWith("%")&&Me(t.slice(0,-1)),ci=t=>g5.test(t),_5=()=>!0,b5=t=>y5.test(t)&&!v5.test(t),$I=()=>!1,T5=t=>x5.test(t),E5=t=>w5.test(t),I5=t=>!ve(t)&&!xe(t),S5=t=>ol(t,HI,$I),ve=t=>BI.test(t),io=t=>ol(t,GI,b5),mm=t=>ol(t,N5,Me),nb=t=>ol(t,qI,$I),k5=t=>ol(t,WI,E5),Vd=t=>ol(t,KI,T5),xe=t=>zI.test(t),oc=t=>al(t,GI),C5=t=>al(t,R5),rb=t=>al(t,qI),A5=t=>al(t,HI),P5=t=>al(t,WI),Dd=t=>al(t,KI,!0),ol=(t,e,n)=>{const r=BI.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},al=(t,e,n=!1)=>{const r=zI.exec(t);return r?r[1]?e(r[1]):n:!1},qI=t=>t==="position"||t==="percentage",WI=t=>t==="image"||t==="url",HI=t=>t==="length"||t==="size"||t==="bg-size",GI=t=>t==="length",N5=t=>t==="number",R5=t=>t==="family-name",KI=t=>t==="shadow",j5=()=>{const t=Dt("color"),e=Dt("font"),n=Dt("text"),r=Dt("font-weight"),s=Dt("tracking"),a=Dt("leading"),l=Dt("breakpoint"),d=Dt("container"),f=Dt("spacing"),m=Dt("radius"),y=Dt("shadow"),w=Dt("inset-shadow"),b=Dt("text-shadow"),E=Dt("drop-shadow"),k=Dt("blur"),P=Dt("perspective"),N=Dt("aspect"),B=Dt("ease"),$=Dt("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ie=()=>[...G(),xe,ve],Z=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],I=()=>[xe,ve,f],R=()=>[Ea,"full","auto",...I()],A=()=>[ss,"none","subgrid",xe,ve],L=()=>["auto",{span:["full",ss,xe,ve]},ss,xe,ve],M=()=>[ss,"auto",xe,ve],C=()=>["auto","min","max","fr",xe,ve],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ge=()=>["start","end","center","stretch","center-safe","end-safe"],ce=()=>["auto",...I()],Ce=()=>[Ea,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],Y=()=>[t,xe,ve],fe=()=>[...G(),rb,nb,{position:[xe,ve]}],de=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",A5,S5,{size:[xe,ve]}],J=()=>[pm,oc,io],ue=()=>["","none","full",m,xe,ve],Te=()=>["",Me,oc,io],Re=()=>["solid","dashed","dotted","double"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ie=()=>[Me,pm,rb,nb],Fe=()=>["","none",k,xe,ve],Be=()=>["none",Me,xe,ve],Ze=()=>["none",Me,xe,ve],yt=()=>[Me,xe,ve],Ln=()=>[Ea,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ci],breakpoint:[ci],color:[_5],container:[ci],"drop-shadow":[ci],ease:["in","out","in-out"],font:[I5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ci],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ci],shadow:[ci],spacing:["px",Me],text:[ci],"text-shadow":[ci],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ea,ve,xe,N]}],container:["container"],columns:[{columns:[Me,ve,xe,d]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ie()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[ss,"auto",xe,ve]}],basis:[{basis:[Ea,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,Ea,"auto","initial","none",ve]}],grow:[{grow:["",Me,xe,ve]}],shrink:[{shrink:["",Me,xe,ve]}],order:[{order:[ss,"first","last","none",xe,ve]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...ge()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...ge(),"baseline"]}],"place-self":[{"place-self":["auto",...ge()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ce()}],w:[{w:[d,"screen",...Ce()]}],"min-w":[{"min-w":[d,"screen","none",...Ce()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...Ce()]}],h:[{h:["screen","lh",...Ce()]}],"min-h":[{"min-h":["screen","lh","none",...Ce()]}],"max-h":[{"max-h":["screen","lh",...Ce()]}],"font-size":[{text:["base",n,oc,io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xe,mm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pm,ve]}],"font-family":[{font:[C5,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,xe,ve]}],"line-clamp":[{"line-clamp":[Me,"none",xe,mm]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",xe,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",xe,io]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Me,"auto",xe,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:de()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ss,xe,ve],radial:["",xe,ve],conic:[ss,xe,ve]},P5,k5]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:Te()}],"border-w-x":[{"border-x":Te()}],"border-w-y":[{"border-y":Te()}],"border-w-s":[{"border-s":Te()}],"border-w-e":[{"border-e":Te()}],"border-w-t":[{"border-t":Te()}],"border-w-r":[{"border-r":Te()}],"border-w-b":[{"border-b":Te()}],"border-w-l":[{"border-l":Te()}],"divide-x":[{"divide-x":Te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,xe,ve]}],"outline-w":[{outline:["",Me,oc,io]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",y,Dd,Vd]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",w,Dd,Vd]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:Te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Me,io]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":Te()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",b,Dd,Vd]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Me,xe,ve]}],"mix-blend":[{"mix-blend":[...Le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ie()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":Ie()}],"mask-image-t-to-pos":[{"mask-t-to":Ie()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":Ie()}],"mask-image-r-to-pos":[{"mask-r-to":Ie()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":Ie()}],"mask-image-b-to-pos":[{"mask-b-to":Ie()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":Ie()}],"mask-image-l-to-pos":[{"mask-l-to":Ie()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":Ie()}],"mask-image-x-to-pos":[{"mask-x-to":Ie()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":Ie()}],"mask-image-y-to-pos":[{"mask-y-to":Ie()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[xe,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ie()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":G()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ie()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:de()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,ve]}],filter:[{filter:["","none",xe,ve]}],blur:[{blur:Fe()}],brightness:[{brightness:[Me,xe,ve]}],contrast:[{contrast:[Me,xe,ve]}],"drop-shadow":[{"drop-shadow":["","none",E,Dd,Vd]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Me,xe,ve]}],"hue-rotate":[{"hue-rotate":[Me,xe,ve]}],invert:[{invert:["",Me,xe,ve]}],saturate:[{saturate:[Me,xe,ve]}],sepia:[{sepia:["",Me,xe,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,ve]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[Me,xe,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Me,xe,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,xe,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,xe,ve]}],"backdrop-invert":[{"backdrop-invert":["",Me,xe,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Me,xe,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Me,xe,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,xe,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",xe,ve]}],ease:[{ease:["linear","initial",B,xe,ve]}],delay:[{delay:[Me,xe,ve]}],animate:[{animate:["none",$,xe,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,xe,ve]}],"perspective-origin":[{"perspective-origin":ie()}],rotate:[{rotate:Be()}],"rotate-x":[{"rotate-x":Be()}],"rotate-y":[{"rotate-y":Be()}],"rotate-z":[{"rotate-z":Be()}],scale:[{scale:Ze()}],"scale-x":[{"scale-x":Ze()}],"scale-y":[{"scale-y":Ze()}],"scale-z":[{"scale-z":Ze()}],"scale-3d":["scale-3d"],skew:[{skew:yt()}],"skew-x":[{"skew-x":yt()}],"skew-y":[{"skew-y":yt()}],transform:[{transform:[xe,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:ie()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ln()}],"translate-x":[{"translate-x":Ln()}],"translate-y":[{"translate-y":Ln()}],"translate-z":[{"translate-z":Ln()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,ve]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Me,oc,io,mm]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},V5=p5(j5);function Ro(...t){return V5(OI(t))}const D5=e5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Kd=D.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},a)=>{const l=r?K4:"button";return p.jsx(l,{className:Ro(D5({variant:e,size:n,className:t})),ref:a,...s})});Kd.displayName="Button";const yg=D.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ro("rounded-xl border bg-card text-card-foreground shadow",t),...e}));yg.displayName="Card";const L5=D.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ro("flex flex-col space-y-1.5 p-6",t),...e}));L5.displayName="CardHeader";const M5=D.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ro("font-semibold leading-none tracking-tight",t),...e}));M5.displayName="CardTitle";const O5=D.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ro("text-sm text-muted-foreground",t),...e}));O5.displayName="CardDescription";const vg=D.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ro("p-6 pt-0",t),...e}));vg.displayName="CardContent";const F5=D.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ro("flex items-center p-6 pt-0",t),...e}));F5.displayName="CardFooter";const U5="/EMPOWER360/assets/studentillus-DaMvuzoL.png",B5=()=>{const t=an();return p.jsxs("div",{className:"min-h-screen bg-white px-6 md:px-20 py-10",children:[p.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex justify-between items-center mb-12",children:[p.jsx("h1",{className:"text-xl font-bold text-indigo-700",children:"Empower360"}),p.jsx(Kd,{onClick:()=>t("/signup"),className:"bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg transition-transform hover:scale-105",children:"Join Now"})]}),p.jsxs("section",{className:"grid md:grid-cols-2 gap-10 items-start",children:[p.jsxs(X.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},className:"flex flex-col items-center md:items-start text-center md:text-left",children:[p.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-gray-900 leading-tight",children:["Learn Better ",p.jsx("br",{})," by Teaching Each Other"]}),p.jsx("p",{className:"text-lg text-gray-600 mb-6 max-w-md",children:"Empower360 is a peer-to-peer learning platform where you grow by creating, completing, and reflecting on structured challenges. Every challenge you take or teach contributes to your verified skill portfolio."}),p.jsx(X.img,{src:U5,alt:"Student Illustration",className:"w-72 md:w-[26rem] mx-0 mt-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7},whileHover:{scale:1.05}})]}),p.jsx(X.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6},className:"grid gap-4",children:[{title:"Challenge Board",desc:"Example: Explain Cloud Computing with a real-world analogy.",footer:p.jsx(Kd,{size:"sm",className:"bg-indigo-600 text-white hover:scale-105 transition-transform",children:"Accept Challenge"})},{title:"Teach-Back",desc:"Cloud computing is like renting a library instead of buying every book.",footer:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm font-medium",children:"+15 points earned"}),p.jsx(Kd,{size:"sm",className:"bg-indigo-600 text-white hover:scale-105 transition-transform",children:"Mark Complete"})]})},{title:"Peer Feedback",desc:p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx("img",{src:"https://randomuser.me/api/portraits/men/44.jpg",alt:"user",className:"w-8 h-8 rounded-full"}),p.jsx("span",{className:"font-medium",children:"Lakshay"}),p.jsx("span",{className:"text-yellow-500",children:""})]}),p.jsx("p",{className:"text-gray-600 mt-2 text-sm",children:"Great explanation! Clear and easy to relate."})]})},{title:"Skill Portfolio",desc:p.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500",children:"Skills Verified"}),p.jsx("p",{className:"font-medium",children:"8"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500",children:"Challenges Completed"}),p.jsx("p",{className:"font-medium",children:"15"})]})]})}].map((e,n)=>p.jsx(X.div,{whileHover:{scale:1.03},transition:{duration:.3},children:p.jsx(yg,{className:"shadow-sm rounded-xl cursor-pointer",children:p.jsxs(vg,{className:"p-4",children:[p.jsx("h3",{className:"font-semibold mb-2",children:e.title}),p.jsx("div",{className:"text-sm text-gray-700 mb-2",children:e.desc}),e.footer&&e.footer]})})},n))})]}),p.jsx(X.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7},className:"mt-16 grid md:grid-cols-3 gap-8",children:[{title:"Learning Circles",desc:"Join or create micro-groups to post, attempt, and discuss challenges together."},{title:"Gamification & Recognition",desc:"Earn points, collect badges, and showcase your growth on leaderboards."},{title:"Create Challenges",desc:"Post challenges for others and learn when they explain it back to you."}].map((e,n)=>p.jsx(X.div,{whileHover:{scale:1.05},transition:{duration:.3},children:p.jsx(yg,{className:"shadow-sm rounded-xl cursor-pointer",children:p.jsxs(vg,{className:"p-6 text-center",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.title}),p.jsx("p",{className:"text-sm text-gray-600",children:e.desc})]})})},n))})]})};var z5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mt=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:d,...f},m)=>D.createElement("svg",{ref:m,...z5,width:s,height:s,stroke:r,strokeWidth:l?Number(a)*24/Number(s):a,className:`lucide lucide-${$5(t)}`,...f},[...e.map(([y,w])=>D.createElement(y,w)),...(Array.isArray(d)?d:[d])||[]]));return n.displayName=`${t}`,n},_i=mt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Xa=mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),lf=mt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Ja=mt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Xy=mt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ib=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Vr=mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),sb=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),zr=mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),q5=mt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),QI=mt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),W5=mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),cf=mt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),H5=mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Jy=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Zy=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),G5=mt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),au=mt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ws=mt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),K5=mt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Q5=mt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Y5=mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Eo=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),X5=()=>p.jsxs("div",{className:"min-h-screen bg-gray-50 px-6 md:px-16 py-12",children:[p.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"About Empower360"}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Empower360 is a peer-to-peer learning platform that redefines how students build knowledge. Instead of passive learning, our platform makes learning active, collaborative, and verifiable."})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[p.jsxs(X.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.7},className:"bg-white rounded-2xl shadow-md p-8 hover:shadow-lg transition",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-4 text-indigo-600",children:"Our Mission"}),p.jsx("p",{className:"text-gray-600",children:"To empower students to learn by teaching others, gaining real understanding, and building confidence through structured peer-to-peer challenges."})]}),p.jsxs(X.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.7},className:"bg-white rounded-2xl shadow-md p-8 hover:shadow-lg transition",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-4 text-indigo-600",children:"Our Vision"}),p.jsx("p",{className:"text-gray-600",children:"A world where learning is not limited to classrooms but happens anytime, anywhere, through the power of peer collaboration and shared challenges."})]})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition",children:[p.jsx(Ja,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Structured Challenges"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Move beyond random discussions. Learn through well-structured, trackable challenges."})]}),p.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition",children:[p.jsx(Eo,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Peer-to-Peer Learning"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Teach to learn. Every challenge is an opportunity to strengthen your own understanding."})]}),p.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition",children:[p.jsx(lf,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Verified Skills"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Build a peer-validated skill portfolio with feedback, points, and badges."})]})]}),p.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-center mt-20",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Together, We Learn Better"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Empower360 isnt just another platform. Its a movement to make learning interactive, collaborative, and meaningful."}),p.jsx(sn,{to:"/signup",className:"px-6 py-3 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 transition",children:"Join the Movement"})]})]}),ob=(t="")=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.trim()),J5=()=>{const[t,e]=D.useState({name:"",email:"",message:""}),[n,r]=D.useState({name:"",email:"",message:""}),[s,a]=D.useState({ok:!1,msg:""}),[l,d]=D.useState(!1),[f,m]=D.useState(""),y=E=>{const{name:k,value:P}=E.target;e(N=>({...N,[k]:P})),k==="name"?r(N=>({...N,name:P.trim()?"":"Name is required."})):k==="email"?r(N=>({...N,email:P.trim()?ob(P)?"":"Enter a valid email.":"Email is required."})):k==="message"&&r(N=>({...N,message:P.trim()?"":"Message is required."}))},w=()=>{const E={name:t.name.trim()?"":"Name is required.",email:t.email.trim()?ob(t.email)?"":"Enter a valid email.":"Email is required.",message:t.message.trim()?"":"Message is required."};return r(E),!E.name&&!E.email&&!E.message},b=async E=>{if(E.preventDefault(),a({ok:!1,msg:""}),f){a({ok:!0,msg:"Thanks! Your message has been received."}),e({name:"",email:"",message:""});return}if(w())try{d(!0),await Dr(Tt(qe,"contactMessages"),{name:t.name.trim(),email:t.email.trim(),message:t.message.trim(),createdAt:bt()}),a({ok:!0,msg:"Thanks! Your message has been sent. Well get back soon."}),e({name:"",email:"",message:""})}catch{a({ok:!1,msg:"Couldnt send your message right now. Please try again in a moment."})}finally{d(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gray-50 px-6 md:px-16 py-12 flex flex-col items-center",children:[p.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12 max-w-2xl",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Us"}),p.jsx("p",{className:"text-gray-600",children:"Have questions or ideas? Wed love to hear from you. Get in touch with the Empower360 team and lets build better learning experiences together."})]}),p.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-2xl shadow-md p-8 hover:shadow-lg transition w-full max-w-xl mb-12",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-6 text-indigo-600",children:"Send us a message"}),s.msg?p.jsx("div",{className:["mb-4 rounded-lg px-4 py-3 text-sm",s.ok?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"].join(" "),children:s.msg}):null,p.jsxs("form",{className:"space-y-4",onSubmit:b,noValidate:!0,children:[p.jsx("input",{type:"text",value:f,onChange:E=>m(E.target.value),className:"hidden",tabIndex:"-1",autoComplete:"off"}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),p.jsx("input",{id:"name",name:"name",type:"text",placeholder:"Your Name",value:t.name,onChange:y,onBlur:y,"aria-invalid":!!n.name,"aria-describedby":n.name?"name-error":void 0,className:["w-full px-4 py-2 border rounded-lg focus:ring-2 outline-none",n.name?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-indigo-500","transition-colors"].join(" "),required:!0,maxLength:100}),n.name&&p.jsx("p",{id:"name-error",className:"mt-1 text-sm text-red-600","aria-live":"polite",children:n.name})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{id:"email",name:"email",type:"email",placeholder:"you@example.com",value:t.email,onChange:y,onBlur:y,"aria-invalid":!!n.email,"aria-describedby":n.email?"email-error":void 0,className:["w-full px-4 py-2 border rounded-lg focus:ring-2 outline-none",n.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-indigo-500","transition-colors"].join(" "),required:!0,maxLength:200,autoComplete:"email"}),n.email&&p.jsx("p",{id:"email-error",className:"mt-1 text-sm text-red-600","aria-live":"polite",children:n.email})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),p.jsx("textarea",{id:"message",name:"message",rows:"4",placeholder:"Your message...",value:t.message,onChange:y,onBlur:y,"aria-invalid":!!n.message,"aria-describedby":n.message?"message-error":void 0,className:["w-full px-4 py-2 border rounded-lg focus:ring-2 outline-none",n.message?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-indigo-500","transition-colors"].join(" "),required:!0,maxLength:5e3}),n.message&&p.jsx("p",{id:"message-error",className:"mt-1 text-sm text-red-600","aria-live":"polite",children:n.message})]}),p.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 transition disabled:opacity-60",children:l?"Sending":"Send Message"})]})]}),p.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col items-center bg-white rounded-2xl shadow-md p-8 hover:shadow-lg transition w-full max-w-xl",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-6 text-indigo-600",children:"Get in touch"}),p.jsxs("div",{className:"space-y-6 text-gray-700 text-center",children:[p.jsxs("div",{className:"flex items-center gap-4 justify-center",children:[p.jsx(W5,{className:"w-6 h-6 text-indigo-600"}),p.jsx("p",{children:"support@empower360.com"})]}),p.jsxs("div",{className:"flex items-center gap-4 justify-center",children:[p.jsx(H5,{className:"w-6 h-6 text-indigo-600"}),p.jsx("p",{children:"+91 98765 43210"})]})]})]})]})},Z5=()=>p.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 533.5 544.3",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[p.jsx("path",{d:"M533.5 278.4c0-17.4-1.5-34.2-4.4-50.4H272v95.5h146.9c-6.4 34.5-25.8 63.8-55 83.5v68h88.7c51.9-47.8 81.9-118.2 81.9-196.6z",fill:"#4285f4"}),p.jsx("path",{d:"M272 544.3c74.7 0 137.4-24.7 183.2-67l-88.7-68c-24.6 16.5-56 26-94.5 26-72.6 0-134.2-49-156.2-114.9H24.8v72.2c45.3 89.7 138.2 151.7 247.2 151.7z",fill:"#34a853"}),p.jsx("path",{d:"M115.8 320.4c-10.9-32.4-10.9-67.5 0-99.9V148.3H24.8c-39.6 78.6-39.6 171.2 0 249.8l91-77.7z",fill:"#fbbc04"}),p.jsx("path",{d:"M272 107.7c39.5 0 75 13.6 103 40.5l77.1-77.1C409.3 24.3 346.6 0 272 0 163 0 70.1 62 24.8 151.7l91 72.2c22-65.9 83.6-116.2 156.2-116.2z",fill:"#ea4335"})]}),gm=(t="")=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.trim()),ab=(t,e="Couldnt sign you in. Please try again.")=>({"auth/invalid-email":"That email address looks invalid.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with that email.","auth/wrong-password":"Incorrect password.","auth/invalid-credential":"Incorrect email or password.","auth/too-many-requests":"Too many attempts. Please wait and try again.","auth/popup-closed-by-user":"Google popup closed before completing.","auth/cancelled-popup-request":"Google popup was cancelled.","auth/popup-blocked":"Your browser blocked the popup. Allow popups and try again."})[t]||e,e3=()=>{var I,R;const t=an(),n=((R=(I=Ss().state)==null?void 0:I.from)==null?void 0:R.pathname)||"/dashboard",[r,s]=D.useState({email:!1,google:!1,reset:!1}),[a,l]=D.useState(!1),[d,f]=D.useState({email:"",password:""}),[m,y]=D.useState({email:"",general:""}),[w,b]=D.useState(!1),[E,k]=D.useState(""),[P,N]=D.useState(""),[B,$]=D.useState(""),z=A=>{const{name:L,value:M}=A.target;f(C=>({...C,[L]:M})),L==="email"&&(M?gm(M)?y(C=>({...C,email:""})):y(C=>({...C,email:"Enter a valid email address."})):y(C=>({...C,email:"Email is required."})))},G=async A=>{A.preventDefault();const L=d.email.trim(),M=d.password;if(!L)return y(C=>({...C,email:"Email is required."}));if(!gm(L))return y(C=>({...C,email:"Enter a valid email address."}));if(!M||M.length<8)return y(C=>({...C,general:"Please enter your password (8+ characters)."}));try{y({email:"",general:""}),s(C=>({...C,email:!0})),await GP(vi,L,M),t(n,{replace:!0})}catch(C){y(se=>({...se,general:ab(C.code,C.message)}))}finally{s(C=>({...C,email:!1}))}},ie=async()=>{try{y({email:"",general:""}),s(A=>({...A,google:!0})),await ET(vi,Cy),t(n,{replace:!0})}catch(A){y(L=>({...L,general:ab(A.code,A.message)}))}finally{s(A=>({...A,google:!1}))}},Z=()=>{b(A=>!A),k(A=>A||d.email),N(""),$("")},V=async A=>{A.preventDefault();const L=(E||"").trim();if(!gm(L)){$("Enter a valid email address."),N("");return}try{s(M=>({...M,reset:!0})),$(""),N(""),await WP(vi,L),N(`Reset link sent to ${L}. Check your inbox.`)}catch(M){$({"auth/user-not-found":"No account found with that email.","auth/invalid-email":"That email address looks invalid."}[M.code]||"Couldnt send reset email. Try again."),N("")}finally{s(M=>({...M,reset:!1}))}};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-indigo-100 flex items-center justify-center px-6 md:px-16 py-12",children:p.jsxs(X.div,{initial:{opacity:0,y:16,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut"},className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-8 md:p-10",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900",children:"Welcome back"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Log in with email & password or continue with Google."})]}),m.general&&p.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 text-red-700 px-4 py-2 text-sm",children:m.general}),p.jsxs("form",{onSubmit:G,noValidate:!0,className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",value:d.email,onChange:z,onBlur:z,"aria-invalid":!!m.email,"aria-describedby":m.email?"email-error":void 0,className:["w-full px-4 py-2.5 border rounded-lg focus:ring-2 outline-none",m.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-indigo-500","transition-colors"].join(" "),required:!0}),m.email&&p.jsx("p",{id:"email-error",className:"mt-1 text-sm text-red-600","aria-live":"polite",children:m.email})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),p.jsx("button",{type:"button",onClick:Z,className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Forgot password?"})]}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",placeholder:"Your password",value:d.password,onChange:z,className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none pr-20 border-gray-300",required:!0,minLength:8}),p.jsx("button",{type:"button",onClick:()=>l(A=>!A),"aria-pressed":a,className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1 text-sm font-medium text-indigo-600 hover:text-indigo-700 rounded-md",children:a?"Hide":"Show"})]})]}),p.jsx("button",{type:"submit",disabled:r.email,className:"w-full py-3 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 transition disabled:opacity-60",children:r.email?"Signing you in":"Log In"})]}),w&&p.jsxs(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.25},className:"mt-5 rounded-xl border border-indigo-100 bg-indigo-50/60 p-4",children:[p.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Enter your email and well send a password reset link."}),P&&p.jsx("div",{className:"mb-3 rounded-md bg-green-50 text-green-700 px-3 py-2 text-sm",children:P}),B&&p.jsx("div",{className:"mb-3 rounded-md bg-red-50 text-red-700 px-3 py-2 text-sm",children:B}),p.jsxs("form",{onSubmit:V,className:"flex gap-2",children:[p.jsx("input",{type:"email",value:E,onChange:A=>k(A.target.value),placeholder:"you@example.com",className:"flex-1 px-3 py-2 border rounded-lg focus:ring-2 border-gray-300 focus:ring-indigo-500 outline-none",required:!0}),p.jsx("button",{type:"submit",disabled:r.reset,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60",children:r.reset?"Sending":"Send link"})]})]}),p.jsxs("div",{className:"flex items-center gap-3 my-8",children:[p.jsx("div",{className:"h-px flex-1 bg-gray-200"}),p.jsx("span",{className:"text-xs uppercase tracking-wider text-gray-400",children:"or"}),p.jsx("div",{className:"h-px flex-1 bg-gray-200"})]}),p.jsxs("button",{onClick:ie,disabled:r.google,className:"w-full flex items-center justify-center gap-3 px-5 py-3 rounded-xl border border-gray-300 bg-white hover:bg-gray-50 transition shadow-sm disabled:opacity-60",children:[r.google?p.jsx("span",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-gray-300 border-t-transparent"}):p.jsx(Z5,{}),p.jsx("span",{className:"font-medium text-gray-800",children:r.google?"Preparing Google":"Continue with Google"})]}),p.jsxs("div",{className:"text-center mt-8",children:[p.jsx("p",{className:"text-gray-600 mb-3",children:"New to Empower360?"}),p.jsx(sn,{to:"/signup",className:"inline-block px-6 py-2.5 rounded-lg border border-indigo-200 text-indigo-700 bg-indigo-50 hover:bg-indigo-100 font-medium transition",children:"Create Account"})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-8 text-center",children:["By continuing, you agree to our"," ",p.jsx(sn,{to:"#",className:"text-indigo-600 hover:underline",children:"Terms"})," ","and"," ",p.jsx(sn,{to:"#",className:"text-indigo-600 hover:underline",children:"Privacy Policy"}),"."]})]})})},t3=()=>p.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 533.5 544.3",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[p.jsx("path",{d:"M533.5 278.4c0-17.4-1.5-34.2-4.4-50.4H272v95.5h146.9c-6.4 34.5-25.8 63.8-55 83.5v68h88.7c51.9-47.8 81.9-118.2 81.9-196.6z",fill:"#4285f4"}),p.jsx("path",{d:"M272 544.3c74.7 0 137.4-24.7 183.2-67l-88.7-68c-24.6 16.5-56 26-94.5 26-72.6 0-134.2-49-156.2-114.9H24.8v72.2c45.3 89.7 138.2 151.7 247.2 151.7z",fill:"#34a853"}),p.jsx("path",{d:"M115.8 320.4c-10.9-32.4-10.9-67.5 0-99.9V148.3H24.8c-39.6 78.6-39.6 171.2 0 249.8l91-77.7z",fill:"#fbbc04"}),p.jsx("path",{d:"M272 107.7c39.5 0 75 13.6 103 40.5l77.1-77.1C409.3 24.3 346.6 0 272 0 163 0 70.1 62 24.8 151.7l91 72.2c22-65.9 83.6-116.2 156.2-116.2z",fill:"#ea4335"})]}),lb=(t="")=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.trim()),cb=(t,e="Something went wrong. Please try again.")=>({"auth/email-already-in-use":"This email is already registered.","auth/invalid-email":"That email address looks invalid.","auth/operation-not-allowed":"Email/password accounts are disabled.","auth/weak-password":"Password is too weak. Use 8+ characters.","auth/popup-closed-by-user":"Google popup closed before completing.","auth/cancelled-popup-request":"Popup request cancelled."})[t]||e,n3=()=>{const t=an(),[e,n]=D.useState({email:!1,google:!1}),[r,s]=D.useState(!1),[a,l]=D.useState(!1),[d,f]=D.useState({fullName:"",email:"",password:"",confirm:""}),[m,y]=D.useState({email:"",password:"",confirm:"",general:""}),w=P=>{const{name:N,value:B}=P.target;f($=>({...$,[N]:B})),N==="email"&&(B?lb(B)?y($=>({...$,email:""})):y($=>({...$,email:"Enter a valid email address."})):y($=>({...$,email:"Email is required."})))},b=()=>{const P={email:"",password:"",confirm:"",general:""};return d.fullName.trim()||(P.general="Please enter your full name."),d.email.trim()?lb(d.email)||(P.email="Enter a valid email address."):P.email="Email is required.",d.password?d.password.length<8&&(P.password="Use at least 8 characters."):P.password="Password is required.",d.confirm?d.password!==d.confirm&&(P.confirm="Passwords do not match."):P.confirm="Please confirm your password.",y(P),!P.email&&!P.password&&!P.confirm&&!P.general},E=async P=>{if(P.preventDefault(),!!b())try{n(B=>({...B,email:!0}));const N=await HP(vi,d.email.trim(),d.password);d.fullName.trim()&&await QP(N.user,{displayName:d.fullName.trim()}),t("/dashboard",{replace:!0})}catch(N){y(B=>({...B,general:cb(N.code,N.message)}))}finally{n(N=>({...N,email:!1}))}},k=async()=>{try{n(P=>({...P,google:!0})),await ET(vi,Cy),t("/dashboard",{replace:!0})}catch(P){y(N=>({...N,general:cb(P.code,P.message)}))}finally{n(P=>({...P,google:!1}))}};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-indigo-100 flex items-center justify-center px-6 md:px-16 py-12",children:p.jsxs(X.div,{initial:{opacity:0,y:16,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut"},className:"bg-white rounded-2xl shadow-2xl p-8 md:p-10 w-full max-w-md",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-1",children:"Create your account"}),p.jsx("p",{className:"text-gray-600",children:"Join Empower360 and start learning by teaching."})]}),m.general&&p.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 text-red-700 px-4 py-2 text-sm",children:m.general}),p.jsxs("form",{onSubmit:E,noValidate:!0,className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),p.jsx("input",{id:"fullName",name:"fullName",type:"text",placeholder:"Your Name",value:d.fullName,onChange:w,className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",value:d.email,onChange:w,onBlur:w,"aria-invalid":!!m.email,"aria-describedby":m.email?"email-error":void 0,className:["w-full px-4 py-2.5 border rounded-lg focus:ring-2 outline-none",m.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-indigo-500","transition-colors"].join(" "),required:!0}),m.email&&p.jsx("p",{id:"email-error",className:"mt-1 text-sm text-red-600","aria-live":"polite",children:m.email})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",placeholder:"Create a password",value:d.password,onChange:w,className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none pr-24 border-gray-300",required:!0,minLength:8}),p.jsx("button",{type:"button",onClick:()=>s(P=>!P),"aria-pressed":r,className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1 text-sm font-medium text-indigo-600 hover:text-indigo-700 rounded-md",children:r?"Hide":"Show"})]}),p.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use 8+ characters."})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"confirm",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{id:"confirm",name:"confirm",type:a?"text":"password",autoComplete:"new-password",placeholder:"Re-enter your password",value:d.confirm,onChange:w,className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none pr-24 border-gray-300",required:!0,minLength:8}),p.jsx("button",{type:"button",onClick:()=>l(P=>!P),"aria-pressed":a,className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1 text-sm font-medium text-indigo-600 hover:text-indigo-700 rounded-md",children:a?"Hide":"Show"})]}),m.confirm&&p.jsx("p",{className:"mt-1 text-sm text-red-600","aria-live":"polite",children:m.confirm})]}),p.jsx("button",{type:"submit",disabled:e.email,className:"w-full py-3 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 transition disabled:opacity-60",children:e.email?"Creating your account":"Create Account"})]}),p.jsxs("div",{className:"flex items-center gap-3 my-8",children:[p.jsx("div",{className:"h-px flex-1 bg-gray-200"}),p.jsx("span",{className:"text-xs uppercase tracking-wider text-gray-400",children:"or"}),p.jsx("div",{className:"h-px flex-1 bg-gray-200"})]}),p.jsxs("button",{onClick:k,disabled:e.google,className:"w-full flex items-center justify-center gap-3 px-5 py-3 rounded-xl border border-gray-300 bg-white hover:bg-gray-50 transition shadow-sm disabled:opacity-60",children:[e.google?p.jsx("span",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-gray-300 border-t-transparent"}):p.jsx(t3,{}),p.jsx("span",{className:"font-medium text-gray-800",children:e.google?"Preparing Google":"Sign up with Google"})]}),p.jsxs("div",{className:"text-center mt-8",children:[p.jsx("p",{className:"text-gray-600 mb-2",children:"Already have an account?"}),p.jsx(sn,{to:"/login",className:"inline-block px-6 py-2.5 rounded-lg border border-indigo-200 text-indigo-700 bg-indigo-50 hover:bg-indigo-100 font-medium transition",children:"Log In"})]})]})})},r3=[{id:1,title:"Introduction to AI",description:"Learn the basics of artificial intelligence and machine learning."},{id:2,title:"Web Development",description:"Master HTML, CSS, JavaScript, and modern web frameworks."},{id:3,title:"Cybersecurity Fundamentals",description:"Understand the essentials of protecting networks and systems."},{id:4,title:"Data Science with Python",description:"Analyze and visualize data using Python tools and libraries."},{id:5,title:"UI/UX Design",description:"Learn to create intuitive and beautiful user interfaces."}],i3=()=>p.jsxs("div",{className:"min-h-screen bg-gray-50 px-6 md:px-16 py-12",children:[p.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Explore Courses"}),p.jsx("p",{className:"text-gray-600 max-w-xl mx-auto",children:"Browse a variety of courses uploaded by our community. Empower yourself with knowledge and share what you know."})]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:r3.map(t=>p.jsxs(X.div,{whileHover:{scale:1.03},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:t.id*.1},className:"bg-white rounded-2xl shadow-md p-6 hover:shadow-lg transition cursor-pointer",children:[p.jsx("h2",{className:"text-xl font-semibold text-indigo-600 mb-2",children:t.title}),p.jsx("p",{className:"text-gray-700",children:t.description}),p.jsx("button",{className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition",children:"View Course"})]},t.id))})]}),s3=()=>p.jsxs("div",{className:"min-h-screen bg-gray-50 px-6 md:px-16 py-12",children:[p.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Welcome to the Community"}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Connect with peers, share knowledge, and grow together. Join learning circles, discuss challenges, and celebrate achievements."})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition",children:[p.jsx(Eo,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Learning Circles"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Join micro-groups to collaborate on challenges, share resources, and study together."})]}),p.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition",children:[p.jsx(cf,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Discussions"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Ask questions, give feedback, and engage in meaningful conversations with peers."})]}),p.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition",children:[p.jsx(lf,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Recognition"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Earn badges, climb leaderboards, and showcase your contributions in the community."})]})]}),p.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-center mt-16",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Be a Part of Something Bigger"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Start your journey today. Join discussions, share your knowledge, and learn with peers."}),p.jsx(sn,{to:"/signup",className:"px-6 py-3 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 transition",children:"Join the Community"})]})]}),ym=t=>t?t.toMillis?t.toMillis():(t.seconds||0)*1e3:0,ub=t=>{const e=t-Date.now();return Math.max(0,Math.ceil(e/(1e3*60*60*24)))},o3=t=>t!=null&&t.displayName?t.displayName.split(" ")[0]:t!=null&&t.email?t.email.split("@")[0]:"Friend",os=(t,e="Something went wrong. Please try again.")=>{const n=(t==null?void 0:t.code)||"";return{"permission-denied":"You dont have permission to access this data.","not-found":"Data not found.",unavailable:"Service is temporarily unavailable. Please retry.","deadline-exceeded":"Request timed out. Please retry.","resource-exhausted":"Quota exceeded. Please try again later.","invalid-argument":"Invalid request. Please reload and try again.","failed-precondition":"This query needs an index. Reload and click the 'Create index' link if prompted."}[n]||e},a3=({value:t=0,size:e=88,stroke:n=10,label:r=""})=>{const s=Math.max(0,Math.min(100,t)),a=`conic-gradient(#4f46e5 ${s*3.6}deg, #e5e7eb ${s*3.6}deg)`;return p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"rounded-full grid place-items-center",style:{width:e,height:e,background:a},"aria-label":`progress ${s}%`,children:p.jsx("div",{className:"bg-white rounded-full grid place-items-center",style:{width:e-n*2,height:e-n*2},children:p.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s,"%"]})})}),r?p.jsx("div",{className:"mt-2 text-xs text-gray-500",children:r}):null]})},as={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.28,ease:"easeOut"}}},ac={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{when:"beforeChildren",staggerChildren:.06}}},lc={hidden:{opacity:0,y:6},visible:{opacity:1,y:0,transition:{duration:.22,ease:"easeOut"}}},Rr=({children:t,className:e=""})=>p.jsx("div",{className:`bg-white rounded-2xl shadow-sm border border-gray-100 ${e}`,children:t}),Ia=({title:t,icon:e,action:n})=>p.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-indigo-50 text-indigo-600",children:e}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),n?p.jsx("div",{className:"text-sm",children:n}):null]}),jr=({children:t,className:e=""})=>p.jsx("div",{className:`p-5 ${e}`,children:t}),l3=({messages:t=[]})=>t.length?p.jsx("div",{className:"mb-6 rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(_i,{className:"h-5 w-5 mt-0.5"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:"We couldnt load some data"}),p.jsx("ul",{className:"mt-1 list-disc pl-5 space-y-0.5",children:t.map((e,n)=>p.jsx("li",{children:e},n))})]})]})}):null,c3=()=>{const{user:t}=wr(),e=an(),n=t==null?void 0:t.uid,[r,s]=D.useState({xp:0,streak:0,badges:[]}),[a,l]=D.useState([]),[d,f]=D.useState([]),[m,y]=D.useState([]),[w,b]=D.useState([]),[E,k]=D.useState([]),[P,N]=D.useState(!0),[B,$]=D.useState({profile:null,challenges:null,teachbacks:null,feedback:null,activity:null,leaderboard:null}),z=(A,L)=>$(M=>({...M,[A]:L})),G=async(A,L="info")=>{try{await Dr(Tt(qe,"activity"),{userId:n,text:A,type:L,createdAt:bt()})}catch{}};D.useEffect(()=>{if(!n)return;N(!0),$({profile:null,challenges:null,teachbacks:null,feedback:null,activity:null,leaderboard:null});const A=[];(async()=>{try{const M=await nu(pn(qe,"profiles",n));if(M.exists()){const C=M.data();s({xp:Number((C==null?void 0:C.xp)||0),streak:Number((C==null?void 0:C.streak)||0),badges:Array.isArray(C==null?void 0:C.badges)?C.badges:[],displayName:C==null?void 0:C.displayName,photoURL:C==null?void 0:C.photoURL})}else s({xp:0,streak:0,badges:[]});z("profile",null)}catch(M){z("profile",os(M,"Couldnt load your profile."))}})();{const M=fr(Tt(qe,"challenges"),pi("ownerId","==",n),lo("dueTs","asc"),Na(5));A.push(Lr(M,C=>{const se=C.docs.map(ge=>{const ce=ge.data();return{id:ge.id,title:ce.title,topic:ce.topic,level:ce.level,status:ce.status,due:ym(ce.dueTs)}});l(se),z("challenges",null)},C=>z("challenges",os(C,"Couldnt load your challenges."))))}{const M=fr(Tt(qe,"teachbacks"),pi("assigneeId","==",n),lo("dueTs","asc"),Na(5));A.push(Lr(M,C=>{const se=C.docs.map(ge=>{const ce=ge.data();return{id:ge.id,prompt:ce.prompt,requester:ce.requester,due:ym(ce.dueTs)}});f(se),z("teachbacks",null)},C=>z("teachbacks",os(C,"Couldnt load teach-backs."))))}{const M=fr(Tt(qe,"feedbackQueue"),pi("reviewerId","==",n),lo("createdAt","desc"),Na(5));A.push(Lr(M,C=>{const se=C.docs.map(ge=>{const ce=ge.data();return{id:ge.id,learner:ce.learner,title:ce.title,points:Number(ce.points||0)}});y(se),z("feedback",null)},C=>z("feedback",os(C,"Couldnt load feedback queue."))))}{const M=fr(Tt(qe,"activity"),pi("userId","==",n),lo("createdAt","desc"),Na(10));A.push(Lr(M,C=>{const se=C.docs.map(ge=>{const ce=ge.data();return{id:ge.id,type:ce.type,text:ce.text,time:new Date(ym(ce.createdAt)).toLocaleString()}});k(se),z("activity",null)},C=>z("activity",os(C,"Couldnt load recent activity."))))}{const M=fr(Tt(qe,"profiles"),lo("xp","desc"),Na(5));A.push(Lr(M,C=>{const se=C.docs.map(ge=>{const ce=ge.data();return{id:ge.id,name:ce.displayName||ge.id.slice(0,6),xp:Number(ce.xp||0)}});b(se),z("leaderboard",null)},C=>z("leaderboard",os(C,"Couldnt load leaderboard."))))}const L=setTimeout(()=>N(!1),300);return()=>{A.forEach(M=>M&&M()),clearTimeout(L)}},[n]);const ie=async A=>{try{if(A.status==="accepted"){await Si(pn(qe,"challenges",A.id),{status:"in_progress",updatedAt:bt()}),await G(`Started "${A.title}"`,"challenge"),e(`/challenges/${A.id}/work`);return}if(A.status==="in_progress"){e(`/challenges/${A.id}/work`);return}e(`/challenges/${A.id}`)}catch(L){z("challenges",os(L,"Couldnt update the challenge."))}},Z=async A=>{try{await Si(pn(qe,"teachbacks",A.id),{status:"in_progress",updatedAt:bt()}),await G(`Started teach-back "${A.prompt}"`,"teachback"),e(`/teachbacks/${A.id}/work`)}catch(L){z("teachbacks",os(L,"Couldnt start the teach-back."))}},V=D.useMemo(()=>{const A=a.length,L=d.length,M=Number((r==null?void 0:r.xp)||0),C=Number((r==null?void 0:r.streak)||0),se=Math.floor(M/500)+1,ge=Math.round(M%500/500*100);return{active:A,teachbacks:L,xp:M,streak:C,level:se,levelPct:ge}},[a.length,d.length,r==null?void 0:r.xp,r==null?void 0:r.streak]),I=o3(t),R=Object.values(B).filter(Boolean);return p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[p.jsx(l3,{messages:R}),p.jsx(X.section,{variants:as,initial:"hidden",animate:"visible",className:"mb-8",children:p.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["Hey ",I,", lets keep your momentum going"]}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Learn by teaching. Build your verified skill portfolio."})]}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsxs(X.button,{onClick:()=>e("/challenges/create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700",whileHover:{scale:1.03},whileTap:{scale:.98},children:[p.jsx(Jy,{className:"h-4 w-4"})," Create challenge"]}),p.jsxs(X.button,{onClick:()=>e("/challenges"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50",whileHover:{scale:1.03},whileTap:{scale:.98},children:[p.jsx(ws,{className:"h-4 w-4 text-gray-700"})," Browse challenges"]}),p.jsxs(X.button,{onClick:()=>e("/circles"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50",whileHover:{scale:1.03},whileTap:{scale:.98},children:[p.jsx(Eo,{className:"h-4 w-4 text-gray-700"})," Join a circle"]})]})]})}),p.jsxs(X.section,{variants:as,initial:"hidden",animate:"visible",transition:{delay:.04},className:"grid sm:grid-cols-2 xl:grid-cols-4 gap-4 mb-8",children:[p.jsx(Rr,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:p.jsxs(jr,{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Active challenges"}),p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P?"":V.active})]}),p.jsx("div",{className:"p-3 rounded-xl bg-indigo-50 text-indigo-600",children:p.jsx(ws,{className:"h-6 w-6"})})]})}),p.jsx(Rr,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:p.jsxs(jr,{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Teach-backs due"}),p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P?"":V.teachbacks})]}),p.jsx("div",{className:"p-3 rounded-xl bg-indigo-50 text-indigo-600",children:p.jsx(Ja,{className:"h-6 w-6"})})]})}),p.jsx(Rr,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:p.jsxs(jr,{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-gray-500",children:"XP"}),p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P?"":V.xp})]}),p.jsx("div",{className:"p-3 rounded-xl bg-indigo-50 text-indigo-600",children:p.jsx(au,{className:"h-6 w-6"})})]})}),p.jsx(Rr,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:p.jsxs(jr,{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Streak"}),p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P?"":`${V.streak} days`})]}),p.jsx("div",{className:"p-3 rounded-xl bg-amber-50 text-amber-600",children:p.jsx(QI,{className:"h-6 w-6"})})]})})]}),p.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsx(X.div,{variants:as,initial:"hidden",animate:"visible",children:p.jsxs(Rr,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(Ia,{title:"Your active challenges",icon:p.jsx(ws,{className:"h-5 w-5"}),action:p.jsxs(sn,{to:"/challenges",className:"text-sm inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-700",children:["View all ",p.jsx(Vr,{className:"h-4 w-4"})]})}),p.jsxs(jr,{className:"space-y-3",children:[B.challenges&&p.jsx("div",{className:"text-sm text-red-600",children:B.challenges}),p.jsx(X.div,{variants:ac,initial:"hidden",animate:"visible",className:"space-y-3",children:a.map(A=>p.jsxs(X.div,{variants:lc,className:"p-4 rounded-xl border border-gray-100 hover:border-indigo-200/70 hover:shadow-md hover:-translate-y-0.5 transition flex items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:A.title}),p.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs",children:[p.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:A.topic}),p.jsx("span",{className:"px-2 py-1 rounded-full bg-indigo-50 text-indigo-700",children:A.level}),p.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-50 text-amber-700 inline-flex items-center gap-1",children:[p.jsx(zr,{className:"h-3.5 w-3.5"}),"Due in ",ub(A.due),"d"]})]})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx(X.button,{onClick:()=>ie(A),className:["px-3 py-2 text-sm rounded-lg",A.status==="accepted"?"border border-gray-200 hover:bg-gray-50":"bg-indigo-600 text-white hover:bg-indigo-700"].join(" "),whileHover:{scale:1.03},whileTap:{scale:.98},children:A.status==="accepted"?"Start":"Continue"})})]},A.id))}),!B.challenges&&!P&&a.length===0&&p.jsx("div",{className:"text-sm text-gray-500",children:"No active challenges yet."})]})]})}),p.jsx(X.div,{variants:as,initial:"hidden",animate:"visible",children:p.jsxs(Rr,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(Ia,{title:"Teach-backs due",icon:p.jsx(Ja,{className:"h-5 w-5"}),action:p.jsxs(sn,{to:"/teachbacks",className:"text-sm inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-700",children:["See all ",p.jsx(Vr,{className:"h-4 w-4"})]})}),p.jsxs(jr,{className:"space-y-3",children:[B.teachbacks&&p.jsx("div",{className:"text-sm text-red-600",children:B.teachbacks}),p.jsx(X.div,{variants:ac,initial:"hidden",animate:"visible",className:"space-y-3",children:d.map(A=>p.jsxs(X.div,{variants:lc,className:"p-4 rounded-xl border border-gray-100 hover:border-indigo-200/70 hover:shadow-md hover:-translate-y-0.5 transition flex items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:A.prompt}),p.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Requested by ",A.requester]}),p.jsxs("div",{className:"mt-2 text-xs inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-50 text-amber-700",children:[p.jsx(zr,{className:"h-3.5 w-3.5"})," Due in ",ub(A.due),"d"]})]}),p.jsx(X.button,{onClick:()=>Z(A),className:"px-3 py-2 text-sm rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",whileHover:{scale:1.03},whileTap:{scale:.98},children:"Start teach-back"})]},A.id))}),!B.teachbacks&&!P&&d.length===0&&p.jsx("div",{className:"text-sm text-gray-500",children:"Nothing due right now. Nice!"})]})]})}),p.jsx(X.div,{variants:as,initial:"hidden",animate:"visible",children:p.jsxs(Rr,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(Ia,{title:"Feedback to give",icon:p.jsx(cf,{className:"h-5 w-5"}),action:p.jsxs(sn,{to:"/feedback",className:"text-sm inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-700",children:["Open queue ",p.jsx(Vr,{className:"h-4 w-4"})]})}),p.jsxs(jr,{className:"space-y-3",children:[B.feedback&&p.jsx("div",{className:"text-sm text-red-600",children:B.feedback}),p.jsx(X.div,{variants:ac,initial:"hidden",animate:"visible",className:"space-y-3",children:m.map(A=>p.jsxs(X.div,{variants:lc,className:"p-4 rounded-xl border border-gray-100 hover:border-indigo-200/70 hover:shadow-md hover:-translate-y-0.5 transition flex items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:A.title}),p.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["For ",A.learner]})]}),p.jsxs(X.button,{onClick:()=>e("/feedback"),className:"px-3 py-2 text-sm rounded-lg border border-gray-200 hover:bg-gray-50",whileHover:{scale:1.03},whileTap:{scale:.98},children:["Give feedback (+",A.points,")"]})]},A.id))}),!B.feedback&&!P&&m.length===0&&p.jsx("div",{className:"text-sm text-gray-500",children:"No feedback requests pending."})]})]})})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(X.div,{variants:as,initial:"hidden",animate:"visible",children:p.jsxs(Rr,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(Ia,{title:"Skill portfolio",icon:p.jsx(lf,{className:"h-5 w-5"}),action:p.jsxs("button",{onClick:()=>e("/portfolio"),className:"text-sm inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-700",children:["View portfolio ",p.jsx(Vr,{className:"h-4 w-4"})]})}),p.jsxs(jr,{children:[B.profile&&p.jsx("div",{className:"mb-3 text-sm text-red-600",children:B.profile}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Level"}),p.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["Lv. ",Math.floor(((r==null?void 0:r.xp)||0)/500)+1]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Progress to next level"}),p.jsx(a3,{value:Math.round(((r==null?void 0:r.xp)||0)%500/500*100),label:`${((r==null?void 0:r.xp)||0)%500} / 500 XP`})]})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Badges"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[(r.badges||[]).map((A,L)=>p.jsx("span",{className:"px-2.5 py-1.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-700",children:A},`${A}-${L}`)),(!r.badges||r.badges.length===0)&&p.jsx("span",{className:"text-xs text-gray-500",children:"No badges yet"})]}),p.jsxs("div",{className:"mt-5 text-xs text-gray-500 flex items-center gap-2",children:[p.jsx(Xy,{className:"h-4 w-4 text-emerald-600"}),"Peer-validated skills added to resume/CV"]})]})]})]})]})}),p.jsx(X.div,{variants:as,initial:"hidden",animate:"visible",children:p.jsxs(Rr,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(Ia,{title:"This weeks circle leaderboard",icon:p.jsx(Eo,{className:"h-5 w-5"}),action:p.jsxs(sn,{to:"/leaderboard",className:"text-sm inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-700",children:["Full board ",p.jsx(Vr,{className:"h-4 w-4"})]})}),p.jsxs(jr,{className:"space-y-3",children:[B.leaderboard&&p.jsx("div",{className:"text-sm text-red-600",children:B.leaderboard}),p.jsx(X.div,{variants:ac,initial:"hidden",animate:"visible",className:"space-y-3",children:w.map((A,L)=>p.jsxs(X.div,{variants:lc,className:"flex items-center justify-between p-3 rounded-lg border border-gray-100 hover:shadow-md hover:-translate-y-0.5 transition",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:["h-7 w-7 rounded-full grid place-items-center text-xs font-bold",L===0?"bg-yellow-100 text-yellow-800":L===1?"bg-gray-100 text-gray-700":L===2?"bg-amber-100 text-amber-800":"bg-indigo-50 text-indigo-700"].join(" "),children:L+1}),p.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:[A.xp," XP"]})]},A.id))})]})]})}),p.jsx(X.div,{variants:as,initial:"hidden",animate:"visible",children:p.jsxs(Rr,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(Ia,{title:"Recent activity",icon:p.jsx(zr,{className:"h-5 w-5"}),action:p.jsxs(sn,{to:"/activity",className:"text-sm inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-700",children:["See all ",p.jsx(Vr,{className:"h-4 w-4"})]})}),p.jsxs(jr,{children:[B.activity&&p.jsx("div",{className:"mb-2 text-sm text-red-600",children:B.activity}),p.jsxs(X.ol,{variants:ac,initial:"hidden",animate:"visible",className:"space-y-3",children:[E.map(A=>p.jsxs(X.li,{variants:lc,className:"flex items-start gap-3",children:[p.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-indigo-500"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-gray-900",children:A.text}),p.jsx("div",{className:"text-xs text-gray-500",children:A.time})]})]},A.id)),!B.activity&&!P&&E.length===0&&p.jsx("li",{className:"text-sm text-gray-500",children:"No recent activity"})]})]})]})})]})]})]})})},u3=t=>t?t.toMillis?t.toMillis():(t.seconds||0)*1e3:0,d3=t=>{const e=t-Date.now();return Math.max(0,Math.ceil(e/(1e3*60*60*24)))},h3=(t,e="Something went wrong. Please try again.")=>{const n=(t==null?void 0:t.code)||"";return{"permission-denied":"You dont have permission to access this data.","not-found":"Data not found.",unavailable:"Service is temporarily unavailable. Please retry.","deadline-exceeded":"Request timed out. Please retry.","resource-exhausted":"Quota exceeded. Please try again later.","invalid-argument":"Invalid request. Please reload and try again.","failed-precondition":"This query needs an index. Reload and click the 'Create index' link if prompted."}[n]||e},vm={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.28,ease:"easeOut"}}},f3={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{when:"beforeChildren",staggerChildren:.06}}},p3={hidden:{opacity:0,y:6},visible:{opacity:1,y:0,transition:{duration:.22,ease:"easeOut"}}},db=({children:t,className:e=""})=>p.jsx("div",{className:`bg-white rounded-2xl shadow-sm border border-gray-100 ${e}`,children:t}),hb=({title:t,icon:e,action:n})=>p.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-indigo-50 text-indigo-600",children:e}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),n?p.jsx("div",{className:"text-sm",children:n}):null]}),fb=({children:t,className:e=""})=>p.jsx("div",{className:`p-5 ${e}`,children:t}),m3=()=>{const{user:t}=wr(),e=an(),n=t==null?void 0:t.uid,[r,s]=D.useState(""),[a,l]=D.useState([]),[d,f]=D.useState(!0),[m,y]=D.useState(null);D.useEffect(()=>{if(!n)return;f(!0),y(null);const k=fr(Tt(qe,"challenges"),pi("ownerId","==",n),lo("dueTs","asc")),P=Lr(k,N=>{const B=N.docs.map($=>({id:$.id,...$.data()}));l(B),f(!1)},N=>{y(h3(N,"Couldnt load your challenges.")),f(!1)});return()=>P()},[n]);const w=D.useMemo(()=>{if(!r.trim())return a;const k=r.toLowerCase();return a.filter(P=>[P.title,P.topic,P.level,P.status,P.author,(P.tags||[]).join(",")].filter(Boolean).some(N=>String(N).toLowerCase().includes(k)))},[a,r]),b=async k=>{try{if(k.ownerId===n){if(k.status==="accepted"){await Si(pn(qe,"challenges",k.id),{status:"in_progress",updatedAt:bt()}),e(`/challenges/${k.id}/work`);return}if(k.status==="in_progress"||k.status==="open"){e(`/challenges/${k.id}/work`);return}}e(`/challenges/${k.id}`)}catch(P){console.error(P)}},E=()=>e("/dashboard");return p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-10",children:[p.jsxs(X.div,{variants:vm,initial:"hidden",animate:"visible",className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-8",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(X.button,{onClick:E,className:"p-2 rounded-lg border border-gray-200 bg-white text-gray-700 hover:bg-gray-100 hover:text-gray-900",whileHover:{scale:1.04},whileTap:{scale:.97},"aria-label":"Back to dashboard",title:"Back to dashboard",children:p.jsx(Xa,{className:"h-5 w-5"})}),p.jsx("div",{className:"p-2 rounded-xl bg-indigo-50 text-indigo-600",children:p.jsx(ws,{className:"h-5 w-5"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Challenges"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Create and work on your challenges. Teach, track, and complete."})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs(X.button,{onClick:()=>e("/circles"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-100 text-gray-800",whileHover:{scale:1.03},whileTap:{scale:.98},children:[p.jsx(Eo,{className:"h-4 w-4 text-gray-700"}),"Join a circle"]}),p.jsxs(X.button,{onClick:()=>e("/challenges/create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-800",whileHover:{scale:1.03},whileTap:{scale:.98},children:[p.jsx(Jy,{className:"h-4 w-4"})," Create challenge"]})]})]}),p.jsx(X.div,{variants:vm,initial:"hidden",animate:"visible",transition:{delay:.05},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-6",children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[p.jsx("div",{className:"text-sm text-gray-700 font-medium",children:"Your challenges"}),p.jsxs("div",{className:"relative",children:[p.jsx(Zy,{className:"h-4 w-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),p.jsx("input",{value:r,onChange:k=>s(k.target.value),placeholder:"Search by title, topic, level",className:"w-full md:w-96 pl-9 pr-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300"})]})]})}),p.jsxs(X.section,{variants:vm,initial:"hidden",animate:"visible",transition:{delay:.08},className:"grid lg:grid-cols-2 gap-6",children:[p.jsxs(db,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(hb,{title:"Your challenges",icon:p.jsx(ws,{className:"h-5 w-5"}),action:p.jsxs(sn,{to:"/challenges/create",className:"text-sm inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-700",children:["New ",p.jsx(Vr,{className:"h-4 w-4"})]})}),p.jsxs(fb,{children:[m&&p.jsx("div",{className:"mb-3 text-sm text-red-600",children:m}),d?p.jsx("div",{className:"text-sm text-gray-500",children:"Loading"}):w.length===0?p.jsx("div",{className:"text-sm text-gray-500",children:"You have no challenges. Create one to get started."}):p.jsx(X.div,{variants:f3,initial:"hidden",animate:"visible",className:"space-y-3",children:w.map(k=>p.jsxs(X.div,{variants:p3,className:"p-4 rounded-xl border border-gray-100 hover:border-indigo-200/70 hover:shadow-md hover:-translate-y-0.5 transition flex items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:k.title}),p.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs",children:[k.topic&&p.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:k.topic}),k.level&&p.jsx("span",{className:"px-2 py-1 rounded-full bg-indigo-50 text-indigo-700",children:k.level}),k.dueTs?p.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-50 text-amber-700 inline-flex items-center gap-1",children:[p.jsx(zr,{className:"h-3.5 w-3.5"}),"Due in ",d3(u3(k.dueTs)),"d"]}):null]})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx(X.button,{onClick:()=>b(k),className:["px-3 py-2 text-sm rounded-lg transition",k.status==="accepted"?"border border-gray-200 hover:bg-gray-100":"bg-indigo-600 text-white hover:bg-indigo-800"].join(" "),whileHover:{scale:1.03},whileTap:{scale:.98},title:k.status==="accepted"?"Start":"Continue",children:k.status==="accepted"?"Start":"Continue"})})]},k.id))})]})]}),p.jsxs(db,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(hb,{title:"Tips to craft great challenges",icon:p.jsx(ws,{className:"h-5 w-5"})}),p.jsxs(fb,{className:"space-y-3 text-sm text-gray-700",children:[p.jsxs("div",{className:"p-3 rounded-lg bg-indigo-50 text-indigo-900",children:[p.jsx("div",{className:"font-medium",children:"Be clear & concrete"}),p.jsx("div",{className:"mt-1 text-indigo-900/90",children:"Define the expected outcome, constraints, and time limit."})]}),p.jsxs("div",{className:"p-3 rounded-lg bg-indigo-50 text-indigo-900",children:[p.jsx("div",{className:"font-medium",children:"Focus on teach-backs"}),p.jsx("div",{className:"mt-1 text-indigo-900/90",children:"Ask the assignee to explain the concept in their own words."})]}),p.jsxs("div",{className:"p-3 rounded-lg bg-indigo-50 text-indigo-900",children:[p.jsx("div",{className:"font-medium",children:"Reward progress"}),p.jsx("div",{className:"mt-1 text-indigo-900/90",children:"Offer XP points, badges, or peer recognition for completion."})]}),p.jsx("div",{className:"mt-3",children:p.jsxs(sn,{to:"/challenges/create",className:"inline-flex items-center gap-2 text-indigo-600 hover:text-indigo-700",children:["Create a new challenge ",p.jsx(Vr,{className:"h-4 w-4"})]})})]})]})]})]})})},g3={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.28,ease:"easeOut"}}},y3={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{when:"beforeChildren",staggerChildren:.07}}},cc={hidden:{opacity:0,y:6},visible:{opacity:1,y:0,transition:{duration:.22,ease:"easeOut"}}},v3=()=>{const t=an(),{user:e}=wr(),[n,r]=D.useState(""),[s,a]=D.useState(""),[l,d]=D.useState("Beginner"),[f,m]=D.useState(3),[y,w]=D.useState(""),[b,E]=D.useState(!1),[k,P]=D.useState(""),N=()=>P(""),B=async $=>{var z;if($.preventDefault(),N(),!e){P("You must be logged in to create a challenge.");return}if(!n.trim()||!s.trim()){P("Please provide both a title and topic.");return}E(!0);try{const G=Date.now()+Number(f||1)*24*60*60*1e3,ie={ownerId:e.uid,title:n.trim(),topic:s.trim(),level:l,status:"open",dueTs:G,createdAt:bt(),updatedAt:bt(),author:e.displayName||(((z=e.email)==null?void 0:z.split("@")[0])??"Anonymous"),points:25,tags:[],description:y||""},Z=Tt(qe,"challenges"),V=await Dr(Z,ie),I=Tt(qe,"profiles"),A=(await RD(fr(I,Na(25)))).docs.map(L=>L.id).filter(L=>L&&L!==e.uid);if(A.length>0){const L=A[Math.floor(Math.random()*A.length)],M=Tt(qe,"teachbacks");await Dr(M,{assigneeId:L,requesterId:e.uid,prompt:y||`Teach back: ${n.trim()}`,dueTs:G,status:"pending",createdAt:bt(),updatedAt:bt(),challengeId:V.id}),await Dr(Tt(qe,"activity"),{userId:e.uid,type:"challenge",text:`Created challenge ${n.trim()}`,createdAt:bt()}),await Dr(Tt(qe,"activity"),{userId:L,type:"teachback",text:`Assigned to teach back ${n.trim()}`,createdAt:bt()})}else await Dr(Tt(qe,"activity"),{userId:e.uid,type:"challenge",text:`Created challenge ${n.trim()} (no assignee available yet)`,createdAt:bt()});t("/challenges")}catch(G){console.error(G),P((G==null?void 0:G.message)||"You dont have permission to create this challenge. Check Firestore rules.")}finally{E(!1)}};return p.jsx("main",{className:"min-h-[calc(100vh-60px)] bg-gray-50 px-6 md:px-12 py-10",children:p.jsxs(X.div,{variants:g3,initial:"hidden",animate:"visible",className:"max-w-3xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(X.div,{className:"mb-4",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2},children:p.jsxs(X.button,{type:"button",onClick:()=>t(-1),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border border-gray-200 text-gray-700 hover:text-gray-900 bg-white hover:bg-gray-100 transition",whileHover:{scale:1.04},whileTap:{scale:.98},children:[p.jsx(Xa,{className:"h-4 w-4"}),"Back"]})}),p.jsx(X.h1,{className:"text-2xl font-bold text-gray-900 mb-2",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.22},children:"Create challenge"}),p.jsx(X.p,{className:"text-gray-600 mb-6",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.26,delay:.04},children:"Define a clear prompt, difficulty, and expected outcome. You can refine it later."}),k?p.jsx(X.div,{className:"mb-4 rounded-lg bg-red-50 text-red-700 border border-red-200 p-3 text-sm",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2},children:k}):null,p.jsxs(X.form,{className:"space-y-5",onSubmit:B,variants:y3,initial:"hidden",animate:"visible",children:[p.jsxs(X.div,{variants:cc,children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),p.jsx("input",{type:"text",value:n,onChange:$=>r($.target.value),placeholder:"Explain Recursion via a story",className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300",onFocus:N,required:!0})]}),p.jsxs(X.div,{variants:cc,children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic"}),p.jsx("input",{type:"text",value:s,onChange:$=>a($.target.value),placeholder:"Algorithms / DS / SQL / etc.",className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300",onFocus:N,required:!0})]}),p.jsxs(X.div,{variants:cc,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),p.jsxs("select",{value:l,onChange:$=>d($.target.value),className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300",children:[p.jsx("option",{children:"Beginner"}),p.jsx("option",{children:"Intermediate"}),p.jsx("option",{children:"Advanced"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due (days)"}),p.jsx("input",{type:"number",min:"1",value:f,onChange:$=>m($.target.value),placeholder:"3",className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300"})]})]}),p.jsxs(X.div,{variants:cc,children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prompt / Instructions"}),p.jsx("textarea",{rows:5,value:y,onChange:$=>w($.target.value),placeholder:"Describe exactly what the learner should teach back",className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300"})]}),p.jsxs(X.div,{variants:cc,className:"flex items-center justify-end gap-3 pt-2",children:[p.jsx(X.button,{type:"button",className:"px-4 py-2 rounded-lg border border-gray-200 hover:bg-gray-100",onClick:()=>window.history.back(),disabled:b,whileHover:{scale:1.03},whileTap:{scale:.98},children:"Cancel"}),p.jsx(X.button,{type:"submit",className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60",disabled:b,whileHover:{scale:1.03},whileTap:{scale:.98},children:b?"Creating":"Create"})]})]})]})})},x3=[{id:"cl1",name:"DSA Daily",focus:"Algorithms & Problem Solving",level:"Intermediate",members:42,openings:3,private:!1,rating:4.7},{id:"cl2",name:"SQL & Data Design",focus:"Databases, SQL, Normalization",level:"Beginner",members:29,openings:5,private:!1,rating:4.3},{id:"cl3",name:"System Design Sundays",focus:"High-level Design, Tradeoffs",level:"Advanced",members:18,openings:0,private:!0,rating:4.8}],w3=()=>{const{user:t}=wr(),e=an(),n=Ss(),[r,s]=D.useState(""),[a,l]=D.useState("All"),d=D.useMemo(()=>x3.filter(y=>{const w=!r||y.name.toLowerCase().includes(r.toLowerCase())||y.focus.toLowerCase().includes(r.toLowerCase()),b=a==="All"||y.level===a;return w&&b}),[r,a]),f=y=>{if(!t){e("/login",{state:{from:n}});return}alert(`Request to join ${y.name} sent!`)},m={initial:{opacity:0,y:8},animate:{opacity:1,y:0}};return p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-10",children:[p.jsxs(X.div,{...m,transition:{duration:.25},className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Find a Circle"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Join a small group to learn by teaching and reviewing each others work."})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:p.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700",onClick:()=>{if(!t)return e("/login",{state:{from:n}});alert("Create circle flow coming soon.")},children:[p.jsx(Jy,{className:"h-4 w-4"})," Create a circle"]})})]}),p.jsx(X.div,{...m,transition:{duration:.25,delay:.05},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-6",children:p.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Zy,{className:"h-4 w-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),p.jsx("input",{value:r,onChange:y=>s(y.target.value),placeholder:"Search circles, topics, keywords",className:"w-full pl-9 pr-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300"})]}),p.jsx("div",{children:p.jsxs("select",{value:a,onChange:y=>l(y.target.value),className:"w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300",children:[p.jsx("option",{children:"All"}),p.jsx("option",{children:"Beginner"}),p.jsx("option",{children:"Intermediate"}),p.jsx("option",{children:"Advanced"})]})}),p.jsxs("div",{className:"text-sm text-gray-500 grid items-center",children:[d.length," result",d.length!==1?"s":""," found"]})]})}),p.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-5",children:d.map((y,w)=>p.jsxs(X.div,{...m,transition:{duration:.25,delay:.03*w},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"h-9 w-9 rounded-xl bg-indigo-50 text-indigo-600 grid place-items-center",children:p.jsx(Eo,{className:"h-4 w-4"})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-semibold text-gray-900",children:y.name}),p.jsx("div",{className:"text-sm text-gray-600",children:y.focus})]})]}),p.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:[p.jsx(au,{className:"h-4 w-4 text-amber-500"})," ",y.rating]})]}),p.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 text-xs",children:[p.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:y.level}),p.jsxs("span",{className:"px-2 py-1 rounded-full bg-indigo-50 text-indigo-700",children:[y.members," members"]}),y.private?p.jsxs("span",{className:"px-2 py-1 rounded-full bg-rose-50 text-rose-700 inline-flex items-center gap-1",children:[p.jsx(G5,{className:"h-3.5 w-3.5"})," Private"]}):p.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-50 text-emerald-700",children:"Open"})]}),p.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[p.jsxs("div",{className:"text-sm text-gray-600",children:["Openings: ",p.jsx("span",{className:"font-medium text-gray-900",children:y.openings})]}),p.jsx("button",{onClick:()=>f(y),className:"px-3 py-2 text-sm rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60",disabled:y.openings===0,children:y.private?"Request to join":"Join"})]})]},y.id))}),d.length===0&&p.jsx("div",{className:"text-center text-gray-500 mt-12",children:"No circles match your filters yet."})]})})},_3=[{id:"a1",type:"challenge",text:"Accepted Recursion via a story",time:"2h ago",meta:"Algorithms"},{id:"a2",type:"teachback",text:"Completed a teach-back for Aanya",time:"1d ago",meta:"Binary Search"},{id:"a3",type:"feedback",text:"Gave feedback to Meera (+15)",time:"2d ago",meta:"Sorting Visualized"},{id:"a4",type:"challenge",text:"Finished SQL joins explained",time:"3d ago",meta:"Databases"},{id:"a5",type:"teachback",text:"Teach-back scheduled with Kabir",time:"4d ago",meta:"Normalization"}],b3={challenge:"bg-indigo-50 text-indigo-700",teachback:"bg-emerald-50 text-emerald-700",feedback:"bg-amber-50 text-amber-700"},T3=t=>t==="challenge"?p.jsx(ws,{className:"h-4 w-4"}):t==="teachback"?p.jsx(Ja,{className:"h-4 w-4"}):t==="feedback"?p.jsx(cf,{className:"h-4 w-4"}):p.jsx(zr,{className:"h-4 w-4"}),E3=()=>{const[t,e]=D.useState("All"),[n,r]=D.useState(""),s={initial:{opacity:0,y:8},animate:{opacity:1,y:0}},a=D.useMemo(()=>_3.filter(l=>{const d=t==="All"||l.type===t,f=!n||l.text.toLowerCase().includes(n.toLowerCase())||l.meta.toLowerCase().includes(n.toLowerCase());return d&&f}),[t,n]);return p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[p.jsx(X.div,{...s,transition:{duration:.25},className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-8",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Recent activity"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Your learning timeline across challenges, teach-backs, and feedback."})]})}),p.jsx(X.div,{...s,transition:{duration:.25,delay:.05},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-6",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:items-center md:justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(q5,{className:"h-4 w-4"})," Filter"]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:["All","challenge","teachback","feedback"].map(l=>p.jsx("button",{onClick:()=>e(l),className:["px-3 py-1.5 rounded-lg text-sm border",t===l?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"].join(" "),children:l==="All"?"All":l[0].toUpperCase()+l.slice(1)},l))})]}),p.jsx("div",{className:"relative",children:p.jsx("input",{value:n,onChange:l=>r(l.target.value),placeholder:"Search your activity",className:"w-full md:w-72 px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300"})})]})}),p.jsxs(X.div,{...s,transition:{duration:.25,delay:.08},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[a.length===0?p.jsx("div",{className:"text-center text-gray-500 py-10",children:"No activity yet."}):p.jsx("ol",{className:"space-y-4",children:a.map((l,d)=>p.jsxs(X.li,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.22,delay:.03*d},className:"flex items-start gap-3",children:[p.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-indigo-500"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsxs("span",{className:["inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",b3[l.type]||"bg-gray-100 text-gray-700"].join(" "),children:[T3(l.type),l.type[0].toUpperCase()+l.type.slice(1)]}),p.jsxs("span",{className:"text-xs text-gray-500 inline-flex items-center gap-1",children:[p.jsx(zr,{className:"h-3.5 w-3.5"}),l.time]})]}),p.jsx("div",{className:"mt-1 text-sm text-gray-900",children:l.text}),p.jsx("div",{className:"text-xs text-gray-600",children:l.meta})]})]},l.id))}),p.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 text-xs text-gray-500 flex items-center gap-2",children:[p.jsx(Xy,{className:"h-4 w-4 text-emerald-600"}),"Activity auto-updates as you complete challenges and teach-backs."]})]})]})})},I3=[{id:"u1",name:"You",xp:1240,streak:7},{id:"u2",name:"Aanya",xp:1180,streak:6},{id:"u3",name:"Kabir",xp:980,streak:5},{id:"u4",name:"Meera",xp:760,streak:4},{id:"u5",name:"Ishaan",xp:640,streak:3},{id:"u6",name:"Riya",xp:540,streak:2},{id:"u7",name:"Dev",xp:520,streak:2}],xm={initial:{opacity:0,y:8},animate:{opacity:1,y:0}},S3=t=>t===1?"bg-yellow-100 text-yellow-800":t===2?"bg-gray-100 text-gray-700":t===3?"bg-amber-100 text-amber-800":"bg-indigo-50 text-indigo-700",k3=()=>{const[t,e]=D.useState("This week"),[n,r]=D.useState("xp"),[s,a]=D.useState("desc"),[l,d]=D.useState(""),f=D.useMemo(()=>{const y=I3.filter(w=>!l||w.name.toLowerCase().includes(l.toLowerCase())||String(w.xp).includes(l));return y.sort((w,b)=>{const E=w[n],k=b[n];return s==="asc"?E-k:k-E}),y},[n,s,l]),m=y=>{n===y?a(w=>w==="asc"?"desc":"asc"):(r(y),a("desc"))};return p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[p.jsxs(X.div,{...xm,transition:{duration:.25},className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-8",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"p-2 rounded-xl bg-indigo-50 text-indigo-600",children:p.jsx(Eo,{className:"h-5 w-5"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Circle leaderboard"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Track XP and streaks to see whos leading your learning circle."})]})]}),p.jsx("div",{className:"flex gap-2",children:["This week","This month","All time"].map(y=>p.jsx("button",{onClick:()=>e(y),className:["px-3 py-1.5 rounded-lg text-sm border",t===y?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"].join(" "),children:y},y))})]}),p.jsx(X.div,{...xm,transition:{duration:.25,delay:.05},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-6",children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Sort by"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>m("xp"),className:["px-3 py-1.5 rounded-lg text-sm border inline-flex items-center gap-1",n==="xp"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"].join(" "),children:["XP",n==="xp"?s==="desc"?p.jsx(ib,{className:"h-4 w-4"}):p.jsx(sb,{className:"h-4 w-4"}):null]}),p.jsxs("button",{onClick:()=>m("streak"),className:["px-3 py-1.5 rounded-lg text-sm border inline-flex items-center gap-1",n==="streak"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"].join(" "),children:["Streak",n==="streak"?s==="desc"?p.jsx(ib,{className:"h-4 w-4"}):p.jsx(sb,{className:"h-4 w-4"}):null]})]})]}),p.jsx("div",{className:"relative",children:p.jsx("input",{value:l,onChange:y=>d(y.target.value),placeholder:"Search name or XP",className:"w-full md:w-72 px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300"})})]})}),p.jsxs(X.div,{...xm,transition:{duration:.25,delay:.08},className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[p.jsx("div",{className:"px-5 py-4 border-b border-gray-100 flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[p.jsx(Q5,{className:"h-5 w-5 text-amber-500"}),p.jsx("span",{className:"font-semibold",children:"Leaderboard"}),p.jsxs("span",{className:"text-xs text-gray-500",children:["(",t,")"]})]})}),p.jsx("div",{className:"divide-y divide-gray-100",children:f.map((y,w)=>{const b=w+1,E=y.name.toLowerCase()==="you";return p.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.22,delay:.02*w},className:["px-5 py-3 flex items-center justify-between",E?"bg-indigo-50/40":"bg-white"].join(" "),children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:["h-8 w-8 rounded-full grid place-items-center text-xs font-bold",S3(b)].join(" "),children:b}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[y.name," ",E&&p.jsx("span",{className:"text-xs text-indigo-600",children:"(you)"})]}),p.jsxs("div",{className:"text-xs text-gray-500",children:["Streak: ",y.streak," days"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(au,{className:"h-4 w-4 text-yellow-500"}),p.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[y.xp," XP"]})]})]},y.id)})})]})]})})},Ld={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.28,ease:"easeOut"}}},wm=(t=0)=>({initial:{opacity:0,y:6},animate:{opacity:1,y:0,transition:{duration:.22,delay:.04*t}}}),pb=t=>t!=null&&t.toMillis?t.toMillis():((t==null?void 0:t.seconds)||0)*1e3,_m=(t,e="Something went wrong. Please try again.")=>{const n=(t==null?void 0:t.code)||"";return{"permission-denied":"You dont have permission to access this feedback.","not-found":"Feedback not found.",unavailable:"Service is temporarily unavailable. Please retry.","deadline-exceeded":"Request timed out. Please retry.","failed-precondition":"This query needs an index. Reload and click the 'Create index' link if prompted."}[n]||e},mb=[{id:"r1",from:"Kabir",title:"Your Teach-back: Binary Search",rating:5,when:"yesterday"},{id:"r2",from:"Riya",title:"Challenge: Data Modeling 101",rating:4,when:"2d ago"}],gb=[{id:"rq1",requester:"Dev",title:"Review my SQL joins explainer",when:"4h ago"}],yb=()=>{const{user:t}=wr(),e=an(),{id:n}=Sh(),r=t==null?void 0:t.uid,[s,a]=D.useState("toGive"),[l,d]=D.useState(""),[f,m]=D.useState([]),[y,w]=D.useState(null),[b,E]=D.useState(!0);D.useEffect(()=>{if(!r)return;E(!0),w(null);const se=fr(Tt(qe,"feedbackQueue"),pi("reviewerId","==",r),lo("createdAt","desc")),ge=Lr(se,ce=>{const Ce=ce.docs.map(Y=>{const fe=Y.data();return{id:Y.id,title:fe.title,learner:fe.learner||"",points:Number(fe.points||0),status:fe.status||"pending",createdAt:fe.createdAt}});m(Ce),w(null),E(!1)},ce=>{w(_m(ce,"Couldnt load your feedback queue.")),E(!1)});return()=>ge()},[r]);const k=D.useMemo(()=>{const se=s==="toGive"?f:s==="received"?mb:gb;if(!l.trim())return se;const ge=l.toLowerCase();return se.filter(ce=>Object.values(ce).some(Ce=>String(Ce).toLowerCase().includes(ge)))},[s,l,f]),[P,N]=D.useState(null),[B,$]=D.useState(null),[z,G]=D.useState(!1),[ie,Z]=D.useState(0),[V,I]=D.useState("");D.useEffect(()=>{(async()=>{if(N(null),$(null),Z(0),I(""),!!n)try{const ge=await nu(pn(qe,"feedbackQueue",n));if(!ge.exists()){$("Feedback not found.");return}const ce=ge.data();if(ce.reviewerId!==r){$("You dont have permission to view this feedback.");return}N({id:ge.id,...ce}),ce.rating&&Z(Number(ce.rating)),ce.comment&&I(String(ce.comment))}catch(ge){$(_m(ge))}})()},[n,r]);const R=()=>e("/dashboard"),A=()=>e("/feedback"),L=async()=>{if(P){G(!0);try{await Si(pn(qe,"feedbackQueue",P.id),{status:"completed",rating:Number(ie||0),comment:V||"",updatedAt:bt()}),await Dr(Tt(qe,"activity"),{userId:r,type:"feedback",text:`Gave feedback on ${P.title} for ${P.learner}`,createdAt:bt()}),A()}catch(se){$(_m(se,"Could not submit feedback."))}finally{G(!1)}}},M=()=>p.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(se=>p.jsx(X.button,{type:"button",onClick:()=>Z(se),className:`p-1 rounded hover:bg-yellow-100 ${ie>=se?"text-yellow-500":"text-gray-300"}`,title:`${se} star${se>1?"s":""}`,whileHover:{scale:1.06},whileTap:{scale:.96},children:p.jsx(au,{className:"h-5 w-5 fill-current"})},se))}),C={toGive:f.length,received:mb.length,requests:gb.length};return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[p.jsxs(X.div,{variants:Ld,initial:"hidden",animate:"visible",className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-8",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(X.button,{onClick:R,className:"p-2 rounded-lg border border-gray-200 bg-white text-gray-700 hover:bg-gray-100 hover:text-gray-900",whileHover:{scale:1.04},whileTap:{scale:.97},"aria-label":"Back to dashboard",title:"Back to dashboard",children:p.jsx(Xa,{className:"h-5 w-5"})}),p.jsx("div",{className:"p-2 rounded-xl bg-indigo-50 text-indigo-600",children:p.jsx(cf,{className:"h-5 w-5"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Feedback"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Strengthen the community by reviewing teach-backs and challenges."})]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsxs("div",{className:"px-3 py-2 rounded-lg bg-white border border-gray-100 text-center transition hover:-translate-y-0.5 hover:shadow-sm",children:[p.jsx("div",{className:"text-xs text-gray-500",children:"To give"}),p.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C.toGive})]}),p.jsxs("div",{className:"px-3 py-2 rounded-lg bg-white border border-gray-100 text-center transition hover:-translate-y-0.5 hover:shadow-sm",children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Received"}),p.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C.received})]}),p.jsxs("div",{className:"px-3 py-2 rounded-lg bg-white border border-gray-100 text-center transition hover:-translate-y-0.5 hover:shadow-sm",children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Requests"}),p.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C.requests})]})]})]}),y&&p.jsxs(X.div,{variants:Ld,initial:"hidden",animate:"visible",className:"mb-4 rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700 flex items-start gap-2",children:[p.jsx(_i,{className:"h-5 w-5 mt-0.5"}),p.jsx("span",{children:y})]}),p.jsx(X.div,{variants:Ld,initial:"hidden",animate:"visible",transition:{delay:.06},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-6",children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[p.jsx("div",{className:"inline-flex p-1 rounded-xl bg-gray-100",children:[{key:"toGive",label:"To give"},{key:"received",label:"Received"},{key:"requests",label:"Requests"}].map(se=>p.jsx(X.button,{onClick:()=>a(se.key),className:["px-3 py-1.5 rounded-lg text-sm",s===se.key?"bg-white border border-gray-200 text-gray-900":"text-gray-700 hover:text-gray-900"].join(" "),whileHover:{scale:1.03},whileTap:{scale:.98},children:se.label},se.key))}),p.jsxs("div",{className:"relative",children:[p.jsx(Zy,{className:"h-4 w-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),p.jsx("input",{value:l,onChange:se=>d(se.target.value),placeholder:"Search by title, name, points",className:"w-full md:w-80 pl-9 pr-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300"})]})]})}),p.jsx(X.div,{variants:Ld,initial:"hidden",animate:"visible",transition:{delay:.1},className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:p.jsxs("div",{className:"divide-y divide-gray-100",children:[s==="toGive"&&(b?p.jsx("div",{className:"px-5 py-10 text-center text-sm text-gray-500",children:"Loading"}):k.map((se,ge)=>p.jsxs(X.div,{...wm(ge),className:"px-5 py-4 flex items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:se.title}),p.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["For ",se.learner]}),p.jsxs("div",{className:"mt-2 text-xs inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-50 text-amber-700",children:[p.jsx(zr,{className:"h-3.5 w-3.5"})," ",new Date(pb(se.createdAt)).toLocaleString()]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"text-sm text-gray-600",children:["+",se.points," XP"]}),p.jsx(X.div,{whileHover:{scale:1.03},whileTap:{scale:.98},children:p.jsxs(sn,{to:`/feedback/${se.id}`,className:"px-3 py-2 text-sm rounded-lg bg-indigo-600 text-white hover:bg-indigo-800 inline-flex items-center gap-1 transition",children:[se.status==="completed"?"Review again":"Give feedback"," ",p.jsx(Vr,{className:"h-4 w-4"})]})})]})]},se.id))),s==="received"&&k.map((se,ge)=>p.jsxs(X.div,{...wm(ge),className:"px-5 py-4 flex items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:se.title}),p.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["From ",se.from,"  ",se.when]}),p.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 text-emerald-700 bg-emerald-50 px-2 py-1 rounded-full text-xs",children:[p.jsx(K5,{className:"h-3.5 w-3.5"})," Rated ",se.rating,"/5"]})]}),p.jsx("div",{className:"text-emerald-600",children:p.jsx(Xy,{className:"h-5 w-5"})})]},se.id)),s==="requests"&&k.map((se,ge)=>p.jsxs(X.div,{...wm(ge),className:"px-5 py-4 flex items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:se.title}),p.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Requested by ",se.requester,"  ",se.when]})]}),p.jsx(X.div,{whileHover:{scale:1.03},whileTap:{scale:.98},children:p.jsxs(sn,{to:`/feedback/${se.id}`,className:"px-3 py-2 text-sm rounded-lg border border-gray-200 hover:bg-gray-100 inline-flex items-center gap-1 transition",children:["Review ",p.jsx(Vr,{className:"h-4 w-4"})]})})]},se.id)),k.length===0&&!b&&p.jsx("div",{className:"px-5 py-10 text-center text-sm text-gray-500",children:"Nothing here yet."})]})})]}),n&&p.jsxs("div",{className:"fixed inset-0 z-40",children:[p.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-[1px]",onClick:A}),p.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},className:"absolute right-0 top-0 h-full w-full sm:w-[520px] bg-white shadow-xl border-l border-gray-200",children:[p.jsxs("div",{className:"p-5 border-b border-gray-100 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(X.button,{onClick:A,className:"p-2 rounded-lg hover:bg-gray-100 transition","aria-label":"Back",title:"Back",whileHover:{scale:1.05},whileTap:{scale:.96},children:p.jsx(Xa,{className:"h-5 w-5 text-gray-700"})}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Give feedback"})]}),p.jsx(X.button,{onClick:R,className:"px-3 py-1.5 text-xs rounded-lg border border-gray-200 bg-white text-gray-700 hover:bg-gray-100",whileHover:{scale:1.04},whileTap:{scale:.97},title:"Go to dashboard",children:"Dashboard"})]}),p.jsxs("div",{className:"p-5 overflow-y-auto h-[calc(100%-64px)]",children:[B&&p.jsxs("div",{className:"mb-4 rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700 flex items-start gap-2",children:[p.jsx(_i,{className:"h-5 w-5 mt-0.5"}),p.jsx("span",{children:B})]}),!P&&!B&&p.jsx("div",{className:"text-sm text-gray-500",children:"Loading"}),P&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"mb-5",children:[p.jsx("div",{className:"text-xs text-gray-500",children:"For"}),p.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.learner||""})]}),p.jsxs("div",{className:"mb-5",children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Title"}),p.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.title})]}),p.jsxs("div",{className:"mb-5 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Requested on"}),p.jsx("div",{className:"text-sm text-gray-800",children:new Date(pb(P.createdAt)).toLocaleString()})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:["+",Number(P.points||0)," XP"]})]}),p.jsxs("div",{className:"mb-5",children:[p.jsx("div",{className:"text-sm font-medium text-gray-800 mb-1",children:"Rating"}),M()]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("div",{className:"text-sm font-medium text-gray-800 mb-1",children:"Comments"}),p.jsx("textarea",{rows:6,value:V,onChange:se=>I(se.target.value),placeholder:"What did they do well? What can be improved? Be specific and constructive.",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none border-gray-300"})]}),p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx(X.button,{onClick:A,className:"px-4 py-2 rounded-lg border border-gray-200 hover:bg-gray-100 transition",disabled:z,whileHover:{scale:1.03},whileTap:{scale:.98},children:"Cancel"}),p.jsx(X.button,{onClick:L,disabled:z,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-800 disabled:opacity-60 transition",whileHover:{scale:1.03},whileTap:{scale:.98},children:z?"Submitting":"Submit feedback"})]})]})]})]})]})]})},C3={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{duration:.28,ease:"easeOut",when:"beforeChildren",staggerChildren:.06}}},Sa={hidden:{opacity:0,y:6},visible:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},A3=()=>{const{id:t}=Sh(),{user:e}=wr(),n=an(),[r,s]=D.useState(null),[a,l]=D.useState(""),[d,f]=D.useState(null),[m,y]=D.useState(!1);D.useEffect(()=>{(async()=>{try{const k=await nu(pn(qe,"challenges",t));if(!k.exists()){f("Challenge not found");return}s({id:k.id,...k.data()})}catch{f("Failed to load challenge.")}})()},[t]);const w=async k=>{try{await Dr(Tt(qe,"activity"),{userId:e.uid,text:k,type:"challenge",createdAt:bt()})}catch{}},b=async()=>{if(r){y(!0);try{await Si(pn(qe,"challenges",r.id),{notes:a||"",status:"in_progress",updatedAt:bt()}),await w(`Saved progress on "${r.title}"`)}catch{f("Could not save progress.")}finally{y(!1)}}},E=async()=>{if(r){y(!0);try{await Si(pn(qe,"challenges",r.id),{status:"completed",updatedAt:bt()}),await w(`Completed "${r.title}"`),n("/dashboard")}catch{f("Could not mark complete.")}finally{y(!1)}}};return d?p.jsx("div",{className:"max-w-3xl mx-auto p-6",children:p.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-4 flex gap-2 items-start",children:[p.jsx(_i,{className:"h-5 w-5 mt-0.5"}),p.jsx("div",{children:d})]})}):r?p.jsx("main",{className:"min-h-[calc(100vh-60px)] bg-gray-50 px-6 md:px-12 py-10",children:p.jsxs(X.div,{variants:C3,initial:"hidden",animate:"visible",className:"max-w-3xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8 transition-all duration-200 hover:-translate-y-1 hover:shadow-lg hover:border-indigo-200/70",children:[p.jsxs(X.button,{variants:Sa,type:"button",onClick:()=>n("/dashboard"),className:"inline-flex items-center gap-2 text-sm text-gray-700 mb-4 px-2 py-1 rounded-md hover:text-indigo-700 hover:bg-indigo-50 transition-colors",whileHover:{x:-2},whileTap:{scale:.98},children:[p.jsx(Xa,{className:"h-4 w-4"}),"Back"]}),p.jsxs(X.h1,{variants:Sa,className:"text-2xl font-bold text-gray-900",children:["Work on: ",r.title]}),p.jsxs(X.p,{variants:Sa,className:"text-gray-600 mt-1",children:["Topic: ",r.topic,"  Level: ",r.level]}),r.prompt&&p.jsxs(X.div,{variants:Sa,className:"mt-4 p-4 rounded-lg bg-indigo-50 text-indigo-900 border border-indigo-100 hover:border-indigo-200 transition-colors",children:[p.jsx("div",{className:"font-medium",children:"Prompt"}),p.jsx("div",{className:"text-sm mt-1",children:r.prompt})]}),p.jsxs(X.div,{variants:Sa,className:"mt-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your working notes / draft (optional)"}),p.jsx("textarea",{rows:8,value:a,onChange:k=>l(k.target.value),placeholder:"Summarize your explanation, paste links, outline your teach-back...",className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-600 outline-none border-gray-300 transition-all hover:border-indigo-300"})]}),p.jsxs(X.div,{variants:Sa,className:"flex items-center justify-end gap-3 mt-6",children:[p.jsx(X.button,{onClick:b,disabled:m,className:"px-4 py-2 rounded-lg border border-gray-200 hover:bg-gray-100 hover:border-gray-300 disabled:opacity-60 transition-colors shadow-sm hover:shadow-md",whileHover:{scale:1.04},whileTap:{scale:.98},children:"Save progress"}),p.jsx(X.button,{onClick:E,disabled:m,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60 transition-colors shadow-sm hover:shadow-md",whileHover:{scale:1.04},whileTap:{scale:.98},children:"Mark complete"})]})]})}):p.jsx("div",{className:"max-w-3xl mx-auto p-6",children:"Loading"})},P3={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{duration:.28,ease:"easeOut",when:"beforeChildren",staggerChildren:.06}}},uc={hidden:{opacity:0,y:6},visible:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},N3=()=>{const{id:t}=Sh(),{user:e}=wr(),n=an(),[r,s]=D.useState(null),[a,l]=D.useState(""),[d,f]=D.useState(null),[m,y]=D.useState(!1);D.useEffect(()=>{(async()=>{try{const k=await nu(pn(qe,"teachbacks",t));if(!k.exists()){f("Teach-back not found");return}s({id:k.id,...k.data()})}catch{f("Failed to load teach-back.")}})()},[t]);const w=async k=>{try{await Dr(Tt(qe,"activity"),{userId:e.uid,text:k,type:"teachback",createdAt:bt()})}catch{}},b=async()=>{if(r){y(!0);try{await Si(pn(qe,"teachbacks",r.id),{notes:a||"",status:"in_progress",updatedAt:bt()}),await w(`Saved teach-back "${r.prompt}"`)}catch{f("Could not save progress.")}finally{y(!1)}}},E=async()=>{if(r){y(!0);try{await Si(pn(qe,"teachbacks",r.id),{status:"completed",updatedAt:bt()}),await w(`Completed teach-back "${r.prompt}"`),n("/dashboard")}catch{f("Could not mark complete.")}finally{y(!1)}}};return d?p.jsx("div",{className:"max-w-3xl mx-auto p-6",children:p.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-4 flex gap-2 items-start",children:[p.jsx(_i,{className:"h-5 w-5 mt-0.5"}),p.jsx("div",{children:d})]})}):r?p.jsx("main",{className:"min-h-[calc(100vh-60px)] bg-gray-50 px-6 md:px-12 py-10",children:p.jsxs(X.div,{variants:P3,initial:"hidden",animate:"visible",className:"max-w-3xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8 transition-all duration-200 hover:-translate-y-1 hover:shadow-lg hover:border-indigo-200/70",children:[p.jsxs(X.button,{variants:uc,type:"button",onClick:()=>n("/dashboard"),className:"inline-flex items-center gap-2 text-sm text-gray-700 mb-4 px-2 py-1 rounded-md hover:text-indigo-700 hover:bg-indigo-50 transition-colors",whileHover:{x:-2},whileTap:{scale:.98},children:[p.jsx(Xa,{className:"h-4 w-4"}),"Back"]}),p.jsxs(X.h1,{variants:uc,className:"text-2xl font-bold text-gray-900",children:["Teach-back: ",r.prompt]}),p.jsxs(X.p,{variants:uc,className:"text-gray-600 mt-1",children:["Requested by ",r.requester||""]}),p.jsxs(X.div,{variants:uc,className:"mt-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your notes / draft (optional)"}),p.jsx("textarea",{rows:8,value:a,onChange:k=>l(k.target.value),placeholder:"Outline how you will teach back this concept",className:"w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-600 outline-none border-gray-300 transition-all hover:border-indigo-300"})]}),p.jsxs(X.div,{variants:uc,className:"flex items-center justify-end gap-3 mt-6",children:[p.jsx(X.button,{onClick:b,disabled:m,className:"px-4 py-2 rounded-lg border border-gray-200 hover:bg-gray-100 hover:border-gray-300 disabled:opacity-60 transition-colors shadow-sm hover:shadow-md",whileHover:{scale:1.04},whileTap:{scale:.98},children:"Save progress"}),p.jsx(X.button,{onClick:E,disabled:m,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60 transition-colors shadow-sm hover:shadow-md",whileHover:{scale:1.04},whileTap:{scale:.98},children:"Mark complete"})]})]})}):p.jsx("div",{className:"max-w-3xl mx-auto p-6",children:"Loading"})};function R3(){const{id:t}=Sh(),e=an();return D.useEffect(()=>{t&&e(`/challenges/${t}/work`,{replace:!0})},[t,e]),null}const j3={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.28,ease:"easeOut"}}},V3={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{when:"beforeChildren",staggerChildren:.06}}},D3={hidden:{opacity:0,y:6},visible:{opacity:1,y:0,transition:{duration:.22,ease:"easeOut"}}},bm=t=>t!=null&&t.toMillis?t.toMillis():((t==null?void 0:t.seconds)||0)*1e3,L3=t=>Math.max(0,Math.ceil((t-Date.now())/(1e3*60*60*24))),M3=()=>{const{user:t}=wr(),e=t==null?void 0:t.uid,n=an(),[r,s]=D.useState([]),[a,l]=D.useState(null),[d,f]=D.useState(!0);D.useEffect(()=>{if(!e)return;f(!0),l(null);const y=fr(Tt(qe,"teachbacks"),pi("assigneeId","==",e)),w=Lr(y,b=>{const E=b.docs.map(k=>({id:k.id,...k.data()}));E.sort((k,P)=>{const N=bm(k.dueTs),B=bm(P.dueTs);return N-B}),s(E),f(!1)},b=>{l("Couldnt load teach-backs."),f(!1)});return()=>w()},[e]);const m=async y=>{try{y.status==="pending"&&await Si(pn(qe,"teachbacks",y.id),{status:"in_progress",updatedAt:bt()}),n(`/teachbacks/${y.id}/work`)}catch{l("Couldnt open this teach-back. Please try again.")}};return p.jsx("main",{className:"min-h-[calc(100vh-60px)] bg-gray-50 px-6 md:px-12 py-10",children:p.jsxs(X.div,{variants:j3,initial:"hidden",animate:"visible",className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-indigo-50 text-indigo-600",children:p.jsx(Ja,{className:"h-5 w-5"})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your teach-backs"})]}),p.jsx(X.button,{onClick:()=>n("/dashboard"),className:"px-3 py-2 text-sm rounded-lg border border-gray-200 bg-white hover:bg-gray-100 text-gray-700",whileHover:{scale:1.03},whileTap:{scale:.98},children:"Back"})]}),a&&p.jsxs("div",{className:"mb-4 rounded-lg bg-red-50 text-red-700 border border-red-200 p-3 text-sm flex items-start gap-2",children:[p.jsx(_i,{className:"h-5 w-5 mt-0.5"}),p.jsx("div",{children:a})]}),p.jsx(X.div,{variants:V3,initial:"hidden",animate:"visible",className:"space-y-3",children:r.map(y=>p.jsxs(X.div,{variants:D3,className:"p-4 rounded-xl border border-gray-100 hover:border-indigo-200/70 hover:shadow-md hover:-translate-y-0.5 transition flex items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:y.prompt||"Untitled"}),p.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Requested by ",y.requester||""]}),p.jsxs("div",{className:"mt-2 text-xs inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-50 text-amber-700",children:[p.jsx(zr,{className:"h-3.5 w-3.5"})," Due in ",L3(bm(y.dueTs)),"d"]})]}),p.jsx(X.button,{onClick:()=>m(y),className:"px-3 py-2 text-sm rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",whileHover:{scale:1.03},whileTap:{scale:.98},children:y.status==="in_progress"?"Continue":"Start"})]},y.id))}),!a&&!d&&r.length===0&&p.jsx("div",{className:"mt-6 text-sm text-gray-500",children:"No teach-backs assigned right now."}),d&&p.jsx("div",{className:"mt-6 text-sm text-gray-500",children:"Loading"})]})})},O3={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.28,ease:"easeOut"}}},vb={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{when:"beforeChildren",staggerChildren:.06}}},xb={hidden:{opacity:0,y:6},visible:{opacity:1,y:0,transition:{duration:.22,ease:"easeOut"}}},ka=t=>t!=null&&t.toMillis?t.toMillis():((t==null?void 0:t.seconds)||0)*1e3,Tm=(t,e="Something went wrong. Please try again.")=>{const n=(t==null?void 0:t.code)||"";return{"permission-denied":"You dont have permission to access this data.","not-found":"Data not found.",unavailable:"Service is temporarily unavailable. Please retry.","deadline-exceeded":"Request timed out. Please retry.","resource-exhausted":"Quota exceeded. Please try again later.","invalid-argument":"Invalid request. Please reload and try again.","failed-precondition":"This query needs an index. Reload and click the 'Create index' link if prompted."}[n]||e},F3=({value:t=0,size:e=88,stroke:n=10,label:r=""})=>{const s=Math.max(0,Math.min(100,t)),a=`conic-gradient(#4f46e5 ${s*3.6}deg, #e5e7eb ${s*3.6}deg)`;return p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"rounded-full grid place-items-center",style:{width:e,height:e,background:a},"aria-label":`progress ${s}%`,children:p.jsx("div",{className:"bg-white rounded-full grid place-items-center",style:{width:e-n*2,height:e-n*2},children:p.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s,"%"]})})}),r?p.jsx("div",{className:"mt-2 text-xs text-gray-500",children:r}):null]})},Em=({children:t,className:e=""})=>p.jsx("div",{className:`bg-white rounded-2xl shadow-sm border border-gray-100 ${e}`,children:t}),Im=({title:t,icon:e,action:n})=>p.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-indigo-50 text-indigo-600",children:e}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),n?p.jsx("div",{className:"text-sm",children:n}):null]}),Sm=({children:t,className:e=""})=>p.jsx("div",{className:`p-5 ${e}`,children:t}),U3=()=>{var P,N;const{user:t}=wr(),e=an(),n=t==null?void 0:t.uid,[r,s]=D.useState({xp:0,streak:0,badges:[]}),[a,l]=D.useState([]),[d,f]=D.useState([]),[m,y]=D.useState({profile:null,ch:null,tb:null}),[w,b]=D.useState(!0);D.useEffect(()=>{if(!n)return;b(!0),y({profile:null,ch:null,tb:null});const B=[];(async()=>{var z,G;try{const ie=await nu(pn(qe,"profiles",n));if(ie.exists()){const Z=ie.data();s({xp:Number((Z==null?void 0:Z.xp)||0),streak:Number((Z==null?void 0:Z.streak)||0),badges:Array.isArray(Z==null?void 0:Z.badges)?Z.badges:[],displayName:(Z==null?void 0:Z.displayName)||(t==null?void 0:t.displayName)||((z=t==null?void 0:t.email)==null?void 0:z.split("@")[0]),photoURL:(Z==null?void 0:Z.photoURL)||(t==null?void 0:t.photoURL),email:t==null?void 0:t.email})}else s({xp:0,streak:0,badges:[],displayName:(t==null?void 0:t.displayName)||((G=t==null?void 0:t.email)==null?void 0:G.split("@")[0])||"You",photoURL:t==null?void 0:t.photoURL,email:t==null?void 0:t.email})}catch(ie){y(Z=>({...Z,profile:Tm(ie,"Couldnt load profile.")}))}})();{const z=fr(Tt(qe,"challenges"),pi("ownerId","==",n));B.push(Lr(z,G=>{const ie=G.docs.map(Z=>({id:Z.id,...Z.data()})).filter(Z=>Z.status==="completed").sort((Z,V)=>ka(V.updatedAt)-ka(Z.updatedAt));l(ie),y(Z=>({...Z,ch:null}))},G=>y(ie=>({...ie,ch:Tm(G,"Couldnt load challenges.")}))))}{const z=fr(Tt(qe,"teachbacks"),pi("assigneeId","==",n));B.push(Lr(z,G=>{const ie=G.docs.map(Z=>({id:Z.id,...Z.data()})).filter(Z=>Z.status==="completed").sort((Z,V)=>ka(V.updatedAt)-ka(Z.updatedAt));f(ie),y(Z=>({...Z,tb:null}))},G=>y(ie=>({...ie,tb:Tm(G,"Couldnt load teach-backs.")}))))}const $=setTimeout(()=>b(!1),350);return()=>{B.forEach(z=>z&&z()),clearTimeout($)}},[n]);const E=D.useMemo(()=>Math.floor(((r==null?void 0:r.xp)||0)/500)+1,[r==null?void 0:r.xp]),k=D.useMemo(()=>Math.round(((r==null?void 0:r.xp)||0)%500/500*100),[r==null?void 0:r.xp]);return p.jsx("main",{className:"min-h-[calc(100vh-60px)] bg-gray-50 px-6 md:px-12 py-10",children:p.jsxs(X.div,{variants:O3,initial:"hidden",animate:"visible",className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-indigo-50 text-indigo-600",children:p.jsx(Y5,{className:"h-5 w-5"})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your portfolio"})]}),p.jsx(X.button,{onClick:()=>e("/dashboard"),className:"px-3 py-2 text-sm rounded-lg border border-gray-200 bg-white text-gray-700 hover:bg-gray-100",whileHover:{scale:1.03},whileTap:{scale:.98},children:"Back"})]}),p.jsxs(Em,{className:"mb-6 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(Im,{title:"Profile summary",icon:p.jsx(lf,{className:"h-5 w-5"})}),p.jsxs(Sm,{children:[m.profile&&p.jsxs("div",{className:"mb-3 text-sm text-red-600 flex items-start gap-2",children:[p.jsx(_i,{className:"h-5 w-5 mt-0.5"}),p.jsx("span",{children:m.profile})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[r.photoURL?p.jsx("img",{src:r.photoURL,alt:"Avatar",className:"h-14 w-14 rounded-full object-cover border border-gray-200",referrerPolicy:"no-referrer"}):p.jsx("div",{className:"h-14 w-14 rounded-full grid place-items-center bg-indigo-50 text-indigo-700 font-bold border border-gray-200",children:(((P=r.displayName)==null?void 0:P[0])||((N=r.email)==null?void 0:N[0])||"U").toUpperCase()}),p.jsxs("div",{children:[p.jsx("div",{className:"text-lg font-semibold text-gray-900",children:r.displayName}),p.jsx("div",{className:"text-sm text-gray-600",children:r.email})]})]}),p.jsxs("div",{className:"flex items-center justify-evenly",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Level"}),p.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["Lv. ",E]})]}),p.jsx(F3,{value:k,label:`${((r==null?void 0:r.xp)||0)%500} / 500 XP`}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Streak"}),p.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[r.streak,"d"]})]})]})]}),p.jsxs("div",{className:"mt-6",children:[p.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Badges"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:(r.badges||[]).length?r.badges.map((B,$)=>p.jsx("span",{className:"px-2.5 py-1.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-700",children:B},`${B}-${$}`)):p.jsx("span",{className:"text-xs text-gray-500",children:"No badges yet"})})]})]})]}),p.jsxs(Em,{className:"mb-6 transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(Im,{title:"Completed challenges",icon:p.jsx(ws,{className:"h-5 w-5"}),action:p.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",a.length]})}),p.jsxs(Sm,{children:[m.ch&&p.jsxs("div",{className:"mb-2 text-sm text-red-600 flex items-start gap-2",children:[p.jsx(_i,{className:"h-5 w-5 mt-0.5"}),p.jsx("span",{children:m.ch})]}),p.jsx(X.div,{variants:vb,initial:"hidden",animate:"visible",className:"space-y-3",children:a.map(B=>p.jsxs(X.div,{variants:xb,className:"p-4 rounded-xl border border-gray-100 hover:border-indigo-200/70 hover:shadow-md hover:-translate-y-0.5 transition flex items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:B.title}),p.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs",children:[p.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:B.topic}),p.jsx("span",{className:"px-2 py-1 rounded-full bg-indigo-50 text-indigo-700",children:B.level}),p.jsxs("span",{className:"px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 inline-flex items-center gap-1",children:[p.jsx(au,{className:"h-3.5 w-3.5"}),"Completed"]})]})]}),p.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[p.jsx(zr,{className:"h-3.5 w-3.5"}),new Date(ka(B.updatedAt||B.createdAt)).toLocaleString()]})]},B.id))}),!m.ch&&!w&&a.length===0&&p.jsx("div",{className:"text-sm text-gray-500",children:"You havent completed any challenges yet."})]})]}),p.jsxs(Em,{className:"transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-indigo-200/70",children:[p.jsx(Im,{title:"Completed teach-backs",icon:p.jsx(Ja,{className:"h-5 w-5"}),action:p.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",d.length]})}),p.jsxs(Sm,{children:[m.tb&&p.jsxs("div",{className:"mb-2 text-sm text-red-600 flex items-start gap-2",children:[p.jsx(_i,{className:"h-5 w-5 mt-0.5"}),p.jsx("span",{children:m.tb})]}),p.jsx(X.div,{variants:vb,initial:"hidden",animate:"visible",className:"space-y-3",children:d.map(B=>p.jsxs(X.div,{variants:xb,className:"p-4 rounded-xl border border-gray-100 hover:border-indigo-200/70 hover:shadow-md hover:-translate-y-0.5 transition flex items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:B.prompt}),p.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Requested by ",B.requester||""]}),p.jsxs("div",{className:"mt-2 text-xs inline-flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-50 text-emerald-700",children:[p.jsx(QI,{className:"h-3.5 w-3.5"})," Completed"]})]}),p.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[p.jsx(zr,{className:"h-3.5 w-3.5"}),new Date(ka(B.updatedAt||B.createdAt)).toLocaleString()]})]},B.id))}),!m.tb&&!w&&d.length===0&&p.jsx("div",{className:"text-sm text-gray-500",children:"No completed teach-backs yet."})]})]})]})})},B3=()=>p.jsxs(p.Fragment,{children:[p.jsx(VD,{}),p.jsxs(Zk,{children:[p.jsx(wt,{path:"/",element:p.jsx(B5,{})}),p.jsx(wt,{path:"/about",element:p.jsx(X5,{})}),p.jsx(wt,{path:"/explore",element:p.jsx(i3,{})}),p.jsx(wt,{path:"/contact",element:p.jsx(J5,{})}),p.jsx(wt,{path:"/login",element:p.jsx(e3,{})}),p.jsx(wt,{path:"/signup",element:p.jsx(n3,{})}),p.jsx(wt,{path:"/challenges",element:p.jsx(m3,{})}),p.jsx(wt,{path:"/leaderboard",element:p.jsx(k3,{})}),p.jsx(wt,{path:"/teachbacks",element:p.jsx(hr,{children:p.jsx(M3,{})})}),p.jsx(wt,{path:"/challenges/create",element:p.jsx(hr,{children:p.jsx(v3,{})})}),p.jsx(wt,{path:"/community",element:p.jsx(s3,{})}),p.jsx(wt,{path:"/dashboard",element:p.jsx(hr,{children:p.jsx(c3,{})})}),p.jsx(wt,{path:"/circles",element:p.jsx(hr,{children:p.jsx(w3,{})})}),p.jsx(wt,{path:"/activity",element:p.jsx(hr,{children:p.jsx(E3,{})})}),p.jsx(wt,{path:"/feedback",element:p.jsx(hr,{children:p.jsx(yb,{})})}),p.jsx(wt,{path:"/feedback/:id",element:p.jsx(hr,{children:p.jsx(yb,{})})}),p.jsx(wt,{path:"/challenges/:id",element:p.jsx(hr,{children:p.jsx(R3,{})})}),p.jsx(wt,{path:"/challenges/:id/work",element:p.jsx(hr,{children:p.jsx(A3,{})})}),p.jsx(wt,{path:"/teachbacks/:id/work",element:p.jsx(hr,{children:p.jsx(N3,{})})}),p.jsx(wt,{path:"/portfolio",element:p.jsx(hr,{children:p.jsx(U3,{})})})]})]});ck.createRoot(document.getElementById("root")).render(p.jsx(D.StrictMode,{children:p.jsx(aC,{children:p.jsx(jD,{children:p.jsx(B3,{})})})}));
